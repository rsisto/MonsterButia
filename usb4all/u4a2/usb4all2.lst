MP2COD 4.22, COFF to COD File Converter
Copyright (c) 2008 Microchip Technology Inc.
Listing File Generated: Mon Aug  2 18:50:56 2010


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
000000   ef38     GOTO      0x2c70         _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
000002   f016                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
000004   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
002c70   ee13     LFSR      0x1,0x300          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
002c72   f000                                                                                                               
002c74   ee23     LFSR      0x2,0x300          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
002c76   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
002c78   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
002c7a   9c0a     BCF       0xa,0x6,0x0        bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
002c7c   ecc2     CALL      0x2b84,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
002c7e   f015                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
002c80   ec4d     CALL      0x2c9a,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
002c82   f016                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
002c84   ecf0     CALL      0x15e0,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
002c86   f00a                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
002c88   d7fb     BRA       0x2c80           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
002c8a   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
002b84   0e00     MOVLW     0x0              TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
002b86   6ef6     MOVWF     0xf6,0x0                                                                                        
002b88   0e0d     MOVLW     0xd                                                                                             
002b8a   6ef7     MOVWF     0xf7,0x0                                                                                        
002b8c   0e00     MOVLW     0x0                                                                                             
002b8e   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
002b90   0101     MOVLB     0x1                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
002b92   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
002b94   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
002b96   6f6d     MOVWF     0x6d,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
002b98   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
002b9a   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
002b9c   6f6e     MOVWF     0x6e,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
002b9e   e103     BNZ       0x2ba6              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
002ba0   676d     TSTFSZ    0x6d,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
002ba2   d001     BRA       0x2ba6             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
002ba4   d03d     BRA       0x2c20             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
002ba6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002ba8   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002baa   6f68     MOVWF     0x68,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
002bac   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bae   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002bb0   6f69     MOVWF     0x69,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
002bb2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bb4   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002bb6   6f6a     MOVWF     0x6a,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
002bb8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
002bba   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bbc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002bbe   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
002bc0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bc2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002bc4   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
002bc6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bc8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
002bca   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bcc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002bce   6f6b     MOVWF     0x6b,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
002bd0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bd2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002bd4   6f6c     MOVWF     0x6c,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
002bd6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bd8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
002bda   cff6     MOVFF     0xff6,0x16f          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
002bdc   f16f                                                                                                               
002bde   cff7     MOVFF     0xff7,0x170                                                                                     
002be0   f170                                                                                                               
002be2   cff8     MOVFF     0xff8,0x171                                                                                     
002be4   f171                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
002be6   c168     MOVFF     0x168,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
002be8   fff6                                                                                                               
002bea   c169     MOVFF     0x169,0xff7                                                                                     
002bec   fff7                                                                                                               
002bee   c16a     MOVFF     0x16a,0xff8                                                                                     
002bf0   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
002bf2   0101     MOVLB     0x1            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
002bf4   536b     MOVF      0x6b,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
002bf6   e102     BNZ       0x2bfc         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
002bf8   536c     MOVF      0x6c,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
002bfa   e007     BZ        0x2c0a         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
002bfc   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
002bfe   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
002c00   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
002c02   076b     DECF      0x6b,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
002c04   e2f8     BC        0x2bf6         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
002c06   076c     DECF      0x6c,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
002c08   d7f9     BRA       0x2bfc         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
002c0a   c16f     MOVFF     0x16f,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
002c0c   fff6                                                                                                               
002c0e   c170     MOVFF     0x170,0xff7                                                                                     
002c10   fff7                                                                                                               
002c12   c171     MOVFF     0x171,0xff8                                                                                     
002c14   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
002c16   0101     MOVLB     0x1                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
002c18   076d     DECF      0x6d,0x1,0x1                                                                                    
002c1a   0e00     MOVLW     0x0                                                                                             
002c1c   5b6e     SUBWFB    0x6e,0x1,0x1                                                                                    
002c1e   d7bf     BRA       0x2b9e               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
002c20   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\user\adminModule.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\user\adminModule.c
                                            * Andres Aguirre	   27/03/07 	Original                                          Z:\home\andres\u4a2\user\adminModule.c
                                            * Andres Aguirre 	   18/04/09     Se agrega el RESET                            Z:\home\andres\u4a2\user\adminModule.c
                                            ********************************************************************/           Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           #include "user\adminModule.h"                                                    Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\adminModule.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\adminModule.c
                                           //AM_PACKET adminDataPacket;                                                     Z:\home\andres\u4a2\user\adminModule.c
                                           byte* sendBufferAdmin;                                                           Z:\home\andres\u4a2\user\adminModule.c
                                           byte adminHandler;                                                               Z:\home\andres\u4a2\user\adminModule.c
                                           word counter_big;                                                                Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\adminModule.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           void adminModuleInit(void){                                                      Z:\home\andres\u4a2\user\adminModule.c
                                           	//inicializacion del sistema                                                    Z:\home\andres\u4a2\user\adminModule.c
000d3e   0101     MOVLB     0x1            	adminHandler=0; //hardcore, el admin siempre atiende el handler 0               Z:\home\andres\u4a2\user\adminModule.c
000d40   6b82     CLRF      0x82,0x1                                                                                        
                                           	//agrego mi buffer en el handler module	                                        Z:\home\andres\u4a2\user\adminModule.c
                                           	//setHandlerReceiveBuffer(adminHandler, (byte*)&adminDataPacket);               Z:\home\andres\u4a2\user\adminModule.c
                                           	//agrego mi funcion de Receive en el handler module                             Z:\home\andres\u4a2\user\adminModule.c
000d42   0e6c     MOVLW     0x6c           	setHandlerReceiveFunction(adminHandler,&adminReceived);                         Z:\home\andres\u4a2\user\adminModule.c
000d44   6ee6     MOVWF     0xe6,0x0                                                                                        
000d46   0e0d     MOVLW     0xd                                                                                             
000d48   6ee6     MOVWF     0xe6,0x0                                                                                        
000d4a   c182     MOVFF     0x182,0xfe6                                                                                     
000d4c   ffe6                                                                                                               
000d4e   ec67     CALL      0x24ce,0x0                                                                                      
000d50   f012                                                                                                               
000d52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000d54   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000d56   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	//No hay funcion de pooling para modulo admin                                   Z:\home\andres\u4a2\user\adminModule.c
                                           	//res = addPollingFunction(&ProcessIO);                                         Z:\home\andres\u4a2\user\adminModule.c
000d58   c182     MOVFF     0x182,0xfe6    	sendBufferAdmin = getSharedBuffer(adminHandler);                                Z:\home\andres\u4a2\user\adminModule.c
000d5a   ffe6                                                                                                               
000d5c   ece4     CALL      0x29c8,0x0                                                                                      
000d5e   f014                                                                                                               
000d60   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000d62   cff3     MOVFF     0xff3,0x180                                                                                     
000d64   f180                                                                                                               
000d66   cff4     MOVFF     0xff4,0x181                                                                                     
000d68   f181                                                                                                               
000d6a   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
000d6c   cfd9     MOVFF     0xfd9,0xfe6    void adminReceived(byte* recBuffPtr,byte len){                                   Z:\home\andres\u4a2\user\adminModule.c
000d6e   ffe6                                                                                                               
000d70   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000d72   ffd9                                                                                                               
000d74   0e16     MOVLW     0x16                                                                                            
000d76   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	byte adminCounter;                                                              Z:\home\andres\u4a2\user\adminModule.c
000d78   52de     MOVF      0xde,0x1,0x0   	byte endIn = nullEP, endOut = nullEP;                                           Z:\home\andres\u4a2\user\adminModule.c
000d7a   0e11     MOVLW     0x11                                                                                            
000d7c   6edd     MOVWF     0xdd,0x0                                                                                        
000d7e   0e11     MOVLW     0x11                                                                                            
000d80   6ef3     MOVWF     0xf3,0x0                                                                                        
000d82   0e02     MOVLW     0x2                                                                                             
000d84   cff3     MOVFF     0xff3,0xfdb                                                                                     
000d86   ffdb                                                                                                               
000d88   0e03     MOVLW     0x3            	byte userTableSize = 0;                                                         Z:\home\andres\u4a2\user\adminModule.c
000d8a   6adb     CLRF      0xdb,0x0                                                                                        
000d8c   0e04     MOVLW     0x4            	byte lineNumber = 0;                                                            Z:\home\andres\u4a2\user\adminModule.c
000d8e   6adb     CLRF      0xdb,0x0                                                                                        
                                           	char lineName[8];                                                               Z:\home\andres\u4a2\user\adminModule.c
                                           	rom near char* tableDirec;                                                      Z:\home\andres\u4a2\user\adminModule.c
                                           	pUserFunc dir;	                                                                 Z:\home\andres\u4a2\user\adminModule.c
                                           	void (*pUser)(byte);                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           	byte handler, response;                                                         Z:\home\andres\u4a2\user\adminModule.c
                                           	byte j;                                                                         Z:\home\andres\u4a2\user\adminModule.c
000d90   6adf     CLRF      0xdf,0x0       	adminCounter = 0;                                                               Z:\home\andres\u4a2\user\adminModule.c
000d92   0efd     MOVLW     0xfd           	switch(((AM_PACKET*)recBuffPtr)->CMD){                                          Z:\home\andres\u4a2\user\adminModule.c
000d94   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000d96   ffe9                                                                                                               
000d98   0efe     MOVLW     0xfe                                                                                            
000d9a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000d9c   ffea                                                                                                               
000d9e   50ef     MOVF      0xef,0x0,0x0                                                                                    
000da0   0aff     XORLW     0xff                                                                                            
000da2   e101     BNZ       0xda6                                                                                           
000da4   d160     BRA       0x1066                                                                                          
000da6   0af7     XORLW     0xf7                                                                                            
000da8   e101     BNZ       0xdac                                                                                           
000daa   d138     BRA       0x101c                                                                                          
000dac   0a0e     XORLW     0xe                                                                                             
000dae   e101     BNZ       0xdb2                                                                                           
000db0   d0e4     BRA       0xf7a                                                                                           
000db2   0a03     XORLW     0x3                                                                                             
000db4   e101     BNZ       0xdb8                                                                                           
000db6   d0ca     BRA       0xf4c                                                                                           
000db8   0a01     XORLW     0x1                                                                                             
000dba   e101     BNZ       0xdbe                                                                                           
000dbc   d0c4     BRA       0xf46                                                                                           
000dbe   0a07     XORLW     0x7                                                                                             
000dc0   e101     BNZ       0xdc4                                                                                           
000dc2   d0be     BRA       0xf40                                                                                           
000dc4   0a01     XORLW     0x1                                                                                             
000dc6   e101     BNZ       0xdca                                                                                           
000dc8   d0b8     BRA       0xf3a                                                                                           
000dca   0a05     XORLW     0x5                                                                                             
000dcc   e101     BNZ       0xdd0                                                                                           
000dce   d0aa     BRA       0xf24                                                                                           
000dd0   0a06     XORLW     0x6                                                                                             
000dd2   e101     BNZ       0xdd6                                                                                           
000dd4   d082     BRA       0xeda                                                                                           
000dd6   0a01     XORLW     0x1                                                                                             
000dd8   e001     BZ        0xddc                                                                                           
000dda   d156     BRA       0x1088                                                                                          
                                           	/* Abre un user module, y retorna el handler asignado en el sistema*/           Z:\home\andres\u4a2\user\adminModule.c
                                           	case OPEN:                                                                      Z:\home\andres\u4a2\user\adminModule.c
000ddc   0efd     MOVLW     0xfd           		tableDirec = getUserTableDirection(((AM_PACKET*)recBuffPtr)->moduleId);        Z:\home\andres\u4a2\user\adminModule.c
000dde   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000de0   ffe9                                                                                                               
000de2   0efe     MOVLW     0xfe                                                                                            
000de4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000de6   ffea                                                                                                               
000de8   0e03     MOVLW     0x3                                                                                             
000dea   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000dec   0e00     MOVLW     0x0                                                                                             
000dee   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000df0   cfe9     MOVFF     0xfe9,0xb                                                                                       
000df2   f00b                                                                                                               
000df4   cfea     MOVFF     0xfea,0xc                                                                                       
000df6   f00c                                                                                                               
000df8   c00b     MOVFF     0xb,0xfe6                                                                                       
000dfa   ffe6                                                                                                               
000dfc   c00c     MOVFF     0xc,0xfe6                                                                                       
000dfe   ffe6                                                                                                               
000e00   ecdf     CALL      0x11be,0x0                                                                                      
000e02   f008                                                                                                               
000e04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e06   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e08   0e0d     MOVLW     0xd                                                                                             
000e0a   cff3     MOVFF     0xff3,0xfdb                                                                                     
000e0c   ffdb                                                                                                               
000e0e   0e0e     MOVLW     0xe                                                                                             
000e10   cff4     MOVFF     0xff4,0xfdb                                                                                     
000e12   ffdb                                                                                                               
                                           		//Si el modulo esta abierto devuelvo error                                     Z:\home\andres\u4a2\user\adminModule.c
                                           		//if(!existsTableEntry(tableDirec)){ fue sacada esta restriccion temporalmente dado a problemas en la comunicacin que hacian que se perdiera referencia al handler y quedara inutilizada la placa, seria conveniente buscar otra solucion al problema, andres 27/7/2010 Z:\home\andres\u4a2\user\adminModule.c
000e14   0e0d     MOVLW     0xd            			dir = getModuleInitDirection(tableDirec);                                     Z:\home\andres\u4a2\user\adminModule.c
000e16   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000e18   ffe6                                                                                                               
000e1a   0e0e     MOVLW     0xe                                                                                             
000e1c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000e1e   ffe6                                                                                                               
000e20   ecc0     CALL      0x1380,0x0                                                                                      
000e22   f009                                                                                                               
000e24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e28   0e0f     MOVLW     0xf                                                                                             
000e2a   cff3     MOVFF     0xff3,0xfdb                                                                                     
000e2c   ffdb                                                                                                               
000e2e   0e10     MOVLW     0x10                                                                                            
000e30   cff4     MOVFF     0xff4,0xfdb                                                                                     
000e32   ffdb                                                                                                               
                                           			//Si dir vale error es que no se encontro un modulo con nombre moduleId       Z:\home\andres\u4a2\user\adminModule.c
000e34   0e0f     MOVLW     0xf            			if((byte)dir != ERROR){                                                       Z:\home\andres\u4a2\user\adminModule.c
000e36   50db     MOVF      0xdb,0x0,0x0                                                                                    
000e38   08ff     SUBLW     0xff                                                                                            
000e3a   e041     BZ        0xebe                                                                                           
000e3c   0efd     MOVLW     0xfd           				endIn = ((AM_PACKET*)recBuffPtr)->inEp;                                      Z:\home\andres\u4a2\user\adminModule.c
000e3e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000e40   ffe9                                                                                                               
000e42   0efe     MOVLW     0xfe                                                                                            
000e44   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000e46   ffea                                                                                                               
000e48   52ee     MOVF      0xee,0x1,0x0                                                                                    
000e4a   0e01     MOVLW     0x1                                                                                             
000e4c   cfef     MOVFF     0xfef,0xfdb                                                                                     
000e4e   ffdb                                                                                                               
000e50   0e0d     MOVLW     0xd            				handler = newHandlerTableEntry(endIn,tableDirec);                            Z:\home\andres\u4a2\user\adminModule.c
000e52   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000e54   ffe6                                                                                                               
000e56   0e0e     MOVLW     0xe                                                                                             
000e58   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000e5a   ffe6                                                                                                               
000e5c   0e01     MOVLW     0x1                                                                                             
000e5e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000e60   ffe6                                                                                                               
000e62   ec9b     CALL      0x2736,0x0                                                                                      
000e64   f013                                                                                                               
000e66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e68   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e6a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e6c   6ee7     MOVWF     0xe7,0x0                                                                                        
000e6e   0e13     MOVLW     0x13                                                                                            
000e70   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000e72   ffdb                                                                                                               
000e74   0e0f     MOVLW     0xf            				pUser = dir;                                                                 Z:\home\andres\u4a2\user\adminModule.c
000e76   cfdb     MOVFF     0xfdb,0x6                                                                                       
000e78   f006                                                                                                               
000e7a   0e10     MOVLW     0x10                                                                                            
000e7c   cfdb     MOVFF     0xfdb,0x7                                                                                       
000e7e   f007                                                                                                               
000e80   0e11     MOVLW     0x11                                                                                            
000e82   c006     MOVFF     0x6,0xfdb                                                                                       
000e84   ffdb                                                                                                               
000e86   0e12     MOVLW     0x12                                                                                            
000e88   c007     MOVFF     0x7,0xfdb                                                                                       
000e8a   ffdb                                                                                                               
000e8c   0e11     MOVLW     0x11           				pUser(handler); //hago el init ;)                                            Z:\home\andres\u4a2\user\adminModule.c
000e8e   cfdb     MOVFF     0xfdb,0xb                                                                                       
000e90   f00b                                                                                                               
000e92   0e12     MOVLW     0x12                                                                                            
000e94   cfdb     MOVFF     0xfdb,0xc                                                                                       
000e96   f00c                                                                                                               
000e98   0e13     MOVLW     0x13                                                                                            
000e9a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000e9c   ffe6                                                                                                               
000e9e   d004     BRA       0xea8                                                                                           
000ea0   c00c     MOVFF     0xc,0xffa                                                                                       
000ea2   fffa                                                                                                               
000ea4   500b     MOVF      0xb,0x0,0x0                                                                                     
000ea6   6ef9     MOVWF     0xf9,0x0                                                                                        
000ea8   dffb     RCALL     0xea0                                                                                           
000eaa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000eac   c180     MOVFF     0x180,0xfe9    				((AM_PACKET*)sendBufferAdmin)->handlerNumber = handler;                      Z:\home\andres\u4a2\user\adminModule.c
000eae   ffe9                                                                                                               
000eb0   c181     MOVFF     0x181,0xfea                                                                                     
000eb2   ffea                                                                                                               
000eb4   52ee     MOVF      0xee,0x1,0x0                                                                                    
000eb6   0e13     MOVLW     0x13                                                                                            
000eb8   cfdb     MOVFF     0xfdb,0xfef                                                                                     
000eba   ffef                                                                                                               
000ebc   d006     BRA       0xeca          			}else{                                                                        Z:\home\andres\u4a2\user\adminModule.c
000ebe   c180     MOVFF     0x180,0xfe9    				((AM_PACKET*)sendBufferAdmin)->handlerNumber = ERROR;                        Z:\home\andres\u4a2\user\adminModule.c
000ec0   ffe9                                                                                                               
000ec2   c181     MOVFF     0x181,0xfea                                                                                     
000ec4   ffea                                                                                                               
000ec6   52ee     MOVF      0xee,0x1,0x0                                                                                    
000ec8   68ef     SETF      0xef,0x0                                                                                        
                                           			}                                                                             Z:\home\andres\u4a2\user\adminModule.c
                                           		//}else{                                                                       Z:\home\andres\u4a2\user\adminModule.c
                                           		//	((AM_PACKET*)sendBufferAdmin)->handlerNumber = ERROR;                       Z:\home\andres\u4a2\user\adminModule.c
                                           		//}		                                                                          Z:\home\andres\u4a2\user\adminModule.c
000eca   c180     MOVFF     0x180,0xfe9                  	((AM_PACKET*)sendBufferAdmin)->CMD = OPEN;                        Z:\home\andres\u4a2\user\adminModule.c
000ecc   ffe9                                                                                                               
000ece   c181     MOVFF     0x181,0xfea                                                                                     
000ed0   ffea                                                                                                               
000ed2   6aef     CLRF      0xef,0x0                                                                                        
000ed4   0e02     MOVLW     0x2            		adminCounter=0x02; //1 byte para el campo CMD, otro para el handler 	          Z:\home\andres\u4a2\user\adminModule.c
000ed6   6edf     MOVWF     0xdf,0x0                                                                                        
000ed8   d0d8     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	/* Cierra un user module */                                                     Z:\home\andres\u4a2\user\adminModule.c
                                           	case CLOSE:                                                                     Z:\home\andres\u4a2\user\adminModule.c
000eda   0efd     MOVLW     0xfd           		handler  = ((AM_PACKET*)recBuffPtr)->handlerNumber;                            Z:\home\andres\u4a2\user\adminModule.c
000edc   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000ede   ffe9                                                                                                               
000ee0   0efe     MOVLW     0xfe                                                                                            
000ee2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000ee4   ffea                                                                                                               
000ee6   52ee     MOVF      0xee,0x1,0x0                                                                                    
000ee8   0e13     MOVLW     0x13                                                                                            
000eea   cfef     MOVFF     0xfef,0xfdb                                                                                     
000eec   ffdb                                                                                                               
000eee   0e13     MOVLW     0x13           		response = removeHandlerTableEntry(handler);	                                  Z:\home\andres\u4a2\user\adminModule.c
000ef0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000ef2   ffe6                                                                                                               
000ef4   ecf5     CALL      0x27ea,0x0                                                                                      
000ef6   f013                                                                                                               
000ef8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000efa   6ee7     MOVWF     0xe7,0x0                                                                                        
000efc   0e14     MOVLW     0x14                                                                                            
000efe   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000f00   ffdb                                                                                                               
000f02   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->response = response;                            Z:\home\andres\u4a2\user\adminModule.c
000f04   ffe9                                                                                                               
000f06   c181     MOVFF     0x181,0xfea                                                                                     
000f08   ffea                                                                                                               
000f0a   52ee     MOVF      0xee,0x1,0x0                                                                                    
000f0c   0e14     MOVLW     0x14                                                                                            
000f0e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
000f10   ffef                                                                                                               
000f12   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->CMD = CLOSE;                                    Z:\home\andres\u4a2\user\adminModule.c
000f14   ffe9                                                                                                               
000f16   c181     MOVFF     0x181,0xfea                                                                                     
000f18   ffea                                                                                                               
000f1a   0e01     MOVLW     0x1                                                                                             
000f1c   6eef     MOVWF     0xef,0x0                                                                                        
000f1e   0e02     MOVLW     0x2            		adminCounter = 0x02; //1 byte para el campo CMD, otro para la respuesta        Z:\home\andres\u4a2\user\adminModule.c
000f20   6edf     MOVWF     0xdf,0x0                                                                                        
000f22   d0b3     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	/* Cierra todos los modulos */                                                  Z:\home\andres\u4a2\user\adminModule.c
                                           	case INIT:                                                                      Z:\home\andres\u4a2\user\adminModule.c
000f24   ec86     CALL      0x290c,0x0     		removeAllOpenModules();                                                        Z:\home\andres\u4a2\user\adminModule.c
000f26   f014                                                                                                               
000f28   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->CMD = INIT;                                     Z:\home\andres\u4a2\user\adminModule.c
000f2a   ffe9                                                                                                               
000f2c   c181     MOVFF     0x181,0xfea                                                                                     
000f2e   ffea                                                                                                               
000f30   0e07     MOVLW     0x7                                                                                             
000f32   6eef     MOVWF     0xef,0x0                                                                                        
000f34   0e01     MOVLW     0x1            		adminCounter = 0x01; //1 byte para el campo CMD                                Z:\home\andres\u4a2\user\adminModule.c
000f36   6edf     MOVWF     0xdf,0x0                                                                                        
000f38   d0a8     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           	case MESSAGE:                                                                   Z:\home\andres\u4a2\user\adminModule.c
                                           		// me limito a solamente mandar el paquete que me genera el usuario mediante sendMes (ping) Z:\home\andres\u4a2\user\adminModule.c
000f3a   0e02     MOVLW     0x2            		adminCounter = sizeof(((AM_PACKET*)recBuffPtr));                               Z:\home\andres\u4a2\user\adminModule.c
000f3c   6edf     MOVWF     0xdf,0x0                                                                                        
000f3e   d0a5     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	case LOAD:                                                                      Z:\home\andres\u4a2\user\adminModule.c
                                           		//Ver loaderModule.h                                                           Z:\home\andres\u4a2\user\adminModule.c
                                           		//loadModule(byte idModule, byte* binaryStream);                               Z:\home\andres\u4a2\user\adminModule.c
000f40   0e01     MOVLW     0x1            		adminCounter = 0x01;                                                           Z:\home\andres\u4a2\user\adminModule.c
000f42   6edf     MOVWF     0xdf,0x0                                                                                        
000f44   d0a2     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           	case UNLOAD:                                                                    Z:\home\andres\u4a2\user\adminModule.c
000f46   0e03     MOVLW     0x3            		adminCounter=0x03;                                                             Z:\home\andres\u4a2\user\adminModule.c
000f48   6edf     MOVWF     0xdf,0x0                                                                                        
000f4a   d09f     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	/* retorna la cantidad de modulos de usuarios presentes en el firmware */       Z:\home\andres\u4a2\user\adminModule.c
                                           	case GET_USER_MODULES_SIZE:                                                     Z:\home\andres\u4a2\user\adminModule.c
000f4c   ec50     CALL      0x12a0,0x0     		userTableSize = getUserTableSize();                                            Z:\home\andres\u4a2\user\adminModule.c
000f4e   f009                                                                                                               
000f50   6ee7     MOVWF     0xe7,0x0                                                                                        
000f52   0e03     MOVLW     0x3                                                                                             
000f54   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000f56   ffdb                                                                                                               
000f58   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->CMD  = GET_USER_MODULES_SIZE;                   Z:\home\andres\u4a2\user\adminModule.c
000f5a   ffe9                                                                                                               
000f5c   c181     MOVFF     0x181,0xfea                                                                                     
000f5e   ffea                                                                                                               
000f60   0e05     MOVLW     0x5                                                                                             
000f62   6eef     MOVWF     0xef,0x0                                                                                        
000f64   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->size = userTableSize;                           Z:\home\andres\u4a2\user\adminModule.c
000f66   ffe9                                                                                                               
000f68   c181     MOVFF     0x181,0xfea                                                                                     
000f6a   ffea                                                                                                               
000f6c   52ee     MOVF      0xee,0x1,0x0                                                                                    
000f6e   0e03     MOVLW     0x3                                                                                             
000f70   cfdb     MOVFF     0xfdb,0xfef                                                                                     
000f72   ffef                                                                                                               
000f74   0e02     MOVLW     0x2            		adminCounter=0x02;                                                             Z:\home\andres\u4a2\user\adminModule.c
000f76   6edf     MOVWF     0xdf,0x0                                                                                        
000f78   d088     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	/* retorna el nombre correspondiente al modulo de usuario n-esimo*/             Z:\home\andres\u4a2\user\adminModule.c
                                           	case GET_USER_MODULES_LINE:                                                     Z:\home\andres\u4a2\user\adminModule.c
000f7a   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->CMD  = GET_USER_MODULES_LINE;                   Z:\home\andres\u4a2\user\adminModule.c
000f7c   ffe9                                                                                                               
000f7e   c181     MOVFF     0x181,0xfea                                                                                     
000f80   ffea                                                                                                               
000f82   0e06     MOVLW     0x6                                                                                             
000f84   6eef     MOVWF     0xef,0x0                                                                                        
000f86   0efd     MOVLW     0xfd           		lineNumber = ((AM_PACKET*)recBuffPtr)->line;                                   Z:\home\andres\u4a2\user\adminModule.c
000f88   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000f8a   ffe9                                                                                                               
000f8c   0efe     MOVLW     0xfe                                                                                            
000f8e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000f90   ffea                                                                                                               
000f92   52ee     MOVF      0xee,0x1,0x0                                                                                    
000f94   0e04     MOVLW     0x4                                                                                             
000f96   cfef     MOVFF     0xfef,0xfdb                                                                                     
000f98   ffdb                                                                                                               
000f9a   50d9     MOVF      0xd9,0x0,0x0   		getModuleName(lineNumber, (char*)lineName);	                                   Z:\home\andres\u4a2\user\adminModule.c
000f9c   0f05     ADDLW     0x5                                                                                             
000f9e   6ee6     MOVWF     0xe6,0x0                                                                                        
000fa0   0e00     MOVLW     0x0                                                                                             
000fa2   20da     ADDWFC    0xda,0x0,0x0                                                                                    
000fa4   6ee6     MOVWF     0xe6,0x0                                                                                        
000fa6   0e04     MOVLW     0x4                                                                                             
000fa8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
000faa   ffe6                                                                                                               
000fac   ec6c     CALL      0x12d8,0x0                                                                                      
000fae   f009                                                                                                               
000fb0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000fb2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000fb4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		//memcpy(((AM_PACKET*)sendBufferAdmin)->lineName, lineName, 8); no anda, sera porque estan en espacios de memoria separados (RAM/ROM)?			 Z:\home\andres\u4a2\user\adminModule.c
000fb6   0e15     MOVLW     0x15           		for (j = 0; j < 8; j++){                                                       Z:\home\andres\u4a2\user\adminModule.c
000fb8   6adb     CLRF      0xdb,0x0                                                                                        
000fba   0e08     MOVLW     0x8                                                                                             
000fbc   6ef3     MOVWF     0xf3,0x0                                                                                        
000fbe   0e15     MOVLW     0x15                                                                                            
000fc0   cfdb     MOVFF     0xfdb,0xff4                                                                                     
000fc2   fff4                                                                                                               
000fc4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000fc6   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
000fc8   e226     BC        0x1016                                                                                          
001010   0e15     MOVLW     0x15                                                                                            
001012   2adb     INCF      0xdb,0x1,0x0                                                                                    
001014   d7d2     BRA       0xfba                                                                                           
000fca   50d9     MOVF      0xd9,0x0,0x0   			((AM_PACKET*)sendBufferAdmin)->lineName[j] = lineName[j];                     Z:\home\andres\u4a2\user\adminModule.c
000fcc   0f05     ADDLW     0x5                                                                                             
000fce   6e0d     MOVWF     0xd,0x0                                                                                         
000fd0   cfda     MOVFF     0xfda,0xe                                                                                       
000fd2   f00e                                                                                                               
000fd4   0e15     MOVLW     0x15                                                                                            
000fd6   50db     MOVF      0xdb,0x0,0x0                                                                                    
000fd8   010f     MOVLB     0xf                                                                                             
000fda   240d     ADDWF     0xd,0x0,0x0                                                                                     
000fdc   6ee9     MOVWF     0xe9,0x0                                                                                        
000fde   0e00     MOVLW     0x0                                                                                             
000fe0   200e     ADDWFC    0xe,0x0,0x0                                                                                     
000fe2   6eea     MOVWF     0xea,0x0                                                                                        
000fe4   50ef     MOVF      0xef,0x0,0x0                                                                                    
000fe6   6ee6     MOVWF     0xe6,0x0                                                                                        
000fe8   c180     MOVFF     0x180,0xfe9                                                                                     
000fea   ffe9                                                                                                               
000fec   c181     MOVFF     0x181,0xfea                                                                                     
000fee   ffea                                                                                                               
000ff0   52ee     MOVF      0xee,0x1,0x0                                                                                    
000ff2   cfe9     MOVFF     0xfe9,0xb                                                                                       
000ff4   f00b                                                                                                               
000ff6   cfea     MOVFF     0xfea,0xc                                                                                       
000ff8   f00c                                                                                                               
000ffa   0e15     MOVLW     0x15                                                                                            
000ffc   50db     MOVF      0xdb,0x0,0x0                                                                                    
000ffe   010f     MOVLB     0xf                                                                                             
001000   240b     ADDWF     0xb,0x0,0x0                                                                                     
001002   6ee9     MOVWF     0xe9,0x0                                                                                        
001004   0e00     MOVLW     0x0                                                                                             
001006   200c     ADDWFC    0xc,0x0,0x0                                                                                     
001008   6eea     MOVWF     0xea,0x0                                                                                        
00100a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00100c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00100e   6eef     MOVWF     0xef,0x0                                                                                        
                                           		}                                                                              Z:\home\andres\u4a2\user\adminModule.c
001016   0e09     MOVLW     0x9            		adminCounter=0x09;                                                             Z:\home\andres\u4a2\user\adminModule.c
001018   6edf     MOVWF     0xdf,0x0                                                                                        
00101a   d037     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	case CONFIGURE:                                                                 Z:\home\andres\u4a2\user\adminModule.c
00101c   0efd     MOVLW     0xfd           		handler  = ((AM_PACKET*)recBuffPtr)->handlerNumber;                            Z:\home\andres\u4a2\user\adminModule.c
00101e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001020   ffe9                                                                                                               
001022   0efe     MOVLW     0xfe                                                                                            
001024   cfdb     MOVFF     0xfdb,0xfea                                                                                     
001026   ffea                                                                                                               
001028   52ee     MOVF      0xee,0x1,0x0                                                                                    
00102a   0e13     MOVLW     0x13                                                                                            
00102c   cfef     MOVFF     0xfef,0xfdb                                                                                     
00102e   ffdb                                                                                                               
001030   0e13     MOVLW     0x13           		response = configureHandlerTableEntry(handler);	                               Z:\home\andres\u4a2\user\adminModule.c
001032   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
001034   ffe6                                                                                                               
001036   ec4c     CALL      0x2898,0x0                                                                                      
001038   f014                                                                                                               
00103a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00103c   6ee7     MOVWF     0xe7,0x0                                                                                        
00103e   0e14     MOVLW     0x14                                                                                            
001040   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001042   ffdb                                                                                                               
001044   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->response = response;                            Z:\home\andres\u4a2\user\adminModule.c
001046   ffe9                                                                                                               
001048   c181     MOVFF     0x181,0xfea                                                                                     
00104a   ffea                                                                                                               
00104c   52ee     MOVF      0xee,0x1,0x0                                                                                    
00104e   0e14     MOVLW     0x14                                                                                            
001050   cfdb     MOVFF     0xfdb,0xfef                                                                                     
001052   ffef                                                                                                               
001054   c180     MOVFF     0x180,0xfe9    		((AM_PACKET*)sendBufferAdmin)->CMD = CONFIGURE;                                Z:\home\andres\u4a2\user\adminModule.c
001056   ffe9                                                                                                               
001058   c181     MOVFF     0x181,0xfea                                                                                     
00105a   ffea                                                                                                               
00105c   0e08     MOVLW     0x8                                                                                             
00105e   6eef     MOVWF     0xef,0x0                                                                                        
001060   0e02     MOVLW     0x2            		adminCounter = 0x02; //1 byte para el campo CMD, otro para la respuesta        Z:\home\andres\u4a2\user\adminModule.c
001062   6edf     MOVWF     0xdf,0x0                                                                                        
001064   d012     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	case RESET:                                                                     Z:\home\andres\u4a2\user\adminModule.c
                                           		//When resetting, make sure to drop the device off the bus                     Z:\home\andres\u4a2\user\adminModule.c
                                           		//for a period of time. Helps when the device is suspended.                    Z:\home\andres\u4a2\user\adminModule.c
001066   966d     BCF       0x6d,0x3,0x0   		UCONbits.USBEN = 0;                                                            Z:\home\andres\u4a2\user\adminModule.c
001068   0101     MOVLB     0x1            		counter_big = 0;                                                               Z:\home\andres\u4a2\user\adminModule.c
00106a   6b83     CLRF      0x83,0x1                                                                                        
00106c   6b84     CLRF      0x84,0x1                                                                                        
00106e   0101     MOVLB     0x1            		while(--counter_big);                                                          Z:\home\andres\u4a2\user\adminModule.c
001070   0783     DECF      0x83,0x1,0x1                                                                                    
001072   0e00     MOVLW     0x0                                                                                             
001074   5b84     SUBWFB    0x84,0x1,0x1                                                                                    
001076   0101     MOVLB     0x1                                                                                             
001078   5183     MOVF      0x83,0x0,0x1                                                                                    
00107a   1184     IORWF     0x84,0x0,0x1                                                                                    
00107c   e001     BZ        0x1080                                                                                          
00107e   d7f7     BRA       0x106e                                                                                          
001080   00ff     RESET                    		Reset();                                                                       Z:\home\andres\u4a2\user\adminModule.c
001082   0e01     MOVLW     0x1            		adminCounter = 0x01; //1 byte para el campo CMD                                Z:\home\andres\u4a2\user\adminModule.c
001084   6edf     MOVWF     0xdf,0x0                                                                                        
001086   d001     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	default:                                                                        Z:\home\andres\u4a2\user\adminModule.c
001088   d000     BRA       0x108a         	break;                                                                          Z:\home\andres\u4a2\user\adminModule.c
                                           	                                                                                Z:\home\andres\u4a2\user\adminModule.c
                                           	}//end switch()                                                                 Z:\home\andres\u4a2\user\adminModule.c
00108a   50df     MOVF      0xdf,0x0,0x0         	if(adminCounter != 0){                                                    Z:\home\andres\u4a2\user\adminModule.c
00108c   e00b     BZ        0x10a4                                                                                          
                                           		/* voy a probar hacer un while para asegurarme que no llegue al pc un handler erroneo */ Z:\home\andres\u4a2\user\adminModule.c
                                           		//while(!mUSBGenTxIsBusy());                                                   Z:\home\andres\u4a2\user\adminModule.c
00108e   0104     MOVLB     0x4            		if(!mUSBGenTxIsBusy()) //TODO ver, lo saque provisoriamente                    Z:\home\andres\u4a2\user\adminModule.c
001090   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
001092   d008     BRA       0x10a4                                                                                          
001094   cfdf     MOVFF     0xfdf,0xfe6    			USBGenWrite2(adminHandler, adminCounter);                                     Z:\home\andres\u4a2\user\adminModule.c
001096   ffe6                                                                                                               
001098   c182     MOVFF     0x182,0xfe6                                                                                     
00109a   ffe6                                                                                                               
00109c   ec31     CALL      0x2662,0x0                                                                                      
00109e   f013                                                                                                               
0010a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0010a2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	}//end if                                                                       Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
0010a4   0e16     MOVLW     0x16           }//end adminReceived                                                             Z:\home\andres\u4a2\user\adminModule.c
0010a6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0010a8   e202     BC        0x10ae                                                                                          
0010aa   6ae1     CLRF      0xe1,0x0                                                                                        
0010ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0010ae   6ee1     MOVWF     0xe1,0x0                                                                                        
0010b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0010b2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0010b4   ffd9                                                                                                               
0010b6   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
0010b8   cfd9     MOVFF     0xfd9,0xfe6    void sendMes(char* mensaje, byte len){                                           Z:\home\andres\u4a2\user\adminModule.c
0010ba   ffe6                                                                                                               
0010bc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0010be   ffd9                                                                                                               
0010c0   0e02     MOVLW     0x2                                                                                             
0010c2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	byte adminCounter, j;                                                           Z:\home\andres\u4a2\user\adminModule.c
0010c4   c180     MOVFF     0x180,0xfe9    	((AM_PACKET*)sendBufferAdmin)->CMD = MESSAGE;                                   Z:\home\andres\u4a2\user\adminModule.c
0010c6   ffe9                                                                                                               
0010c8   c181     MOVFF     0x181,0xfea                                                                                     
0010ca   ffea                                                                                                               
0010cc   6eef     MOVWF     0xef,0x0                                                                                        
0010ce   0e01     MOVLW     0x1            	for (j = 0; j < len; j++){                                                      Z:\home\andres\u4a2\user\adminModule.c
0010d0   6adb     CLRF      0xdb,0x0                                                                                        
0010d2   0efc     MOVLW     0xfc                                                                                            
0010d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0010d6   6ef3     MOVWF     0xf3,0x0                                                                                        
0010d8   0e01     MOVLW     0x1                                                                                             
0010da   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0010dc   fff4                                                                                                               
0010de   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0010e0   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0010e2   e225     BC        0x112e                                                                                          
001128   0e01     MOVLW     0x1                                                                                             
00112a   2adb     INCF      0xdb,0x1,0x0                                                                                    
00112c   d7d2     BRA       0x10d2                                                                                          
0010e4   0e01     MOVLW     0x1            		((AM_PACKET*)sendBufferAdmin)->texto[j] = mensaje[j];                          Z:\home\andres\u4a2\user\adminModule.c
0010e6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0010e8   6ee7     MOVWF     0xe7,0x0                                                                                        
0010ea   0efd     MOVLW     0xfd                                                                                            
0010ec   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0010ee   ffe9                                                                                                               
0010f0   0efe     MOVLW     0xfe                                                                                            
0010f2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0010f4   ffea                                                                                                               
0010f6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0010f8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0010fa   0e00     MOVLW     0x0                                                                                             
0010fc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0010fe   50ef     MOVF      0xef,0x0,0x0                                                                                    
001100   6ee6     MOVWF     0xe6,0x0                                                                                        
001102   c180     MOVFF     0x180,0xfe9                                                                                     
001104   ffe9                                                                                                               
001106   c181     MOVFF     0x181,0xfea                                                                                     
001108   ffea                                                                                                               
00110a   52ee     MOVF      0xee,0x1,0x0                                                                                    
00110c   cfe9     MOVFF     0xfe9,0xb                                                                                       
00110e   f00b                                                                                                               
001110   cfea     MOVFF     0xfea,0xc                                                                                       
001112   f00c                                                                                                               
001114   0e01     MOVLW     0x1                                                                                             
001116   50db     MOVF      0xdb,0x0,0x0                                                                                    
001118   24e9     ADDWF     0xe9,0x0,0x0                                                                                    
00111a   6ee9     MOVWF     0xe9,0x0                                                                                        
00111c   0e00     MOVLW     0x0                                                                                             
00111e   20ea     ADDWFC    0xea,0x0,0x0                                                                                    
001120   6eea     MOVWF     0xea,0x0                                                                                        
001122   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001124   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001126   6eef     MOVWF     0xef,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\user\adminModule.c
00112e   0efc     MOVLW     0xfc           	adminCounter = len + 1; //sizeof(adminDataPacket);                              Z:\home\andres\u4a2\user\adminModule.c
001130   28db     INCF      0xdb,0x0,0x0                                                                                    
001132   6edf     MOVWF     0xdf,0x0                                                                                        
001134   0104     MOVLB     0x4                if(!mUSBGenTxIsBusy())                                                       Z:\home\andres\u4a2\user\adminModule.c
001136   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
001138   d008     BRA       0x114a                                                                                          
00113a   cfdf     MOVFF     0xfdf,0xfe6           	USBGenWrite2(adminHandler, adminCounter);                                Z:\home\andres\u4a2\user\adminModule.c
00113c   ffe6                                                                                                               
00113e   c182     MOVFF     0x182,0xfe6                                                                                     
001140   ffe6                                                                                                               
001142   ec31     CALL      0x2662,0x0                                                                                      
001144   f013                                                                                                               
001146   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001148   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00114a   0e02     MOVLW     0x2            }                                                                                Z:\home\andres\u4a2\user\adminModule.c
00114c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00114e   e202     BC        0x1154                                                                                          
001150   6ae1     CLRF      0xe1,0x0                                                                                        
001152   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001154   6ee1     MOVWF     0xe1,0x0                                                                                        
001156   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001158   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00115a   ffd9                                                                                                               
00115c   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           /*                                                                               Z:\home\andres\u4a2\user\adminModule.c
                                           void sendMes(char mensaje[8]){                                                   Z:\home\andres\u4a2\user\adminModule.c
                                           	byte adminCounter, j;                                                           Z:\home\andres\u4a2\user\adminModule.c
                                           	((AM_PACKET*)sendBufferAdmin)->CMD = MESSAGE;                                   Z:\home\andres\u4a2\user\adminModule.c
                                           	for (j = 0; j < 8; j++){                                                        Z:\home\andres\u4a2\user\adminModule.c
                                           		((AM_PACKET*)sendBufferAdmin)->texto[j] = mensaje[j];                          Z:\home\andres\u4a2\user\adminModule.c
                                           	}                                                                               Z:\home\andres\u4a2\user\adminModule.c
                                           	adminCounter = 9; //sizeof(adminDataPacket);                                    Z:\home\andres\u4a2\user\adminModule.c
                                               if(!mUSBGenTxIsBusy())                                                       Z:\home\andres\u4a2\user\adminModule.c
                                                  	USBGenWrite2(adminHandler,sendBufferAdmin,adminCounter);                 Z:\home\andres\u4a2\user\adminModule.c
                                           }*/                                                                              Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           /** EOF adminModule.c ***************************************************************/ Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                                                                                                            Z:\home\andres\u4a2\user\adminModule.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\user\handlerManager.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\user\handlerManager.c
                                            * Rafael Fernandez    10/03/07     Original.                                    Z:\home\andres\u4a2\user\handlerManager.c
                                            * Andres Aguirre      27/03/07 	                                                Z:\home\andres\u4a2\user\handlerManager.c
                                            ********************************************************************/           Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\handlerManager.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\handlerManager.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "user\defines.h"                                                        Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "user\loaderModule.h"                                                   Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "io_cfg.h"             // I/O pin mapping                               Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "user\adminModule.h"                                                    Z:\home\andres\u4a2\user\handlerManager.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\handlerManager.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\handlerManager.c
                                           unsigned char ram_max_ep_number;                                                 Z:\home\andres\u4a2\user\handlerManager.c
                                           epHandlerMapItem epHandlerMap[MAX_HANDLERS];                                     Z:\home\andres\u4a2\user\handlerManager.c
                                           HM_DATA_PACKET_HEADER hmDataPacketHeader;                                        Z:\home\andres\u4a2\user\handlerManager.c
                                           byte* HandlerReceiveBuffer[MAX_HANDLERS];                                        Z:\home\andres\u4a2\user\handlerManager.c
                                           void (*handlerReceivedFuncion[MAX_HANDLERS]) (byte*,byte) ;//arreglo de punteros a las funcioens received de los modulos Z:\home\andres\u4a2\user\handlerManager.c
                                           					 //TODO hacer un struct junto con los buffers;                              Z:\home\andres\u4a2\user\handlerManager.c
                                           HANDLER_OPTYPE hn_opType;                                                        Z:\home\andres\u4a2\user\handlerManager.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\handlerManager.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0024c0   db38     RCALL     0x2b32         void setHandlerReceiveBuffer(byte handler, byte *rb){                            Z:\home\andres\u4a2\user\handlerManager.c
002b32   dfa0     RCALL     0x2a74                                                                                          
0024c2   dafb     RCALL     0x2aba         	HandlerReceiveBuffer[handler] = rb;                                             Z:\home\andres\u4a2\user\handlerManager.c
002b34   0ea4     MOVLW     0xa4                                                                                            
002b36   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002b38   0e00     MOVLW     0x0                                                                                             
002b3a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002b3c   0012     RETURN    0x0                                                                                             
0024c4   d2d3     BRA       0x2a6c         }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0024c6   db35     RCALL     0x2b32         void unsetHandlerReceiveBuffer(byte handler){                                    Z:\home\andres\u4a2\user\handlerManager.c
002a74   d851     RCALL     0x2b18                                                                                          
0024c8   6aee     CLRF      0xee,0x0       	HandlerReceiveBuffer[handler] = 0; //TODO poner NULL                            Z:\home\andres\u4a2\user\handlerManager.c
0024ca   6aed     CLRF      0xed,0x0                                                                                        
002a76   0efe     MOVLW     0xfe                                                                                            
002a78   6aea     CLRF      0xea,0x0                                                                                        
002a7a   34db     RLCF      0xdb,0x0,0x0                                                                                    
002a7c   0bfe     ANDLW     0xfe                                                                                            
002a7e   36ea     RLCF      0xea,0x1,0x0                                                                                    
002a80   6ee9     MOVWF     0xe9,0x0                                                                                        
002a82   0012     RETURN    0x0                                                                                             
0024cc   d2cf     BRA       0x2a6c         }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0024ce   db37     RCALL     0x2b3e         void setHandlerReceiveFunction(byte handler,void (*pf) (byte*,byte)){            Z:\home\andres\u4a2\user\handlerManager.c
002b3e   df9a     RCALL     0x2a74                                                                                          
0024d0   daf4     RCALL     0x2aba         	handlerReceivedFuncion[handler] = pf;                                           Z:\home\andres\u4a2\user\handlerManager.c
002aba   0efc     MOVLW     0xfc                                                                                            
002abc   cfdb     MOVFF     0xfdb,0xfee                                                                                     
002abe   ffee                                                                                                               
002ac0   0efd     MOVLW     0xfd                                                                                            
002ac2   cfdb     MOVFF     0xfdb,0xfed                                                                                     
002ac4   ffed                                                                                                               
002ac6   0012     RETURN    0x0                                                                                             
002b40   0ec4     MOVLW     0xc4                                                                                            
002b42   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002b44   0e00     MOVLW     0x0                                                                                             
002b46   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002b48   0012     RETURN    0x0                                                                                             
0024d2   d2cc     BRA       0x2a6c         }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0024d4   db34     RCALL     0x2b3e         void unsetHandlerReceiveFunction(byte handler){                                  Z:\home\andres\u4a2\user\handlerManager.c
0024d6   6aee     CLRF      0xee,0x0       	handlerReceivedFuncion[handler] = 0; //TODO poner NULL                          Z:\home\andres\u4a2\user\handlerManager.c
0024d8   6aed     CLRF      0xed,0x0                                                                                        
0024da   d2c8     BRA       0x2a6c         }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0024dc   cfd9     MOVFF     0xfd9,0xfe6    void checkHandlerManagerIO(void){                                                Z:\home\andres\u4a2\user\handlerManager.c
0024de   ffe6                                                                                                               
0024e0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                               byte dataSize;                                                               Z:\home\andres\u4a2\user\handlerManager.c
                                               //por ahora hago polling del endpoint, despues el modulo proxy usb           Z:\home\andres\u4a2\user\handlerManager.c
                                           	//me va a llamar con los parametros adecuados luego de mirar el header          Z:\home\andres\u4a2\user\handlerManager.c
                                           	/*                                                                              Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                               if(USBGenRead((byte*)&hmDataPacket,sizeof(hmDataPacket))){                   Z:\home\andres\u4a2\user\handlerManager.c
                                           		//chequeo el header para ver a quien debo enviar la peticion                   Z:\home\andres\u4a2\user\handlerManager.c
                                           		//por ahora simplemente llamo a la funcion del user.c                          Z:\home\andres\u4a2\user\handlerManager.c
                                           		//despues hay que inicializar arreglo de punteros a funciones.                 Z:\home\andres\u4a2\user\handlerManager.c
                                           		dataSize = hmDataPacket.header.pLength;                                        Z:\home\andres\u4a2\user\handlerManager.c
                                           		//userReceive(hmDataPacket.data,dataSize);                                     Z:\home\andres\u4a2\user\handlerManager.c
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
                                           	*/                                                                              Z:\home\andres\u4a2\user\handlerManager.c
                                           	                                                                                Z:\home\andres\u4a2\user\handlerManager.c
0024e2   52e5     MOVF      0xe5,0x1,0x0   }//end ServiceRequests                                                           Z:\home\andres\u4a2\user\handlerManager.c
0024e4   d2c3     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0024e6   db18     RCALL     0x2b18         void USBGenRead2(void){                                                          Z:\home\andres\u4a2\user\handlerManager.c
0024e8   0e09     MOVLW     0x9                                                                                             
0024ea   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0024ec   6adf     CLRF      0xdf,0x0       	byte usbgen_rx_len = 0;                                                         Z:\home\andres\u4a2\user\handlerManager.c
                                           	byte len;                                                                       Z:\home\andres\u4a2\user\handlerManager.c
                                           	epHandlerMapItem hmi;                                                           Z:\home\andres\u4a2\user\handlerManager.c
                                           	byte ep;                                                                        Z:\home\andres\u4a2\user\handlerManager.c
                                           	//byte* buffer;                                                                 Z:\home\andres\u4a2\user\handlerManager.c
                                           	HM_DATA_PACKET_HEADER* dph;                                                     Z:\home\andres\u4a2\user\handlerManager.c
0024ee   0e06     MOVLW     0x6            	if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;         Z:\home\andres\u4a2\user\handlerManager.c
0024f0   0101     MOVLB     0x1                                                                                             
0024f2   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0024f4   e201     BC        0x24f8                                                                                          
0024f6   d0ae     BRA       0x2654                                                                                          
0024f8   506d     MOVF      0x6d,0x0,0x0                                                                                    
0024fa   0b02     ANDLW     0x2                                                                                             
0024fc   e001     BZ        0x2500                                                                                          
0024fe   d0aa     BRA       0x2654                                                                                          
                                           	//TODO: len deberia ser el max mtu del endpoint a leer                          Z:\home\andres\u4a2\user\handlerManager.c
002500   0e01     MOVLW     0x1            	len = PACKET_MTU-1;                                                             Z:\home\andres\u4a2\user\handlerManager.c
002502   68db     SETF      0xdb,0x0                                                                                        
002504   6ef3     MOVWF     0xf3,0x0       	for(ep=1;ep<=ram_max_ep_number;ep++){                                           Z:\home\andres\u4a2\user\handlerManager.c
002506   0e06     MOVLW     0x6                                                                                             
002508   cff3     MOVFF     0xff3,0xfdb                                                                                     
00250a   ffdb                                                                                                               
00250c   cfdb     MOVFF     0xfdb,0xb                                                                                       
00250e   f00b                                                                                                               
002510   0100     MOVLB     0x0                                                                                             
002512   5160     MOVF      0x60,0x0,0x1                                                                                    
002514   80d8     BSF       0xd8,0x0,0x0                                                                                    
002516   540b     SUBFWB    0xb,0x0,0x0                                                                                     
002518   e201     BC        0x251c                                                                                          
00251a   d09c     BRA       0x2654                                                                                          
00264e   0e06     MOVLW     0x6                                                                                             
002650   2adb     INCF      0xdb,0x1,0x0                                                                                    
002652   d75c     BRA       0x250c                                                                                          
00251c   daf8     RCALL     0x2b0e         		if(!EPOUT_IS_BUSY(ep)){                                                        Z:\home\andres\u4a2\user\handlerManager.c
00251e   50ef     MOVF      0xef,0x0,0x0                                                                                    
002520   0b80     ANDLW     0x80                                                                                            
002522   e001     BZ        0x2526                                                                                          
002524   d094     BRA       0x264e                                                                                          
                                           	        /*                                                                      Z:\home\andres\u4a2\user\handlerManager.c
                                           	         * Adjust the expected number of bytes to equal                         Z:\home\andres\u4a2\user\handlerManager.c
                                           	         * the actual number of bytes received.                                 Z:\home\andres\u4a2\user\handlerManager.c
                                           	         */                                                                     Z:\home\andres\u4a2\user\handlerManager.c
002526   0e01     MOVLW     0x1            	        if(len > EPOUT_SIZE(ep))                                                Z:\home\andres\u4a2\user\handlerManager.c
002528   cfdb     MOVFF     0xfdb,0xb                                                                                       
00252a   f00b                                                                                                               
00252c   daf0     RCALL     0x2b0e                                                                                          
00252e   52ee     MOVF      0xee,0x1,0x0                                                                                    
002530   50ef     MOVF      0xef,0x0,0x0                                                                                    
002532   80d8     BSF       0xd8,0x0,0x0                                                                                    
002534   540b     SUBFWB    0xb,0x0,0x0                                                                                     
002536   e205     BC        0x2542                                                                                          
002538   daea     RCALL     0x2b0e         	        	len = EPOUT_SIZE(ep);                                                  Z:\home\andres\u4a2\user\handlerManager.c
00253a   52ee     MOVF      0xee,0x1,0x0                                                                                    
00253c   0e01     MOVLW     0x1                                                                                             
00253e   cfef     MOVFF     0xfef,0xfdb                                                                                     
002540   ffdb                                                                                                               
                                           		//antes de copiar el dato en el buffer tengo que mirar de que                  Z:\home\andres\u4a2\user\handlerManager.c
                                           		//handler es y pedir el buffer de receive del modulo de usuario                Z:\home\andres\u4a2\user\handlerManager.c
002542   0e06     MOVLW     0x6            		dph = (HM_DATA_PACKET_HEADER*)EPBUFFEROUT(ep);                                 Z:\home\andres\u4a2\user\handlerManager.c
002544   50db     MOVF      0xdb,0x0,0x0                                                                                    
002546   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002548   0d04     MULLW     0x4                                                                                             
00254a   cff3     MOVFF     0xff3,0xfe9                                                                                     
00254c   ffe9                                                                                                               
00254e   cff4     MOVFF     0xff4,0xfea                                                                                     
002550   ffea                                                                                                               
002552   0e00     MOVLW     0x0                                                                                             
002554   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002556   0e04     MOVLW     0x4                                                                                             
002558   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00255a   0e02     MOVLW     0x2                                                                                             
00255c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00255e   0e00     MOVLW     0x0                                                                                             
002560   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002562   0e07     MOVLW     0x7                                                                                             
002564   cfee     MOVFF     0xfee,0xfdb                                                                                     
002566   ffdb                                                                                                               
002568   0e08     MOVLW     0x8                                                                                             
00256a   cfed     MOVFF     0xfed,0xfdb                                                                                     
00256c   ffdb                                                                                                               
                                           		//TODO chequear que el handler number sea valido, sino hacer algo tipo error   Z:\home\andres\u4a2\user\handlerManager.c
                                           		//buffer=HandlerReceiveBuffer[dph->handlerNumber];                             Z:\home\andres\u4a2\user\handlerManager.c
                                           	        //aviso al modulo de usuario respectivo que tengo datos                 Z:\home\andres\u4a2\user\handlerManager.c
                                           		//hmi = epHandlerMap[dph->handlerNumber];                                      Z:\home\andres\u4a2\user\handlerManager.c
                                           		//ep = hmi.ep.EPNum;                                                           Z:\home\andres\u4a2\user\handlerManager.c
00256e   0e07     MOVLW     0x7            		handlerReceivedFuncion[dph->handlerNumber](EPBUFFEROUT(ep)+SIZE__HM_DATA_PACKET_HEADER,len-SIZE__HM_DATA_PACKET_HEADER); Z:\home\andres\u4a2\user\handlerManager.c
002570   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
002572   ffe9                                                                                                               
002574   0e08     MOVLW     0x8                                                                                             
002576   cfdb     MOVFF     0xfdb,0xfea                                                                                     
002578   ffea                                                                                                               
00257a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00257c   0bf8     ANDLW     0xf8                                                                                            
00257e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
002580   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
002582   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
002584   6ee9     MOVWF     0xe9,0x0                                                                                        
002586   6aea     CLRF      0xea,0x0                                                                                        
002588   90d8     BCF       0xd8,0x0,0x0                                                                                    
00258a   36e9     RLCF      0xe9,0x1,0x0                                                                                    
00258c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00258e   0ec4     MOVLW     0xc4                                                                                            
002590   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002592   0e00     MOVLW     0x0                                                                                             
002594   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002596   cfee     MOVFF     0xfee,0xb                                                                                       
002598   f00b                                                                                                               
00259a   cfef     MOVFF     0xfef,0xc                                                                                       
00259c   f00c                                                                                                               
00259e   0e01     MOVLW     0x1                                                                                             
0025a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025a2   0ffd     ADDLW     0xfd                                                                                            
0025a4   6ee6     MOVWF     0xe6,0x0                                                                                        
0025a6   0e06     MOVLW     0x6                                                                                             
0025a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0025aa   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
0025ac   0d04     MULLW     0x4                                                                                             
0025ae   cff3     MOVFF     0xff3,0xfe9                                                                                     
0025b0   ffe9                                                                                                               
0025b2   cff4     MOVFF     0xff4,0xfea                                                                                     
0025b4   ffea                                                                                                               
0025b6   0e00     MOVLW     0x0                                                                                             
0025b8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0025ba   0e04     MOVLW     0x4                                                                                             
0025bc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0025be   0e02     MOVLW     0x2                                                                                             
0025c0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0025c2   0e00     MOVLW     0x0                                                                                             
0025c4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0025c6   cfee     MOVFF     0xfee,0xd                                                                                       
0025c8   f00d                                                                                                               
0025ca   cfef     MOVFF     0xfef,0xe                                                                                       
0025cc   f00e                                                                                                               
0025ce   0e03     MOVLW     0x3                                                                                             
0025d0   260d     ADDWF     0xd,0x1,0x0                                                                                     
0025d2   0e00     MOVLW     0x0                                                                                             
0025d4   220e     ADDWFC    0xe,0x1,0x0                                                                                     
0025d6   c00d     MOVFF     0xd,0xfe6                                                                                       
0025d8   ffe6                                                                                                               
0025da   c00e     MOVFF     0xe,0xfe6                                                                                       
0025dc   ffe6                                                                                                               
0025de   d004     BRA       0x25e8                                                                                          
0025e0   c00c     MOVFF     0xc,0xffa                                                                                       
0025e2   fffa                                                                                                               
0025e4   500b     MOVF      0xb,0x0,0x0                                                                                     
0025e6   6ef9     MOVWF     0xf9,0x0                                                                                        
0025e8   dffb     RCALL     0x25e0                                                                                          
0025ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		/*                                                                             Z:\home\andres\u4a2\user\handlerManager.c
                                           	         * Prepare dual-ram buffer for next OUT transaction                     Z:\home\andres\u4a2\user\handlerManager.c
                                           	         */                                                                     Z:\home\andres\u4a2\user\handlerManager.c
0025f0   0e06     MOVLW     0x6            		EPOUT_SIZE(ep) = getEPSizeOUT(ep);                                             Z:\home\andres\u4a2\user\handlerManager.c
0025f2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0025f4   ffe6                                                                                                               
0025f6   da1e     RCALL     0x2a34                                                                                          
0025f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0025fc   0e06     MOVLW     0x6                                                                                             
0025fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
002600   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002602   0d04     MULLW     0x4                                                                                             
002604   cff3     MOVFF     0xff3,0xfe9                                                                                     
002606   ffe9                                                                                                               
002608   cff4     MOVFF     0xff4,0xfea                                                                                     
00260a   ffea                                                                                                               
00260c   0e00     MOVLW     0x0                                                                                             
00260e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002610   0e04     MOVLW     0x4                                                                                             
002612   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002614   52ee     MOVF      0xee,0x1,0x0                                                                                    
002616   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002618   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00261a   6eef     MOVWF     0xef,0x0                                                                                        
                                           	        //mUSBBufferReady(USBGEN_BD_OUT);                                       Z:\home\andres\u4a2\user\handlerManager.c
00261c   0e03     MOVLW     0x3            		if (ep<3){                                                                     Z:\home\andres\u4a2\user\handlerManager.c
00261e   6ef3     MOVWF     0xf3,0x0                                                                                        
002620   0e06     MOVLW     0x6                                                                                             
002622   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002624   fff4                                                                                                               
002626   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002628   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00262a   e20b     BC        0x2642                                                                                          
00262c   da96     RCALL     0x2b5a         			mUSBBufferReady2(EPOUT_BDT(ep));                                              Z:\home\andres\u4a2\user\handlerManager.c
00262e   da6f     RCALL     0x2b0e                                                                                          
002630   50ef     MOVF      0xef,0x0,0x0                                                                                    
002632   0b40     ANDLW     0x40                                                                                            
002634   0a40     XORLW     0x40                                                                                            
002636   e001     BZ        0x263a                                                                                          
002638   0e01     MOVLW     0x1                                                                                             
00263a   6e0b     MOVWF     0xb,0x0                                                                                         
00263c   da68     RCALL     0x2b0e                                                                                          
00263e   da27     RCALL     0x2a8e                                                                                          
002a8e   500b     MOVF      0xb,0x0,0x0                                                                                     
002a90   0b01     ANDLW     0x1                                                                                             
002a92   6ef3     MOVWF     0xf3,0x0                                                                                        
002a94   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
002a96   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
002a98   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
002a9a   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
002a9c   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
002a9e   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
002aa0   0ebf     MOVLW     0xbf                                                                                            
002aa2   14ef     ANDWF     0xef,0x0,0x0                                                                                    
002aa4   10f3     IORWF     0xf3,0x0,0x0                                                                                    
002aa6   6eef     MOVWF     0xef,0x0                                                                                        
002aa8   0012     RETURN    0x0                                                                                             
002b0e   0e06     MOVLW     0x6                                                                                             
002b10   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b12   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002b14   ef22     GOTO      0x2a44                                                                                          
002b16   f015                                                                                                               
002b5a   0e40     MOVLW     0x40                                                                                            
002b5c   6e0b     MOVWF     0xb,0x0                                                                                         
002b5e   dfd7     RCALL     0x2b0e                                                                                          
002b60   500b     MOVF      0xb,0x0,0x0                                                                                     
002b62   16ef     ANDWF     0xef,0x1,0x0                                                                                    
002b64   0012     RETURN    0x0                                                                                             
002640   d001     BRA       0x2644         		}else{                                                                         Z:\home\andres\u4a2\user\handlerManager.c
002642   da8b     RCALL     0x2b5a         			mUSBBufferReady3(EPOUT_BDT(ep));                                              Z:\home\andres\u4a2\user\handlerManager.c
002644   0e88     MOVLW     0x88                                                                                            
002646   6e0b     MOVWF     0xb,0x0                                                                                         
002648   da62     RCALL     0x2b0e                                                                                          
00264a   500b     MOVF      0xb,0x0,0x0                                                                                     
00264c   12ef     IORWF     0xef,0x1,0x0                                                                                    
                                           		}                                                                              Z:\home\andres\u4a2\user\handlerManager.c
                                           	    }//end if                                                                   Z:\home\andres\u4a2\user\handlerManager.c
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
002654   0e09     MOVLW     0x9            }//end USBGenRead                                                                Z:\home\andres\u4a2\user\handlerManager.c
002656   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002658   e202     BC        0x265e                                                                                          
00265a   6ae1     CLRF      0xe1,0x0                                                                                        
00265c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00265e   6ee1     MOVWF     0xe1,0x0                                                                                        
002660   d205     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002662   da5a     RCALL     0x2b18         void USBGenWrite2(byte handler, byte len) {                                      Z:\home\andres\u4a2\user\handlerManager.c
002664   0e06     MOVLW     0x6                                                                                             
002666   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	byte i;                                                                         Z:\home\andres\u4a2\user\handlerManager.c
                                           	epHandlerMapItem hmi;                                                           Z:\home\andres\u4a2\user\handlerManager.c
                                           	byte ep;                                                                        Z:\home\andres\u4a2\user\handlerManager.c
002668   0efe     MOVLW     0xfe           	hmi = epHandlerMap[handler];                                                    Z:\home\andres\u4a2\user\handlerManager.c
00266a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00266c   d9f5     RCALL     0x2a58                                                                                          
00266e   da2c     RCALL     0x2ac8                                                                                          
002670   0e04     MOVLW     0x4                                                                                             
002672   cfee     MOVFF     0xfee,0xfdb                                                                                     
002674   ffdb                                                                                                               
002ac8   0e01     MOVLW     0x1                                                                                             
002aca   cfee     MOVFF     0xfee,0xfdb                                                                                     
002acc   ffdb                                                                                                               
002ace   0e02     MOVLW     0x2                                                                                             
002ad0   cfee     MOVFF     0xfee,0xfdb                                                                                     
002ad2   ffdb                                                                                                               
002ad4   0e03     MOVLW     0x3                                                                                             
002ad6   cfee     MOVFF     0xfee,0xfdb                                                                                     
002ad8   ffdb                                                                                                               
002ada   0012     RETURN    0x0                                                                                             
002676   50d9     MOVF      0xd9,0x0,0x0   	ep = hmi.ep.EPNum;                                                              Z:\home\andres\u4a2\user\handlerManager.c
002678   0f01     ADDLW     0x1                                                                                             
00267a   6ee9     MOVWF     0xe9,0x0                                                                                        
00267c   cfda     MOVFF     0xfda,0xfea                                                                                     
00267e   ffea                                                                                                               
002680   50ef     MOVF      0xef,0x0,0x0                                                                                    
002682   0b0f     ANDLW     0xf                                                                                             
002684   6ee7     MOVWF     0xe7,0x0                                                                                        
002686   0e05     MOVLW     0x5                                                                                             
002688   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00268a   ffdb                                                                                                               
                                           	/*                                                                              Z:\home\andres\u4a2\user\handlerManager.c
                                           	* Value of len should be equal to or smaller than USBGEN_EP_SIZE.               Z:\home\andres\u4a2\user\handlerManager.c
                                           	* This check forces the value of len to meet the precondition.                  Z:\home\andres\u4a2\user\handlerManager.c
                                           	*/                                                                              Z:\home\andres\u4a2\user\handlerManager.c
00268c   0efd     MOVLW     0xfd           	if(len > getEPSizeIN(ep)-SIZE__HM_DATA_PACKET_HEADER)                           Z:\home\andres\u4a2\user\handlerManager.c
00268e   cfdb     MOVFF     0xfdb,0xb                                                                                       
002690   f00b                                                                                                               
002692   c00b     MOVFF     0xb,0xfe6                                                                                       
002694   ffe6                                                                                                               
002696   da22     RCALL     0x2adc                                                                                          
002698   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00269a   cfe7     MOVFF     0xfe7,0xb                                                                                       
00269c   f00b                                                                                                               
00269e   0ffd     ADDLW     0xfd                                                                                            
0026a0   80d8     BSF       0xd8,0x0,0x0                                                                                    
0026a2   540b     SUBFWB    0xb,0x0,0x0                                                                                     
0026a4   e206     BC        0x26b2                                                                                          
002adc   0e05     MOVLW     0x5                                                                                             
002ade   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002ae0   ffe6                                                                                                               
002ae2   dfac     RCALL     0x2a3c                                                                                          
002ae4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002ae6   0012     RETURN    0x0                                                                                             
0026a6   da1a     RCALL     0x2adc         	    len = getEPSizeIN(ep)-SIZE__HM_DATA_PACKET_HEADER;                          Z:\home\andres\u4a2\user\handlerManager.c
0026a8   0ffd     ADDLW     0xfd                                                                                            
0026aa   6ee7     MOVWF     0xe7,0x0                                                                                        
0026ac   0efd     MOVLW     0xfd                                                                                            
0026ae   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0026b0   ffdb                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           	//seteo los datos del header                                                    Z:\home\andres\u4a2\user\handlerManager.c
0026b2   0efe     MOVLW     0xfe           	hn_opType.handlerNumber=handler;                                                Z:\home\andres\u4a2\user\handlerManager.c
0026b4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0026b6   0100     MOVLB     0x0                                                                                             
0026b8   0b1f     ANDLW     0x1f                                                                                            
0026ba   6ef3     MOVWF     0xf3,0x0                                                                                        
0026bc   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
0026be   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
0026c0   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
0026c2   0e07     MOVLW     0x7                                                                                             
0026c4   15e4     ANDWF     0xe4,0x0,0x1                                                                                    
0026c6   10f3     IORWF     0xf3,0x0,0x0                                                                                    
0026c8   6fe4     MOVWF     0xe4,0x1                                                                                        
0026ca   91e4     BCF       0xe4,0x0,0x1   	hn_opType.operationType=SEND;                                                   Z:\home\andres\u4a2\user\handlerManager.c
0026cc   93e4     BCF       0xe4,0x1,0x1                                                                                    
0026ce   95e4     BCF       0xe4,0x2,0x1                                                                                    
                                           	//copio el header en la dual-ram buffer                                         Z:\home\andres\u4a2\user\handlerManager.c
0026d0   da18     RCALL     0x2b02         	EPBUFFERIN(ep)[0] = hn_opType.hn_op;                                            Z:\home\andres\u4a2\user\handlerManager.c
0026d2   da3b     RCALL     0x2b4a                                                                                          
0026d4   c0e4     MOVFF     0xe4,0xfef                                                                                      
0026d6   ffef                                                                                                               
0026d8   da46     RCALL     0x2b66         	EPBUFFERIN(ep)[1] = len+SIZE__HM_DATA_PACKET_HEADER;                            Z:\home\andres\u4a2\user\handlerManager.c
0026da   da37     RCALL     0x2b4a                                                                                          
0026dc   0e01     MOVLW     0x1                                                                                             
0026de   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0026e0   0e00     MOVLW     0x0                                                                                             
0026e2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0026e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0026e6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0026e8   6eef     MOVWF     0xef,0x0                                                                                        
002b66   0efd     MOVLW     0xfd                                                                                            
002b68   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b6a   0f03     ADDLW     0x3                                                                                             
002b6c   6ee6     MOVWF     0xe6,0x0                                                                                        
002b6e   ef81     GOTO      0x2b02                                                                                          
002b70   f015                                                                                                               
0026ea   da0b     RCALL     0x2b02         	EPBUFFERIN(ep)[2] = 0;                                                          Z:\home\andres\u4a2\user\handlerManager.c
0026ec   da2e     RCALL     0x2b4a                                                                                          
0026ee   d9ca     RCALL     0x2a84                                                                                          
0026f0   6aef     CLRF      0xef,0x0                                                                                        
002af8   50ee     MOVF      0xee,0x0,0x0                                                                                    
002afa   cfef     MOVFF     0xfef,0xfea                                                                                     
002afc   ffea                                                                                                               
002afe   6ee9     MOVWF     0xe9,0x0                                                                                        
002b00   0012     RETURN    0x0                                                                                             
002b4a   df9c     RCALL     0x2a84                                                                                          
002b4c   ef7c     GOTO      0x2af8                                                                                          
002b4e   f015                                                                                                               
                                           	//usbgen_in[0]=hn_opType.hn_op;                                                 Z:\home\andres\u4a2\user\handlerManager.c
                                           	/*                                                                              Z:\home\andres\u4a2\user\handlerManager.c
                                           	* Copy data from user's buffer to dual-ram buffer                               Z:\home\andres\u4a2\user\handlerManager.c
                                           	*/                                                                              Z:\home\andres\u4a2\user\handlerManager.c
0026f2   da39     RCALL     0x2b66         	EPIN_SIZE(ep) = len+SIZE__HM_DATA_PACKET_HEADER;                                Z:\home\andres\u4a2\user\handlerManager.c
0026f4   52ee     MOVF      0xee,0x1,0x0                                                                                    
0026f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0026f8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0026fa   6eef     MOVWF     0xef,0x0                                                                                        
                                           	//TODO if (!EPIN_IS_BUSY(ep)) { //testear deberia sustituir el if(!mUSBGenTxIsBusy()) en los modulos de user Z:\home\andres\u4a2\user\handlerManager.c
                                           	/*TODO deshardcodear la invocacion segun el numero de endpoint, hay que hacerlo segun el tipo de endpoint,  Z:\home\andres\u4a2\user\handlerManager.c
                                           	 *mUSBBufferReady3 solo debe de invocarse para los endpoints interrupt*/        Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           	/*segun el tipo de transferencia es el BufferReady que tengo que invocar*/      Z:\home\andres\u4a2\user\handlerManager.c
0026fc   0e03     MOVLW     0x3            	if(ep < 3){                                                                     Z:\home\andres\u4a2\user\handlerManager.c
0026fe   6ef3     MOVWF     0xf3,0x0                                                                                        
002700   0e05     MOVLW     0x5                                                                                             
002702   da26     RCALL     0x2b50                                                                                          
002704   e20b     BC        0x271c                                                                                          
002706   da35     RCALL     0x2b72         		mUSBBufferReady2(EPIN_BDT(ep));                                                Z:\home\andres\u4a2\user\handlerManager.c
002708   d9fc     RCALL     0x2b02                                                                                          
00270a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00270c   0b40     ANDLW     0x40                                                                                            
00270e   0a40     XORLW     0x40                                                                                            
002710   e001     BZ        0x2714                                                                                          
002712   0e01     MOVLW     0x1                                                                                             
002714   6e0b     MOVWF     0xb,0x0                                                                                         
002716   d9f5     RCALL     0x2b02                                                                                          
002718   d9ba     RCALL     0x2a8e                                                                                          
002a44   0d04     MULLW     0x4                                                                                             
002a46   cff3     MOVFF     0xff3,0xfe9                                                                                     
002a48   ffe9                                                                                                               
002a4a   cff4     MOVFF     0xff4,0xfea                                                                                     
002a4c   ffea                                                                                                               
002a4e   0e00     MOVLW     0x0                                                                                             
002a50   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002a52   0e04     MOVLW     0x4                                                                                             
002a54   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002a56   0012     RETURN    0x0                                                                                             
002b72   0e40     MOVLW     0x40                                                                                            
002b74   6e0b     MOVWF     0xb,0x0                                                                                         
002b76   dfc5     RCALL     0x2b02                                                                                          
002b78   500b     MOVF      0xb,0x0,0x0                                                                                     
002b7a   16ef     ANDWF     0xef,0x1,0x0                                                                                    
002b7c   0012     RETURN    0x0                                                                                             
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
00271a   d001     BRA       0x271e         	else{                                                                           Z:\home\andres\u4a2\user\handlerManager.c
00271c   da2a     RCALL     0x2b72         		mUSBBufferReady3(EPIN_BDT(ep));                                                Z:\home\andres\u4a2\user\handlerManager.c
00271e   0e88     MOVLW     0x88                                                                                            
002720   6e0b     MOVWF     0xb,0x0                                                                                         
002722   d9ef     RCALL     0x2b02                                                                                          
002724   500b     MOVF      0xb,0x0,0x0                                                                                     
002726   12ef     IORWF     0xef,0x1,0x0                                                                                    
002b02   0e05     MOVLW     0x5                                                                                             
002b04   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b06   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002b08   0f01     ADDLW     0x1                                                                                             
002b0a   ef22     GOTO      0x2a44                                                                                          
002b0c   f015                                                                                                               
                                           	}		                                                                             Z:\home\andres\u4a2\user\handlerManager.c
002728   0e06     MOVLW     0x6            }//end USBGenWrite                                                               Z:\home\andres\u4a2\user\handlerManager.c
00272a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00272c   e202     BC        0x2732                                                                                          
00272e   6ae1     CLRF      0xe1,0x0                                                                                        
002730   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002732   6ee1     MOVWF     0xe1,0x0                                                                                        
002734   d19b     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002736   d9d8     RCALL     0x2ae8         byte newHandlerTableEntry(byte endPIn, rom near char* uTableDirection){          Z:\home\andres\u4a2\user\handlerManager.c
002ae8   d817     RCALL     0x2b18                                                                                          
002aea   52e6     MOVF      0xe6,0x1,0x0                                                                                    
002aec   6adf     CLRF      0xdf,0x0       	byte i=0;                                                                       Z:\home\andres\u4a2\user\handlerManager.c
002aee   0012     RETURN    0x0                                                                                             
002738   0e10     MOVLW     0x10           	while (i<MAX_HANDLERS){                                                         Z:\home\andres\u4a2\user\handlerManager.c
00273a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00273c   e210     BC        0x275e                                                                                          
00275c   d7ed     BRA       0x2738                                                                                          
00273e   da1f     RCALL     0x2b7e         		if (epHandlerMap[i].ep.empty == 1) {                                           Z:\home\andres\u4a2\user\handlerManager.c
002740   50ef     MOVF      0xef,0x0,0x0                                                                                    
002742   0b20     ANDLW     0x20                                                                                            
002744   e00a     BZ        0x275a                                                                                          
002746   da1b     RCALL     0x2b7e         			epHandlerMap[i].ep.endPoint = endPIn;                                         Z:\home\andres\u4a2\user\handlerManager.c
002748   0efe     MOVLW     0xfe                                                                                            
00274a   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00274c   ffef                                                                                                               
00274e   da17     RCALL     0x2b7e         			epHandlerMap[i].ep.empty = 0;                                                 Z:\home\andres\u4a2\user\handlerManager.c
002750   9aef     BCF       0xef,0x5,0x0                                                                                    
002752   d9e7     RCALL     0x2b22         			epHandlerMap[i].uTableDirection = uTableDirection;                            Z:\home\andres\u4a2\user\handlerManager.c
002754   d9b2     RCALL     0x2aba                                                                                          
002756   50df     MOVF      0xdf,0x0,0x0   			return i;			                                                                  Z:\home\andres\u4a2\user\handlerManager.c
002758   d003     BRA       0x2760                                                                                          
                                           		}                                                                              Z:\home\andres\u4a2\user\handlerManager.c
00275a   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\user\handlerManager.c
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
00275e   0eff     MOVLW     0xff           	return ERROR;                                                                   Z:\home\andres\u4a2\user\handlerManager.c
002760   52e5     MOVF      0xe5,0x1,0x0   } 			                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002762   d184     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002764   d9c1     RCALL     0x2ae8         BOOL existsTableEntry(rom near char* uTableDirection){                           Z:\home\andres\u4a2\user\handlerManager.c
                                           	byte i=0;                                                                       Z:\home\andres\u4a2\user\handlerManager.c
002766   0e10     MOVLW     0x10           	while (i<MAX_HANDLERS){                                                         Z:\home\andres\u4a2\user\handlerManager.c
002768   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00276a   e211     BC        0x278e                                                                                          
00278c   d7ec     BRA       0x2766                                                                                          
00276c   d9da     RCALL     0x2b22         		if (epHandlerMap[i].uTableDirection == uTableDirection) {                      Z:\home\andres\u4a2\user\handlerManager.c
00276e   cfee     MOVFF     0xfee,0xb                                                                                       
002770   f00b                                                                                                               
002772   cfef     MOVFF     0xfef,0xc                                                                                       
002774   f00c                                                                                                               
002776   0efd     MOVLW     0xfd                                                                                            
002778   50db     MOVF      0xdb,0x0,0x0                                                                                    
00277a   180b     XORWF     0xb,0x0,0x0                                                                                     
00277c   e106     BNZ       0x278a                                                                                          
00277e   0efe     MOVLW     0xfe                                                                                            
002780   50db     MOVF      0xdb,0x0,0x0                                                                                    
002782   180c     XORWF     0xc,0x0,0x0                                                                                     
002784   e102     BNZ       0x278a                                                                                          
002786   0e01     MOVLW     0x1            			return TRUE;			                                                               Z:\home\andres\u4a2\user\handlerManager.c
002788   d003     BRA       0x2790                                                                                          
                                           		}                                                                              Z:\home\andres\u4a2\user\handlerManager.c
00278a   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\user\handlerManager.c
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
00278e   0e00     MOVLW     0x0            	return FALSE;                                                                   Z:\home\andres\u4a2\user\handlerManager.c
002790   52e5     MOVF      0xe5,0x1,0x0   } 	                                                                              Z:\home\andres\u4a2\user\handlerManager.c
002792   d16c     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002794   d9ad     RCALL     0x2af0         void initHandlerTable(){                                                         Z:\home\andres\u4a2\user\handlerManager.c
002af0   d813     RCALL     0x2b18                                                                                          
002af2   0e03     MOVLW     0x3                                                                                             
002af4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
002af6   0012     RETURN    0x0                                                                                             
002b18   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
002b1a   ffe6                                                                                                               
002b1c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002b1e   ffd9                                                                                                               
002b20   0012     RETURN    0x0                                                                                             
                                           	byte i;                                                                         Z:\home\andres\u4a2\user\handlerManager.c
                                           	endpoint adminEndpoint;                                                         Z:\home\andres\u4a2\user\handlerManager.c
002796   ecd3     CALL      0x15a6,0x0     	adminEndpoint = getAdminEndpoint();                                             Z:\home\andres\u4a2\user\handlerManager.c
002798   f00a                                                                                                               
00279a   52de     MOVF      0xde,0x1,0x0                                                                                    
00279c   cff3     MOVFF     0xff3,0xfde                                                                                     
00279e   ffde                                                                                                               
0027a0   cff4     MOVFF     0xff4,0xfdd                                                                                     
0027a2   ffdd                                                                                                               
0027a4   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0027a6   6adf     CLRF      0xdf,0x0       	for(i=0;i<MAX_HANDLERS;i++){                                                    Z:\home\andres\u4a2\user\handlerManager.c
0027a8   0e10     MOVLW     0x10                                                                                            
0027aa   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0027ac   e207     BC        0x27bc                                                                                          
0027b8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0027ba   d7f6     BRA       0x27a8                                                                                          
0027ae   d9e7     RCALL     0x2b7e         		epHandlerMap[i].ep.empty = 1;                                                  Z:\home\andres\u4a2\user\handlerManager.c
0027b0   8aef     BSF       0xef,0x5,0x0                                                                                    
0027b2   d9b7     RCALL     0x2b22         		epHandlerMap[i].uTableDirection = 0; // Asumo 0 como NULL TODO revisar         Z:\home\andres\u4a2\user\handlerManager.c
0027b4   6aee     CLRF      0xee,0x0                                                                                        
0027b6   6aed     CLRF      0xed,0x0                                                                                        
002b22   d82d     RCALL     0x2b7e                                                                                          
002b24   ef42     GOTO      0x2a84                                                                                          
002b26   f015                                                                                                               
002b7e   50df     MOVF      0xdf,0x0,0x0                                                                                    
002b80   ef2c     GOTO      0x2a58                                                                                          
002b82   f015                                                                                                               
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
0027bc   0e01     MOVLW     0x1            	epHandlerMap[0].ep = adminEndpoint;                                             Z:\home\andres\u4a2\user\handlerManager.c
0027be   cfdb     MOVFF     0xfdb,0x61                                                                                      
0027c0   f061                                                                                                               
0027c2   0e02     MOVLW     0x2                                                                                             
0027c4   cfdb     MOVFF     0xfdb,0x62                                                                                      
0027c6   f062                                                                                                               
                                           	//cargo el ROM_MAX_EP_NUMBER en ram                                             Z:\home\andres\u4a2\user\handlerManager.c
0027c8   0e40     MOVLW     0x40           	ram_max_ep_number = ROM_MAX_EP_NUMBER;                                          Z:\home\andres\u4a2\user\handlerManager.c
0027ca   6ef6     MOVWF     0xf6,0x0                                                                                        
0027cc   0e08     MOVLW     0x8                                                                                             
0027ce   6ef7     MOVWF     0xf7,0x0                                                                                        
0027d0   0008     TBLRD                                                                                                     
0027d2   cff5     MOVFF     0xff5,0x60                                                                                      
0027d4   f060                                                                                                               
0027d6   0e03     MOVLW     0x3            }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
0027d8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0027da   e202     BC        0x27e0                                                                                          
0027dc   6ae1     CLRF      0xe1,0x0                                                                                        
0027de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0027e0   6ee1     MOVWF     0xe1,0x0                                                                                        
0027e2   d144     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           void initHandlerManager(void){                                                   Z:\home\andres\u4a2\user\handlerManager.c
                                           	//initHandlerBuffers();                                                         Z:\home\andres\u4a2\user\handlerManager.c
0027e4   dfd7     RCALL     0x2794         	initHandlerTable();				//Inicializo tabla de mapeo de handler a endpoint en HandlerManager Z:\home\andres\u4a2\user\handlerManager.c
0027e6   ef9f     GOTO      0xd3e          	adminModuleInit();				//Inicializo el Admin Module                              Z:\home\andres\u4a2\user\handlerManager.c
0027e8   f006                                                                                                               
                                           }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0027ea   d95f     RCALL     0x2aaa         respType removeHandlerTableEntry(byte handler){                                  Z:\home\andres\u4a2\user\handlerManager.c
002aaa   d836     RCALL     0x2b18                                                                                          
002aac   0e02     MOVLW     0x2                                                                                             
002aae   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	pUserFunc releaseFunction;                                                      Z:\home\andres\u4a2\user\handlerManager.c
0027ec   e24b     BC        0x2884         	if (handler < MAX_HANDLERS && epHandlerMap[handler].ep.empty == 0){             Z:\home\andres\u4a2\user\handlerManager.c
0027ee   0efe     MOVLW     0xfe                                                                                            
0027f0   d99b     RCALL     0x2b28                                                                                          
0027f2   e148     BNZ       0x2884                                                                                          
002ab0   0e10     MOVLW     0x10                                                                                            
002ab2   6ef3     MOVWF     0xf3,0x0                                                                                        
002ab4   0efe     MOVLW     0xfe                                                                                            
002ab6   efa8     GOTO      0x2b50                                                                                          
002ab8   f015                                                                                                               
002b50   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002b52   fff4                                                                                                               
002b54   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002b56   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
002b58   0012     RETURN    0x0                                                                                             
0027f4   0efe     MOVLW     0xfe           		epHandlerMap[handler].ep.empty = 1;                                            Z:\home\andres\u4a2\user\handlerManager.c
0027f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0027f8   0d04     MULLW     0x4                                                                                             
0027fa   cff3     MOVFF     0xff3,0xfe9                                                                                     
0027fc   ffe9                                                                                                               
0027fe   cff4     MOVFF     0xff4,0xfea                                                                                     
002800   ffea                                                                                                               
002802   0e61     MOVLW     0x61                                                                                            
002804   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002806   0e00     MOVLW     0x0                                                                                             
002808   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00280a   8aef     BSF       0xef,0x5,0x0                                                                                    
00280c   0efe     MOVLW     0xfe           		releaseFunction = getModuleReleaseDirection(epHandlerMap[handler].uTableDirection); Z:\home\andres\u4a2\user\handlerManager.c
00280e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002810   0d04     MULLW     0x4                                                                                             
002812   cff3     MOVFF     0xff3,0xfe9                                                                                     
002814   ffe9                                                                                                               
002816   cff4     MOVFF     0xff4,0xfea                                                                                     
002818   ffea                                                                                                               
00281a   0e61     MOVLW     0x61                                                                                            
00281c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00281e   0e00     MOVLW     0x0                                                                                             
002820   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002822   0e02     MOVLW     0x2                                                                                             
002824   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002826   0e00     MOVLW     0x0                                                                                             
002828   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00282a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00282c   ffe6                                                                                                               
00282e   cfef     MOVFF     0xfef,0xfe6                                                                                     
002830   ffe6                                                                                                               
002832   ecc7     CALL      0x138e,0x0                                                                                      
002834   f009                                                                                                               
002836   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002838   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00283a   cff3     MOVFF     0xff3,0xfde                                                                                     
00283c   ffde                                                                                                               
00283e   cff4     MOVFF     0xff4,0xfdd                                                                                     
002840   ffdd                                                                                                               
002842   cfde     MOVFF     0xfde,0xb      		releaseFunction(handler);                                                      Z:\home\andres\u4a2\user\handlerManager.c
002844   f00b                                                                                                               
002846   cfdd     MOVFF     0xfdd,0xc                                                                                       
002848   f00c                                                                                                               
00284a   0efe     MOVLW     0xfe                                                                                            
00284c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00284e   ffe6                                                                                                               
002850   d004     BRA       0x285a                                                                                          
002852   c00c     MOVFF     0xc,0xffa                                                                                       
002854   fffa                                                                                                               
002856   500b     MOVF      0xb,0x0,0x0                                                                                     
002858   6ef9     MOVWF     0xf9,0x0                                                                                        
00285a   dffb     RCALL     0x2852                                                                                          
00285c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00285e   0efe     MOVLW     0xfe           		epHandlerMap[handler].uTableDirection = 0;                                     Z:\home\andres\u4a2\user\handlerManager.c
002860   50db     MOVF      0xdb,0x0,0x0                                                                                    
002862   0d04     MULLW     0x4                                                                                             
002864   cff3     MOVFF     0xff3,0xfe9                                                                                     
002866   ffe9                                                                                                               
002868   cff4     MOVFF     0xff4,0xfea                                                                                     
00286a   ffea                                                                                                               
00286c   0e61     MOVLW     0x61                                                                                            
00286e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002870   0e00     MOVLW     0x0                                                                                             
002872   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002874   0e02     MOVLW     0x2                                                                                             
002876   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002878   0e00     MOVLW     0x0                                                                                             
00287a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00287c   6aee     CLRF      0xee,0x0                                                                                        
00287e   6aed     CLRF      0xed,0x0                                                                                        
002880   0e01     MOVLW     0x1            		return ACK;                                                                    Z:\home\andres\u4a2\user\handlerManager.c
002882   d001     BRA       0x2886                                                                                          
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
                                           	else{                                                                           Z:\home\andres\u4a2\user\handlerManager.c
002884   0e00     MOVLW     0x0            		return NACK;                                                                   Z:\home\andres\u4a2\user\handlerManager.c
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
002886   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
002888   0e02     MOVLW     0x2                                                                                             
00288a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00288c   e202     BC        0x2892                                                                                          
00288e   6ae1     CLRF      0xe1,0x0                                                                                        
002890   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002892   6ee1     MOVWF     0xe1,0x0                                                                                        
002894   500b     MOVF      0xb,0x0,0x0                                                                                     
002896   d0ea     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002898   d908     RCALL     0x2aaa         respType configureHandlerTableEntry(byte handler){                               Z:\home\andres\u4a2\user\handlerManager.c
                                           	pUserFunc configureFunction;                                                    Z:\home\andres\u4a2\user\handlerManager.c
00289a   e22e     BC        0x28f8         	if (handler < MAX_HANDLERS && epHandlerMap[handler].ep.empty == 0){             Z:\home\andres\u4a2\user\handlerManager.c
00289c   0efe     MOVLW     0xfe                                                                                            
00289e   d944     RCALL     0x2b28                                                                                          
0028a0   e12b     BNZ       0x28f8                                                                                          
0028a2   0efe     MOVLW     0xfe           	    configureFunction = getModuleConfigureDirection(epHandlerMap[handler].uTableDirection); Z:\home\andres\u4a2\user\handlerManager.c
0028a4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0028a6   0d04     MULLW     0x4                                                                                             
0028a8   cff3     MOVFF     0xff3,0xfe9                                                                                     
0028aa   ffe9                                                                                                               
0028ac   cff4     MOVFF     0xff4,0xfea                                                                                     
0028ae   ffea                                                                                                               
0028b0   0e61     MOVLW     0x61                                                                                            
0028b2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0028b4   0e00     MOVLW     0x0                                                                                             
0028b6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0028b8   0e02     MOVLW     0x2                                                                                             
0028ba   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0028bc   0e00     MOVLW     0x0                                                                                             
0028be   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0028c0   cfee     MOVFF     0xfee,0xfe6                                                                                     
0028c2   ffe6                                                                                                               
0028c4   cfef     MOVFF     0xfef,0xfe6                                                                                     
0028c6   ffe6                                                                                                               
0028c8   ecd2     CALL      0x13a4,0x0                                                                                      
0028ca   f009                                                                                                               
0028cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0028ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0028d0   cff3     MOVFF     0xff3,0xfde                                                                                     
0028d2   ffde                                                                                                               
0028d4   cff4     MOVFF     0xff4,0xfdd                                                                                     
0028d6   ffdd                                                                                                               
0028d8   cfde     MOVFF     0xfde,0xb      		configureFunction(handler);                                                    Z:\home\andres\u4a2\user\handlerManager.c
0028da   f00b                                                                                                               
0028dc   cfdd     MOVFF     0xfdd,0xc                                                                                       
0028de   f00c                                                                                                               
0028e0   0efe     MOVLW     0xfe                                                                                            
0028e2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0028e4   ffe6                                                                                                               
0028e6   d004     BRA       0x28f0                                                                                          
0028e8   c00c     MOVFF     0xc,0xffa                                                                                       
0028ea   fffa                                                                                                               
0028ec   500b     MOVF      0xb,0x0,0x0                                                                                     
0028ee   6ef9     MOVWF     0xf9,0x0                                                                                        
0028f0   dffb     RCALL     0x28e8                                                                                          
0028f2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0028f4   0e01     MOVLW     0x1            		return ACK;                                                                    Z:\home\andres\u4a2\user\handlerManager.c
0028f6   d001     BRA       0x28fa                                                                                          
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
                                           	else{                                                                           Z:\home\andres\u4a2\user\handlerManager.c
0028f8   0e00     MOVLW     0x0            		return NACK;                                                                   Z:\home\andres\u4a2\user\handlerManager.c
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
0028fa   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
0028fc   0e02     MOVLW     0x2                                                                                             
0028fe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002900   e202     BC        0x2906                                                                                          
002902   6ae1     CLRF      0xe1,0x0                                                                                        
002904   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002906   6ee1     MOVWF     0xe1,0x0                                                                                        
002908   500b     MOVF      0xb,0x0,0x0                                                                                     
00290a   d0b0     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
00290c   d8f1     RCALL     0x2af0         void removeAllOpenModules(void){                                                 Z:\home\andres\u4a2\user\handlerManager.c
                                           	pUserFunc releaseFunction;                                                      Z:\home\andres\u4a2\user\handlerManager.c
00290e   0e01     MOVLW     0x1            	byte handler = 1;                                                               Z:\home\andres\u4a2\user\handlerManager.c
002910   6ef3     MOVWF     0xf3,0x0                                                                                        
002912   0e02     MOVLW     0x2                                                                                             
002914   cff3     MOVFF     0xff3,0xfdb                                                                                     
002916   ffdb                                                                                                               
002918   0e10     MOVLW     0x10           	while(handler < MAX_HANDLERS){                                                  Z:\home\andres\u4a2\user\handlerManager.c
00291a   6ef3     MOVWF     0xf3,0x0                                                                                        
00291c   0e02     MOVLW     0x2                                                                                             
00291e   d918     RCALL     0x2b50                                                                                          
002920   e24c     BC        0x29ba                                                                                          
0029b8   d7af     BRA       0x2918                                                                                          
002922   0e02     MOVLW     0x2            		if (epHandlerMap[handler].ep.empty == 0){                                      Z:\home\andres\u4a2\user\handlerManager.c
002924   d901     RCALL     0x2b28                                                                                          
002926   e146     BNZ       0x29b4                                                                                          
002b28   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b2a   df96     RCALL     0x2a58                                                                                          
002b2c   50ef     MOVF      0xef,0x0,0x0                                                                                    
002b2e   0b20     ANDLW     0x20                                                                                            
002b30   0012     RETURN    0x0                                                                                             
002928   0e02     MOVLW     0x2            			epHandlerMap[handler].ep.empty = 1;                                           Z:\home\andres\u4a2\user\handlerManager.c
00292a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00292c   0d04     MULLW     0x4                                                                                             
00292e   cff3     MOVFF     0xff3,0xfe9                                                                                     
002930   ffe9                                                                                                               
002932   cff4     MOVFF     0xff4,0xfea                                                                                     
002934   ffea                                                                                                               
002936   0e61     MOVLW     0x61                                                                                            
002938   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00293a   0e00     MOVLW     0x0                                                                                             
00293c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00293e   8aef     BSF       0xef,0x5,0x0                                                                                    
002940   0e02     MOVLW     0x2            		    	releaseFunction = getModuleReleaseDirection(epHandlerMap[handler].uTableDirection); Z:\home\andres\u4a2\user\handlerManager.c
002942   50db     MOVF      0xdb,0x0,0x0                                                                                    
002944   0d04     MULLW     0x4                                                                                             
002946   cff3     MOVFF     0xff3,0xfe9                                                                                     
002948   ffe9                                                                                                               
00294a   cff4     MOVFF     0xff4,0xfea                                                                                     
00294c   ffea                                                                                                               
00294e   0e61     MOVLW     0x61                                                                                            
002950   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002952   0e00     MOVLW     0x0                                                                                             
002954   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002956   0e02     MOVLW     0x2                                                                                             
002958   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00295a   0e00     MOVLW     0x0                                                                                             
00295c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00295e   cfee     MOVFF     0xfee,0xfe6                                                                                     
002960   ffe6                                                                                                               
002962   cfef     MOVFF     0xfef,0xfe6                                                                                     
002964   ffe6                                                                                                               
002966   ecc7     CALL      0x138e,0x0                                                                                      
002968   f009                                                                                                               
00296a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00296c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00296e   cff3     MOVFF     0xff3,0xfde                                                                                     
002970   ffde                                                                                                               
002972   cff4     MOVFF     0xff4,0xfdd                                                                                     
002974   ffdd                                                                                                               
002976   cfde     MOVFF     0xfde,0xb      			releaseFunction(handler);                                                     Z:\home\andres\u4a2\user\handlerManager.c
002978   f00b                                                                                                               
00297a   cfdd     MOVFF     0xfdd,0xc                                                                                       
00297c   f00c                                                                                                               
00297e   0e02     MOVLW     0x2                                                                                             
002980   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002982   ffe6                                                                                                               
002984   d004     BRA       0x298e                                                                                          
002986   c00c     MOVFF     0xc,0xffa                                                                                       
002988   fffa                                                                                                               
00298a   500b     MOVF      0xb,0x0,0x0                                                                                     
00298c   6ef9     MOVWF     0xf9,0x0                                                                                        
00298e   dffb     RCALL     0x2986                                                                                          
002990   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002992   0e02     MOVLW     0x2            			epHandlerMap[handler].uTableDirection = 0;                                    Z:\home\andres\u4a2\user\handlerManager.c
002994   50db     MOVF      0xdb,0x0,0x0                                                                                    
002996   0d04     MULLW     0x4                                                                                             
002998   cff3     MOVFF     0xff3,0xfe9                                                                                     
00299a   ffe9                                                                                                               
00299c   cff4     MOVFF     0xff4,0xfea                                                                                     
00299e   ffea                                                                                                               
0029a0   0e61     MOVLW     0x61                                                                                            
0029a2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0029a4   0e00     MOVLW     0x0                                                                                             
0029a6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0029a8   0e02     MOVLW     0x2                                                                                             
0029aa   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0029ac   0e00     MOVLW     0x0                                                                                             
0029ae   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0029b0   6aee     CLRF      0xee,0x0                                                                                        
0029b2   6aed     CLRF      0xed,0x0                                                                                        
                                           			//return ACK; mal !!!! gracias jorge por darte cuenta                         Z:\home\andres\u4a2\user\handlerManager.c
                                           		}                                                                              Z:\home\andres\u4a2\user\handlerManager.c
0029b4   0e02     MOVLW     0x2            		handler++;                                                                     Z:\home\andres\u4a2\user\handlerManager.c
0029b6   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                           	}                                                                               Z:\home\andres\u4a2\user\handlerManager.c
                                           	return ACK;                                                                     Z:\home\andres\u4a2\user\handlerManager.c
0029ba   0e03     MOVLW     0x3            }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
0029bc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0029be   e202     BC        0x29c4                                                                                          
0029c0   6ae1     CLRF      0xe1,0x0                                                                                        
0029c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0029c4   6ee1     MOVWF     0xe1,0x0                                                                                        
0029c6   d052     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
0029c8   d8a7     RCALL     0x2b18         byte* getSharedBuffer(byte handler){                                             Z:\home\andres\u4a2\user\handlerManager.c
0029ca   0e05     MOVLW     0x5                                                                                             
0029cc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	// esta hecho para modo 0 ping pong                                             Z:\home\andres\u4a2\user\handlerManager.c
                                           	epHandlerMapItem hmi;                                                           Z:\home\andres\u4a2\user\handlerManager.c
                                           	byte ep;                                                                        Z:\home\andres\u4a2\user\handlerManager.c
0029ce   0efe     MOVLW     0xfe           	hmi = epHandlerMap[handler];                                                    Z:\home\andres\u4a2\user\handlerManager.c
0029d0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0029d2   d842     RCALL     0x2a58                                                                                          
0029d4   cfee     MOVFF     0xfee,0xfdf                                                                                     
0029d6   ffdf                                                                                                               
0029d8   d877     RCALL     0x2ac8                                                                                          
002a58   0d04     MULLW     0x4                                                                                             
002a5a   cff3     MOVFF     0xff3,0xfe9                                                                                     
002a5c   ffe9                                                                                                               
002a5e   cff4     MOVFF     0xff4,0xfea                                                                                     
002a60   ffea                                                                                                               
002a62   0e61     MOVLW     0x61                                                                                            
002a64   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002a66   0e00     MOVLW     0x0                                                                                             
002a68   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002a6a   0012     RETURN    0x0                                                                                             
0029da   cfd9     MOVFF     0xfd9,0xfe9    	ep = hmi.ep.EPNum;                                                              Z:\home\andres\u4a2\user\handlerManager.c
0029dc   ffe9                                                                                                               
0029de   cfda     MOVFF     0xfda,0xfea                                                                                     
0029e0   ffea                                                                                                               
0029e2   50ef     MOVF      0xef,0x0,0x0                                                                                    
0029e4   0b0f     ANDLW     0xf                                                                                             
0029e6   6ee7     MOVWF     0xe7,0x0                                                                                        
0029e8   0e04     MOVLW     0x4                                                                                             
0029ea   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0029ec   ffdb                                                                                                               
0029ee   0efe     MOVLW     0xfe           	if (handler==0)                                                                 Z:\home\andres\u4a2\user\handlerManager.c
0029f0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0029f2   e107     BNZ       0x2a02                                                                                          
                                           		//Se que el admin atiende el endpoint 1 y esta es la forma que tengo de que se pueda inicializar antes Z:\home\andres\u4a2\user\handlerManager.c
                                           		//el admin que la tabla de BDTs                                                Z:\home\andres\u4a2\user\handlerManager.c
0029f4   0e73     MOVLW     0x73           		return &ep1_in_buffer[SIZE__HM_DATA_PACKET_HEADER];                            Z:\home\andres\u4a2\user\handlerManager.c
0029f6   6e0b     MOVWF     0xb,0x0                                                                                         
0029f8   0e04     MOVLW     0x4                                                                                             
0029fa   c00b     MOVFF     0xb,0xff3                                                                                       
0029fc   fff3                                                                                                               
0029fe   6ef4     MOVWF     0xf4,0x0                                                                                        
002a00   d012     BRA       0x2a26                                                                                          
                                           	else                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002a02   0e04     MOVLW     0x4            		return EPBUFFERIN(ep) + SIZE__HM_DATA_PACKET_HEADER;                           Z:\home\andres\u4a2\user\handlerManager.c
002a04   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a06   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
002a08   0f01     ADDLW     0x1                                                                                             
002a0a   d81c     RCALL     0x2a44                                                                                          
002a0c   d83b     RCALL     0x2a84                                                                                          
002a0e   cfee     MOVFF     0xfee,0xb                                                                                       
002a10   f00b                                                                                                               
002a12   cfef     MOVFF     0xfef,0xc                                                                                       
002a14   f00c                                                                                                               
002a16   0e03     MOVLW     0x3                                                                                             
002a18   260b     ADDWF     0xb,0x1,0x0                                                                                     
002a1a   0e00     MOVLW     0x0                                                                                             
002a1c   220c     ADDWFC    0xc,0x1,0x0                                                                                     
002a1e   c00b     MOVFF     0xb,0xff3                                                                                       
002a20   fff3                                                                                                               
002a22   c00c     MOVFF     0xc,0xff4                                                                                       
002a24   fff4                                                                                                               
002a84   0e02     MOVLW     0x2                                                                                             
002a86   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002a88   0e00     MOVLW     0x0                                                                                             
002a8a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002a8c   0012     RETURN    0x0                                                                                             
002a26   0e05     MOVLW     0x5            }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
002a28   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002a2a   e202     BC        0x2a30                                                                                          
002a2c   6ae1     CLRF      0xe1,0x0                                                                                        
002a2e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a30   6ee1     MOVWF     0xe1,0x0                                                                                        
002a32   d01c     BRA       0x2a6c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002a34   cfd9     MOVFF     0xfd9,0xfe6    byte getEPSizeOUT(byte ep){                                                      Z:\home\andres\u4a2\user\handlerManager.c
002a36   ffe6                                                                                                               
                                           	// TODO deshardcodear el 64 !!                                                  Z:\home\andres\u4a2\user\handlerManager.c
002a38   0e40     MOVLW     0x40           	return 64;                                                                      Z:\home\andres\u4a2\user\handlerManager.c
002a3a   d018     BRA       0x2a6c         }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
002a3c   cfd9     MOVFF     0xfd9,0xfe6    byte getEPSizeIN(byte ep){                                                       Z:\home\andres\u4a2\user\handlerManager.c
002a3e   ffe6                                                                                                               
                                           	// TODO deshardcodear el 64 !!                                                  Z:\home\andres\u4a2\user\handlerManager.c
002a40   0e40     MOVLW     0x40           	return 64;                                                                      Z:\home\andres\u4a2\user\handlerManager.c
002a42   d014     BRA       0x2a6c         }                                                                                Z:\home\andres\u4a2\user\handlerManager.c
002a6c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a6e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002a70   ffd9                                                                                                               
002a72   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           /** EOF handlerManager.c ***************************************************************/ Z:\home\andres\u4a2\user\handlerManager.c
                                                                                                                            Z:\home\andres\u4a2\user\handlerManager.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\user\loaderModule.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\user\loaderModule.c
                                            * Andres Aguirre      09/04/07                                                  Z:\home\andres\u4a2\user\loaderModule.c
                                            ********************************************************************/           Z:\home\andres\u4a2\user\loaderModule.c
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\loaderModule.c
                                           #include "system\typedefs.h"                        // Required                  Z:\home\andres\u4a2\user\loaderModule.c
                                           #include "user\defines.h"                                                        Z:\home\andres\u4a2\user\loaderModule.c
                                           #include "user\loaderModule.h"                                                   Z:\home\andres\u4a2\user\loaderModule.c
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\loaderModule.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\loaderModule.c
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\loaderModule.c
                                           BOOL isEqual(byte str1[8], byte str2[8]);                                        Z:\home\andres\u4a2\user\loaderModule.c
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\loaderModule.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\user\loaderModule.c
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
00115e   cfd9     MOVFF     0xfd9,0xfe6    void loadModule(byte idModule, byte binaryStream[8]){                            Z:\home\andres\u4a2\user\loaderModule.c
001160   ffe6                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
001162   d14c     BRA       0x13fc         }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
                                           // No quiero usar strcmp para no incluir string y que consuma mas memoria        Z:\home\andres\u4a2\user\loaderModule.c
001164   d965     RCALL     0x1430         BOOL isEqual(byte str1[8], byte str2[8]){                                        Z:\home\andres\u4a2\user\loaderModule.c
001430   d81b     RCALL     0x1468                                                                                          
001432   0e03     MOVLW     0x3                                                                                             
001434   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
001436   0012     RETURN    0x0                                                                                             
001468   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00146a   ffe6                                                                                                               
00146c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00146e   ffd9                                                                                                               
001470   0012     RETURN    0x0                                                                                             
001166   6adf     CLRF      0xdf,0x0       	byte j = 0;                                                                     Z:\home\andres\u4a2\user\loaderModule.c
001168   52de     MOVF      0xde,0x1,0x0   	BOOL result = TRUE, termine = FALSE;                                            Z:\home\andres\u4a2\user\loaderModule.c
00116a   0e01     MOVLW     0x1                                                                                             
00116c   6edd     MOVWF     0xdd,0x0                                                                                        
00116e   0e02     MOVLW     0x2                                                                                             
001170   6adb     CLRF      0xdb,0x0                                                                                        
001172   6adf     CLRF      0xdf,0x0       	for(j = 0; j<8 && !termine; j++){                                               Z:\home\andres\u4a2\user\loaderModule.c
001174   0e08     MOVLW     0x8                                                                                             
001176   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001178   e217     BC        0x11a8                                                                                          
00117a   0e02     MOVLW     0x2                                                                                             
00117c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00117e   e114     BNZ       0x11a8                                                                                          
0011a4   2adf     INCF      0xdf,0x1,0x0                                                                                    
0011a6   d7e6     BRA       0x1174                                                                                          
001180   d96b     RCALL     0x1458         		if((str1[j] == (char)'\0') || (str2[j] == (char)'\0')){                        Z:\home\andres\u4a2\user\loaderModule.c
001182   50ef     MOVF      0xef,0x0,0x0                                                                                    
001184   e002     BZ        0x118a                                                                                          
001186   d95f     RCALL     0x1446                                                                                          
001188   e105     BNZ       0x1194                                                                                          
001446   50df     MOVF      0xdf,0x0,0x0                                                                                    
001448   6ee7     MOVWF     0xe7,0x0                                                                                        
00144a   0efb     MOVLW     0xfb                                                                                            
00144c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00144e   ffe9                                                                                                               
001450   0efc     MOVLW     0xfc                                                                                            
001452   dfcd     RCALL     0x13ee                                                                                          
001454   50ef     MOVF      0xef,0x0,0x0                                                                                    
001456   0012     RETURN    0x0                                                                                             
001458   50df     MOVF      0xdf,0x0,0x0                                                                                    
00145a   6ee7     MOVWF     0xe7,0x0                                                                                        
00145c   0efd     MOVLW     0xfd                                                                                            
00145e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001460   ffe9                                                                                                               
001462   0efe     MOVLW     0xfe                                                                                            
001464   eff7     GOTO      0x13ee                                                                                          
001466   f009                                                                                                               
00118a   0e01     MOVLW     0x1            			termine = TRUE;                                                               Z:\home\andres\u4a2\user\loaderModule.c
00118c   6ef3     MOVWF     0xf3,0x0                                                                                        
00118e   0e02     MOVLW     0x2                                                                                             
001190   cff3     MOVFF     0xff3,0xfdb                                                                                     
001192   ffdb                                                                                                               
                                           		}                                                                              Z:\home\andres\u4a2\user\loaderModule.c
001194   d961     RCALL     0x1458         		if((char)str1[j] != (char)str2[j]){                                            Z:\home\andres\u4a2\user\loaderModule.c
001196   cfef     MOVFF     0xfef,0xb                                                                                       
001198   f00b                                                                                                               
00119a   d955     RCALL     0x1446                                                                                          
00119c   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
00119e   e002     BZ        0x11a4                                                                                          
0013ee   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0013f0   ffea                                                                                                               
0013f2   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0013f4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0013f6   0e00     MOVLW     0x0                                                                                             
0013f8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0013fa   0012     RETURN    0x0                                                                                             
0011a0   0e01     MOVLW     0x1            			result = FALSE;                                                               Z:\home\andres\u4a2\user\loaderModule.c
0011a2   6adb     CLRF      0xdb,0x0                                                                                        
                                           		}                                                                              Z:\home\andres\u4a2\user\loaderModule.c
                                           	}                                                                               Z:\home\andres\u4a2\user\loaderModule.c
0011a8   0e01     MOVLW     0x1            	return result;                                                                  Z:\home\andres\u4a2\user\loaderModule.c
0011aa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0011ac   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
0011ae   0e03     MOVLW     0x3                                                                                             
0011b0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0011b2   e202     BC        0x11b8                                                                                          
0011b4   6ae1     CLRF      0xe1,0x0                                                                                        
0011b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0011b8   6ee1     MOVWF     0xe1,0x0                                                                                        
0011ba   500b     MOVF      0xb,0x0,0x0                                                                                     
0011bc   d11f     BRA       0x13fc                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
0011be   d954     RCALL     0x1468         rom near char* getUserTableDirection(byte moduleId[8]){                          Z:\home\andres\u4a2\user\loaderModule.c
0011c0   0e0d     MOVLW     0xd                                                                                             
0011c2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0011c4   6ade     CLRF      0xde,0x0       	rom near char * i = (rom near char *)DIRECTION_TABLE;                           Z:\home\andres\u4a2\user\loaderModule.c
0011c6   0e30     MOVLW     0x30                                                                                            
0011c8   6edd     MOVWF     0xdd,0x0                                                                                        
                                           	uTab* tabla;                                                                    Z:\home\andres\u4a2\user\loaderModule.c
                                           	byte dest[8];                                                                   Z:\home\andres\u4a2\user\loaderModule.c
0011ca   0e0c     MOVLW     0xc            	byte j = 0;                                                                     Z:\home\andres\u4a2\user\loaderModule.c
0011cc   6adb     CLRF      0xdb,0x0                                                                                        
0011ce   d927     RCALL     0x141e         	while (*i != MEM_VACIO){                                                        Z:\home\andres\u4a2\user\loaderModule.c
0011d0   be0b     BTFSC     0xb,0x7,0x0                                                                                     
0011d2   680c     SETF      0xc,0x0                                                                                         
0011d4   0100     MOVLB     0x0                                                                                             
0011d6   1c0b     COMF      0xb,0x0,0x0                                                                                     
0011d8   e101     BNZ       0x11dc                                                                                          
0011da   1c0c     COMF      0xc,0x0,0x0                                                                                     
0011dc   e058     BZ        0x128e                                                                                          
00128c   d7a0     BRA       0x11ce                                                                                          
00141e   cfde     MOVFF     0xfde,0xff6                                                                                     
001420   fff6                                                                                                               
001422   cfdd     MOVFF     0xfdd,0xff7                                                                                     
001424   fff7                                                                                                               
001426   0008     TBLRD                                                                                                     
001428   cff5     MOVFF     0xff5,0xb                                                                                       
00142a   f00b                                                                                                               
00142c   6a0c     CLRF      0xc,0x0                                                                                         
00142e   0012     RETURN    0x0                                                                                             
0011de   cfd9     MOVFF     0xfd9,0xfe9    		tabla = (uTab*) i;                                                             Z:\home\andres\u4a2\user\loaderModule.c
0011e0   ffe9                                                                                                               
0011e2   cfda     MOVFF     0xfda,0xfea                                                                                     
0011e4   ffea                                                                                                               
0011e6   0e02     MOVLW     0x2                                                                                             
0011e8   cfee     MOVFF     0xfee,0xfdb                                                                                     
0011ea   ffdb                                                                                                               
0011ec   0e03     MOVLW     0x3                                                                                             
0011ee   cfed     MOVFF     0xfed,0xfdb                                                                                     
0011f0   ffdb                                                                                                               
0011f2   0e0c     MOVLW     0xc            		for (j = 0; j < 8; j++){       // hacking para poder comparar strings          Z:\home\andres\u4a2\user\loaderModule.c
0011f4   6adb     CLRF      0xdb,0x0                                                                                        
0011f6   0e08     MOVLW     0x8                                                                                             
0011f8   6ef3     MOVWF     0xf3,0x0                                                                                        
0011fa   0e0c     MOVLW     0xc                                                                                             
0011fc   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0011fe   fff4                                                                                                               
001200   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001202   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
001204   e226     BC        0x1252                                                                                          
00124c   0e0c     MOVLW     0xc                                                                                             
00124e   2adb     INCF      0xdb,0x1,0x0                                                                                    
001250   d7d2     BRA       0x11f6                                                                                          
001206   0e02     MOVLW     0x2            			dest[j] = (tabla->id)[j];  // para poderse comparar ambos strings deben estar en igual espacio de memoria (RAM / ROM) Z:\home\andres\u4a2\user\loaderModule.c
001208   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00120a   fff6                                                                                                               
00120c   0e03     MOVLW     0x3                                                                                             
00120e   d914     RCALL     0x1438                                                                                          
001210   cff6     MOVFF     0xff6,0xd                                                                                       
001212   f00d                                                                                                               
001214   cff7     MOVFF     0xff7,0xe                                                                                       
001216   f00e                                                                                                               
001218   0e0c     MOVLW     0xc                                                                                             
00121a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00121c   240d     ADDWF     0xd,0x0,0x0                                                                                     
00121e   6ef6     MOVWF     0xf6,0x0                                                                                        
001220   0e00     MOVLW     0x0                                                                                             
001222   200e     ADDWFC    0xe,0x0,0x0                                                                                     
001224   6ef7     MOVWF     0xf7,0x0                                                                                        
001226   0008     TBLRD                                                                                                     
001228   50f5     MOVF      0xf5,0x0,0x0                                                                                    
00122a   6ee6     MOVWF     0xe6,0x0                                                                                        
00122c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00122e   0f04     ADDLW     0x4                                                                                             
001230   6e0b     MOVWF     0xb,0x0                                                                                         
001232   cfda     MOVFF     0xfda,0xc                                                                                       
001234   f00c                                                                                                               
001236   0e0c     MOVLW     0xc                                                                                             
001238   50db     MOVF      0xdb,0x0,0x0                                                                                    
00123a   010f     MOVLB     0xf                                                                                             
00123c   240b     ADDWF     0xb,0x0,0x0                                                                                     
00123e   6ee9     MOVWF     0xe9,0x0                                                                                        
001240   0e00     MOVLW     0x0                                                                                             
001242   20da     ADDWFC    0xda,0x0,0x0                                                                                    
001244   6eea     MOVWF     0xea,0x0                                                                                        
001246   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001248   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00124a   6eef     MOVWF     0xef,0x0                                                                                        
001438   cfdb     MOVFF     0xfdb,0xff7                                                                                     
00143a   fff7                                                                                                               
00143c   0e06     MOVLW     0x6                                                                                             
00143e   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
001440   0e00     MOVLW     0x0                                                                                             
001442   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
001444   0012     RETURN    0x0                                                                                             
                                           		}                                                                              Z:\home\andres\u4a2\user\loaderModule.c
001252   0efd     MOVLW     0xfd           		if (isEqual(dest, moduleId)){                                                  Z:\home\andres\u4a2\user\loaderModule.c
001254   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
001256   ffe6                                                                                                               
001258   0efe     MOVLW     0xfe                                                                                            
00125a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00125c   ffe6                                                                                                               
00125e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
001260   0f04     ADDLW     0x4                                                                                             
001262   6ee6     MOVWF     0xe6,0x0                                                                                        
001264   0e00     MOVLW     0x0                                                                                             
001266   20da     ADDWFC    0xda,0x0,0x0                                                                                    
001268   6ee6     MOVWF     0xe6,0x0                                                                                        
00126a   df7c     RCALL     0x1164                                                                                          
00126c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00126e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001270   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001272   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001274   0900     IORLW     0x0                                                                                             
001276   e009     BZ        0x128a                                                                                          
001278   cfde     MOVFF     0xfde,0xb      			return i;                                                                     Z:\home\andres\u4a2\user\loaderModule.c
00127a   f00b                                                                                                               
00127c   cfdd     MOVFF     0xfdd,0xc                                                                                       
00127e   f00c                                                                                                               
001280   c00b     MOVFF     0xb,0xff3                                                                                       
001282   fff3                                                                                                               
001284   c00c     MOVFF     0xc,0xff4                                                                                       
001286   fff4                                                                                                               
001288   d004     BRA       0x1292                                                                                          
                                           		}                                                                              Z:\home\andres\u4a2\user\loaderModule.c
00128a   d8bc     RCALL     0x1404         		i = i + TAM_U_TAB;                                                             Z:\home\andres\u4a2\user\loaderModule.c
001404   cfde     MOVFF     0xfde,0xb                                                                                       
001406   f00b                                                                                                               
001408   cfdd     MOVFF     0xfdd,0xc                                                                                       
00140a   f00c                                                                                                               
00140c   0e0e     MOVLW     0xe                                                                                             
00140e   260b     ADDWF     0xb,0x1,0x0                                                                                     
001410   0e00     MOVLW     0x0                                                                                             
001412   220c     ADDWFC    0xc,0x1,0x0                                                                                     
001414   c00b     MOVFF     0xb,0xfde                                                                                       
001416   ffde                                                                                                               
001418   c00c     MOVFF     0xc,0xfdd                                                                                       
00141a   ffdd                                                                                                               
00141c   0012     RETURN    0x0                                                                                             
                                           	}                                                                               Z:\home\andres\u4a2\user\loaderModule.c
00128e   68f3     SETF      0xf3,0x0       	return (rom char*)ERROR;	                                                       Z:\home\andres\u4a2\user\loaderModule.c
001290   6af4     CLRF      0xf4,0x0                                                                                        
001292   0e0d     MOVLW     0xd            }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
001294   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001296   e202     BC        0x129c                                                                                          
001298   6ae1     CLRF      0xe1,0x0                                                                                        
00129a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00129c   6ee1     MOVWF     0xe1,0x0                                                                                        
00129e   d0ae     BRA       0x13fc                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
0012a0   d8c7     RCALL     0x1430         byte getUserTableSize(){                                                         Z:\home\andres\u4a2\user\loaderModule.c
0012a2   6ade     CLRF      0xde,0x0       	rom near char * i = (rom near char *)DIRECTION_TABLE;                           Z:\home\andres\u4a2\user\loaderModule.c
0012a4   0e30     MOVLW     0x30                                                                                            
0012a6   6edd     MOVWF     0xdd,0x0                                                                                        
0012a8   0e02     MOVLW     0x2            	byte size = 0;                                                                  Z:\home\andres\u4a2\user\loaderModule.c
0012aa   6adb     CLRF      0xdb,0x0                                                                                        
0012ac   d8b8     RCALL     0x141e         	while (*i != MEM_VACIO){                                                        Z:\home\andres\u4a2\user\loaderModule.c
0012ae   be0b     BTFSC     0xb,0x7,0x0                                                                                     
0012b0   680c     SETF      0xc,0x0                                                                                         
0012b2   1c0b     COMF      0xb,0x0,0x0                                                                                     
0012b4   e101     BNZ       0x12b8                                                                                          
0012b6   1c0c     COMF      0xc,0x0,0x0                                                                                     
0012b8   e004     BZ        0x12c2                                                                                          
0012c0   d7f5     BRA       0x12ac                                                                                          
0012ba   d8a4     RCALL     0x1404         		i = i + TAM_U_TAB;                                                             Z:\home\andres\u4a2\user\loaderModule.c
0012bc   0e02     MOVLW     0x2            		size++;                                                                        Z:\home\andres\u4a2\user\loaderModule.c
0012be   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                           	}                                                                               Z:\home\andres\u4a2\user\loaderModule.c
0012c2   0e02     MOVLW     0x2            	return size;	                                                                   Z:\home\andres\u4a2\user\loaderModule.c
0012c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0012c6   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
0012c8   0e03     MOVLW     0x3                                                                                             
0012ca   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0012cc   e202     BC        0x12d2                                                                                          
0012ce   6ae1     CLRF      0xe1,0x0                                                                                        
0012d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0012d2   6ee1     MOVWF     0xe1,0x0                                                                                        
0012d4   500b     MOVF      0xb,0x0,0x0                                                                                     
0012d6   d092     BRA       0x13fc                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
                                           //Precondicion: Capas superiores se encargan de hacer el chequeo de que no se exceda del espacio de modulos Z:\home\andres\u4a2\user\loaderModule.c
0012d8   d8c7     RCALL     0x1468         void getModuleName(byte line, char* modName){                                    Z:\home\andres\u4a2\user\loaderModule.c
0012da   0e05     MOVLW     0x5                                                                                             
0012dc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	byte j;                                                                         Z:\home\andres\u4a2\user\loaderModule.c
0012de   0e01     MOVLW     0x1            	rom near char * i = (rom near char *)DIRECTION_TABLE;                           Z:\home\andres\u4a2\user\loaderModule.c
0012e0   6adb     CLRF      0xdb,0x0                                                                                        
0012e2   0e30     MOVLW     0x30                                                                                            
0012e4   6ef3     MOVWF     0xf3,0x0                                                                                        
0012e6   0e02     MOVLW     0x2                                                                                             
0012e8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0012ea   ffdb                                                                                                               
                                           	uTab* tabla;                                                                    Z:\home\andres\u4a2\user\loaderModule.c
0012ec   0efe     MOVLW     0xfe           	i = i + (line * TAM_U_TAB);                                                     Z:\home\andres\u4a2\user\loaderModule.c
0012ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0012f0   0d0e     MULLW     0xe                                                                                             
0012f2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0012f4   6ee7     MOVWF     0xe7,0x0                                                                                        
0012f6   0e01     MOVLW     0x1                                                                                             
0012f8   cfdb     MOVFF     0xfdb,0xb                                                                                       
0012fa   f00b                                                                                                               
0012fc   0e02     MOVLW     0x2                                                                                             
0012fe   cfdb     MOVFF     0xfdb,0xc                                                                                       
001300   f00c                                                                                                               
001302   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001304   260b     ADDWF     0xb,0x1,0x0                                                                                     
001306   0e00     MOVLW     0x0                                                                                             
001308   220c     ADDWFC    0xc,0x1,0x0                                                                                     
00130a   0e01     MOVLW     0x1                                                                                             
00130c   c00b     MOVFF     0xb,0xfdb                                                                                       
00130e   ffdb                                                                                                               
001310   0e02     MOVLW     0x2                                                                                             
001312   c00c     MOVFF     0xc,0xfdb                                                                                       
001314   ffdb                                                                                                               
001316   0e01     MOVLW     0x1            	tabla = (uTab*) i;                                                              Z:\home\andres\u4a2\user\loaderModule.c
001318   cfdb     MOVFF     0xfdb,0x6                                                                                       
00131a   f006                                                                                                               
00131c   0e02     MOVLW     0x2                                                                                             
00131e   cfdb     MOVFF     0xfdb,0x7                                                                                       
001320   f007                                                                                                               
001322   0e03     MOVLW     0x3                                                                                             
001324   c006     MOVFF     0x6,0xfdb                                                                                       
001326   ffdb                                                                                                               
001328   0e04     MOVLW     0x4                                                                                             
00132a   c007     MOVFF     0x7,0xfdb                                                                                       
00132c   ffdb                                                                                                               
00132e   6adf     CLRF      0xdf,0x0       	for (j = 0; j < 8; j++){                                                        Z:\home\andres\u4a2\user\loaderModule.c
001330   0e08     MOVLW     0x8                                                                                             
001332   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001334   e21e     BC        0x1372                                                                                          
00136e   2adf     INCF      0xdf,0x1,0x0                                                                                    
001370   d7df     BRA       0x1330                                                                                          
001336   0e03     MOVLW     0x3            		modName[j] = (tabla->id)[j];                                                   Z:\home\andres\u4a2\user\loaderModule.c
001338   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00133a   fff6                                                                                                               
00133c   0e04     MOVLW     0x4                                                                                             
00133e   d87c     RCALL     0x1438                                                                                          
001340   cff6     MOVFF     0xff6,0xb                                                                                       
001342   f00b                                                                                                               
001344   cff7     MOVFF     0xff7,0xc                                                                                       
001346   f00c                                                                                                               
001348   50df     MOVF      0xdf,0x0,0x0                                                                                    
00134a   240b     ADDWF     0xb,0x0,0x0                                                                                     
00134c   6ef6     MOVWF     0xf6,0x0                                                                                        
00134e   0e00     MOVLW     0x0                                                                                             
001350   200c     ADDWFC    0xc,0x0,0x0                                                                                     
001352   6ef7     MOVWF     0xf7,0x0                                                                                        
001354   0008     TBLRD                                                                                                     
001356   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001358   6ee6     MOVWF     0xe6,0x0                                                                                        
00135a   50df     MOVF      0xdf,0x0,0x0                                                                                    
00135c   6ee7     MOVWF     0xe7,0x0                                                                                        
00135e   0efc     MOVLW     0xfc                                                                                            
001360   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001362   ffe9                                                                                                               
001364   0efd     MOVLW     0xfd                                                                                            
001366   d843     RCALL     0x13ee                                                                                          
001368   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00136a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00136c   6eef     MOVWF     0xef,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\user\loaderModule.c
                                           	//memcpy(modName, tabla->id, 8); no anda, sera porque estan en espacios de memoria separados?(RAM/ROM)	 Z:\home\andres\u4a2\user\loaderModule.c
001372   0e05     MOVLW     0x5            }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
001374   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001376   e202     BC        0x137c                                                                                          
001378   6ae1     CLRF      0xe1,0x0                                                                                        
00137a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00137c   6ee1     MOVWF     0xe1,0x0                                                                                        
00137e   d03e     BRA       0x13fc                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
001380   d81c     RCALL     0x13ba         pUserFunc getModuleInitDirection(rom near char* direction){                      Z:\home\andres\u4a2\user\loaderModule.c
                                           	uTab* tabla = (uTab*) direction;                                                Z:\home\andres\u4a2\user\loaderModule.c
001382   d828     RCALL     0x13d4         	return tabla->pfI;                                                              Z:\home\andres\u4a2\user\loaderModule.c
001384   e202     BC        0x138a         }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
001386   6ae1     CLRF      0xe1,0x0                                                                                        
001388   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00138a   6ee1     MOVWF     0xe1,0x0                                                                                        
00138c   d037     BRA       0x13fc                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
00138e   d815     RCALL     0x13ba         pUserFunc getModuleReleaseDirection(rom near char* direction){                   Z:\home\andres\u4a2\user\loaderModule.c
                                           	uTab* tabla = (uTab*) direction;                                                Z:\home\andres\u4a2\user\loaderModule.c
001390   0e02     MOVLW     0x2            	return tabla->pfR;                                                              Z:\home\andres\u4a2\user\loaderModule.c
001392   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
001394   0e00     MOVLW     0x0                                                                                             
001396   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
001398   d81d     RCALL     0x13d4                                                                                          
00139a   e202     BC        0x13a0         }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
00139c   6ae1     CLRF      0xe1,0x0                                                                                        
00139e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013a0   6ee1     MOVWF     0xe1,0x0                                                                                        
0013a2   d02c     BRA       0x13fc                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
0013a4   d80a     RCALL     0x13ba         pUserFunc getModuleConfigureDirection(rom near char* direction){                 Z:\home\andres\u4a2\user\loaderModule.c
0013ba   d856     RCALL     0x1468                                                                                          
0013bc   0e02     MOVLW     0x2                                                                                             
0013be   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0013c0   0efd     MOVLW     0xfd           	uTab* tabla = (uTab*) direction;                                                Z:\home\andres\u4a2\user\loaderModule.c
0013c2   cfdb     MOVFF     0xfdb,0xfde                                                                                     
0013c4   ffde                                                                                                               
0013c6   cfdb     MOVFF     0xfdb,0xfdd                                                                                     
0013c8   ffdd                                                                                                               
0013a6   0e04     MOVLW     0x4            	return tabla->pfC;                                                              Z:\home\andres\u4a2\user\loaderModule.c
0013a8   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0013aa   0e00     MOVLW     0x0                                                                                             
0013ac   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0013ae   d812     RCALL     0x13d4                                                                                          
0013ca   cfde     MOVFF     0xfde,0xff6                                                                                     
0013cc   fff6                                                                                                               
0013ce   cfdd     MOVFF     0xfdd,0xff7                                                                                     
0013d0   fff7                                                                                                               
0013d2   0012     RETURN    0x0                                                                                             
0013d4   0009     TBLRDPOSTINC                                                                                              
0013d6   cff5     MOVFF     0xff5,0xb                                                                                       
0013d8   f00b                                                                                                               
0013da   0008     TBLRD                                                                                                     
0013dc   cff5     MOVFF     0xff5,0xc                                                                                       
0013de   f00c                                                                                                               
0013e0   c00b     MOVFF     0xb,0xff3                                                                                       
0013e2   fff3                                                                                                               
0013e4   c00c     MOVFF     0xc,0xff4                                                                                       
0013e6   fff4                                                                                                               
0013b0   e202     BC        0x13b6         }                                                                                Z:\home\andres\u4a2\user\loaderModule.c
0013b2   6ae1     CLRF      0xe1,0x0                                                                                        
0013b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013b6   6ee1     MOVWF     0xe1,0x0                                                                                        
0013b8   d021     BRA       0x13fc                                                                                          
0013e8   0e02     MOVLW     0x2                                                                                             
0013ea   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0013ec   0012     RETURN    0x0                                                                                             
0013fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0013fe   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001400   ffd9                                                                                                               
001402   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\loaderModule.c
                                           /** EOF loaderModule.c ***************************************************************/ Z:\home\andres\u4a2\user\loaderModule.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\user\dynamicPolling.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\user\dynamicPolling.c
                                            * Rafael Fernandez    27/03/07 	Original                                        Z:\home\andres\u4a2\user\dynamicPolling.c
                                            * Andres Aguirre      03/04/07                                                  Z:\home\andres\u4a2\user\dynamicPolling.c
                                            ********************************************************************/           Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include "system\typedefs.h"                        // Required                  Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include "system\usb\usb.h"                         // Required                  Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include "io_cfg.h"                                 // Required                  Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include "dynamicPolling.h"                              // Modifiable           Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  Z:\home\andres\u4a2\user\dynamicPolling.c
                                           //#include "user\user.h"                                                         Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #include "user\handlerManager.h"                              // Modifiable      Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\dynamicPolling.c
                                           void (*pollingFunction[MAX_POLLING_FUNCTIONS]) (void) ;//arreglo de punteros a las funcioens received de los modulos Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
001472   d892     RCALL     0x1598         void initPollingFunctions(void){                                                 Z:\home\andres\u4a2\user\dynamicPolling.c
001598   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00159a   ffe6                                                                                                               
00159c   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00159e   ffd9                                                                                                               
0015a0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	byte i;                                                                         Z:\home\andres\u4a2\user\dynamicPolling.c
001474   0e05     MOVLW     0x5            	for (i=0; i<MAX_POLLING_FUNCTIONS;i++){                                         Z:\home\andres\u4a2\user\dynamicPolling.c
001476   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001478   e205     BC        0x1484                                                                                          
001480   2adf     INCF      0xdf,0x1,0x0                                                                                    
001482   d7f8     BRA       0x1474                                                                                          
0015a2   6adf     CLRF      0xdf,0x0                                                                                        
0015a4   0012     RETURN    0x0                                                                                             
00147a   d876     RCALL     0x1568         		pollingFunction[i] = 0; //supongo 0 = null                                     Z:\home\andres\u4a2\user\dynamicPolling.c
00147c   6aee     CLRF      0xee,0x0                                                                                        
00147e   6aed     CLRF      0xed,0x0                                                                                        
                                           	}							                                                                        Z:\home\andres\u4a2\user\dynamicPolling.c
001484   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\dynamicPolling.c
001486   d084     BRA       0x1590                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
001488   d879     RCALL     0x157c         BOOL addPollingFunction(void (*pollingFun) (void)){                              Z:\home\andres\u4a2\user\dynamicPolling.c
00157c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00157e   ffe6                                                                                                               
001580   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001582   ffd9                                                                                                               
001584   0e02     MOVLW     0x2                                                                                             
001586   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
001588   6adf     CLRF      0xdf,0x0       	byte i = 0;                                                                     Z:\home\andres\u4a2\user\dynamicPolling.c
00158a   0e01     MOVLW     0x1            	BOOL termine = FALSE;                                                           Z:\home\andres\u4a2\user\dynamicPolling.c
00158c   6adb     CLRF      0xdb,0x0                                                                                        
00158e   0012     RETURN    0x0                                                                                             
00148a   0e05     MOVLW     0x5            	while (i<MAX_POLLING_FUNCTIONS && !termine){                                    Z:\home\andres\u4a2\user\dynamicPolling.c
00148c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00148e   e213     BC        0x14b6                                                                                          
001490   0e01     MOVLW     0x1                                                                                             
001492   50db     MOVF      0xdb,0x0,0x0                                                                                    
001494   e110     BNZ       0x14b6                                                                                          
0014b4   d7ea     BRA       0x148a                                                                                          
001496   d868     RCALL     0x1568         		if ( pollingFunction[i] == 0) { //TODO ojo que cambie != por ==                Z:\home\andres\u4a2\user\dynamicPolling.c
001498   50ee     MOVF      0xee,0x0,0x0                                                                                    
00149a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00149c   e10a     BNZ       0x14b2                                                                                          
00149e   52de     MOVF      0xde,0x1,0x0   			termine = TRUE;                                                               Z:\home\andres\u4a2\user\dynamicPolling.c
0014a0   0e01     MOVLW     0x1                                                                                             
0014a2   6edd     MOVWF     0xdd,0x0                                                                                        
0014a4   d861     RCALL     0x1568         			pollingFunction[i] = pollingFun;                                              Z:\home\andres\u4a2\user\dynamicPolling.c
0014a6   0efd     MOVLW     0xfd                                                                                            
0014a8   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0014aa   ffee                                                                                                               
0014ac   0efe     MOVLW     0xfe                                                                                            
0014ae   cfdb     MOVFF     0xfdb,0xfed                                                                                     
0014b0   ffed                                                                                                               
                                           		}                                                                              Z:\home\andres\u4a2\user\dynamicPolling.c
0014b2   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\user\dynamicPolling.c
                                           	}                                                                               Z:\home\andres\u4a2\user\dynamicPolling.c
0014b6   0e01     MOVLW     0x1            	if (!termine) return FALSE;                                                     Z:\home\andres\u4a2\user\dynamicPolling.c
0014b8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0014ba   e102     BNZ       0x14c0                                                                                          
0014bc   0e00     MOVLW     0x0                                                                                             
0014be   d001     BRA       0x14c2                                                                                          
0014c0   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\user\dynamicPolling.c
0014c2   6e0b     MOVWF     0xb,0x0        } 		                                                                             Z:\home\andres\u4a2\user\dynamicPolling.c
0014c4   0e02     MOVLW     0x2                                                                                             
0014c6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0014c8   e202     BC        0x14ce                                                                                          
0014ca   6ae1     CLRF      0xe1,0x0                                                                                        
0014cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0014ce   6ee1     MOVWF     0xe1,0x0                                                                                        
0014d0   500b     MOVF      0xb,0x0,0x0                                                                                     
0014d2   d05e     BRA       0x1590                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
0014d4   d853     RCALL     0x157c         BOOL removePoolingFunction(void (*pollingFun) (void)){                           Z:\home\andres\u4a2\user\dynamicPolling.c
                                           	byte i=0;                                                                       Z:\home\andres\u4a2\user\dynamicPolling.c
                                           	BOOL termine=FALSE;                                                             Z:\home\andres\u4a2\user\dynamicPolling.c
0014d6   0e05     MOVLW     0x5            	while (i<MAX_POLLING_FUNCTIONS && !termine){                                    Z:\home\andres\u4a2\user\dynamicPolling.c
0014d8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0014da   e218     BC        0x150c                                                                                          
0014dc   0e01     MOVLW     0x1                                                                                             
0014de   50db     MOVF      0xdb,0x0,0x0                                                                                    
0014e0   e115     BNZ       0x150c                                                                                          
00150a   d7e5     BRA       0x14d6                                                                                          
0014e2   d842     RCALL     0x1568         		if ( pollingFunction[i] == pollingFun) {                                       Z:\home\andres\u4a2\user\dynamicPolling.c
0014e4   cfee     MOVFF     0xfee,0xb                                                                                       
0014e6   f00b                                                                                                               
0014e8   cfef     MOVFF     0xfef,0xc                                                                                       
0014ea   f00c                                                                                                               
0014ec   0efd     MOVLW     0xfd                                                                                            
0014ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0014f0   180b     XORWF     0xb,0x0,0x0                                                                                     
0014f2   e10a     BNZ       0x1508                                                                                          
0014f4   0efe     MOVLW     0xfe                                                                                            
0014f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0014f8   180c     XORWF     0xc,0x0,0x0                                                                                     
0014fa   e106     BNZ       0x1508                                                                                          
0014fc   52de     MOVF      0xde,0x1,0x0   			termine = TRUE;                                                               Z:\home\andres\u4a2\user\dynamicPolling.c
0014fe   0e01     MOVLW     0x1                                                                                             
001500   6edd     MOVWF     0xdd,0x0                                                                                        
001502   d832     RCALL     0x1568         			pollingFunction [i] = 0;                                                      Z:\home\andres\u4a2\user\dynamicPolling.c
001504   6aee     CLRF      0xee,0x0                                                                                        
001506   6aed     CLRF      0xed,0x0                                                                                        
001568   6aea     CLRF      0xea,0x0                                                                                        
00156a   34df     RLCF      0xdf,0x0,0x0                                                                                    
00156c   0bfe     ANDLW     0xfe                                                                                            
00156e   36ea     RLCF      0xea,0x1,0x0                                                                                    
001570   6ee9     MOVWF     0xe9,0x0                                                                                        
001572   0e5e     MOVLW     0x5e                                                                                            
001574   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001576   0e01     MOVLW     0x1                                                                                             
001578   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00157a   0012     RETURN    0x0                                                                                             
                                           		}                                                                              Z:\home\andres\u4a2\user\dynamicPolling.c
001508   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\user\dynamicPolling.c
                                           	}                                                                               Z:\home\andres\u4a2\user\dynamicPolling.c
00150c   0e01     MOVLW     0x1            	if (!termine) return FALSE;                                                     Z:\home\andres\u4a2\user\dynamicPolling.c
00150e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001510   e102     BNZ       0x1516                                                                                          
001512   0e00     MOVLW     0x0                                                                                             
001514   d001     BRA       0x1518                                                                                          
001516   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\user\dynamicPolling.c
001518   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\user\dynamicPolling.c
00151a   0e02     MOVLW     0x2                                                                                             
00151c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00151e   e202     BC        0x1524                                                                                          
001520   6ae1     CLRF      0xe1,0x0                                                                                        
001522   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001524   6ee1     MOVWF     0xe1,0x0                                                                                        
001526   500b     MOVF      0xb,0x0,0x0                                                                                     
001528   d033     BRA       0x1590                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
00152a   d836     RCALL     0x1598         void polling(void){                                                              Z:\home\andres\u4a2\user\dynamicPolling.c
                                           	byte i=0;                                                                       Z:\home\andres\u4a2\user\dynamicPolling.c
00152c   0e05     MOVLW     0x5            	while (i<MAX_POLLING_FUNCTIONS){                                                Z:\home\andres\u4a2\user\dynamicPolling.c
00152e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001530   e219     BC        0x1564                                                                                          
001562   d7e4     BRA       0x152c                                                                                          
                                           		//mLED_4_On();                                                                 Z:\home\andres\u4a2\user\dynamicPolling.c
001532   d81a     RCALL     0x1568         		if(pollingFunction[i] != 0){ //tuve que bajar esta condicion del while al if, porque cuando me remueven pueden quedar "huecos" Z:\home\andres\u4a2\user\dynamicPolling.c
001534   50ee     MOVF      0xee,0x0,0x0                                                                                    
001536   10ed     IORWF     0xed,0x0,0x0                                                                                    
001538   e013     BZ        0x1560                                                                                          
00153a   6aea     CLRF      0xea,0x0       			pollingFunction[i]();                                                         Z:\home\andres\u4a2\user\dynamicPolling.c
00153c   34df     RLCF      0xdf,0x0,0x0                                                                                    
00153e   0bfe     ANDLW     0xfe                                                                                            
001540   36ea     RLCF      0xea,0x1,0x0                                                                                    
001542   6ee9     MOVWF     0xe9,0x0                                                                                        
001544   0e5e     MOVLW     0x5e                                                                                            
001546   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001548   0e01     MOVLW     0x1                                                                                             
00154a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00154c   cfee     MOVFF     0xfee,0xb                                                                                       
00154e   f00b                                                                                                               
001550   cfef     MOVFF     0xfef,0xc                                                                                       
001552   f00c                                                                                                               
001554   d004     BRA       0x155e                                                                                          
001556   c00c     MOVFF     0xc,0xffa                                                                                       
001558   fffa                                                                                                               
00155a   500b     MOVF      0xb,0x0,0x0                                                                                     
00155c   6ef9     MOVWF     0xf9,0x0                                                                                        
00155e   dffb     RCALL     0x1556                                                                                          
                                           		}                                                                              Z:\home\andres\u4a2\user\dynamicPolling.c
001560   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\user\dynamicPolling.c
                                           	}                                                                               Z:\home\andres\u4a2\user\dynamicPolling.c
001564   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\dynamicPolling.c
001566   d014     BRA       0x1590                                                                                          
001590   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001592   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001594   ffd9                                                                                                               
001596   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\dynamicPolling.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\user\descriptorManager.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\user\descriptorManager.c
                                            * Andres Aguirre	   07/04/07 	Original                                          Z:\home\andres\u4a2\user\descriptorManager.c
                                            ********************************************************************/           Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                           #include "user\descriptorManager.h"                                              Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\descriptorManager.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\descriptorManager.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
0015a6   cfd9     MOVFF     0xfd9,0xfe6    endpoint getAdminEndpoint(void){                                                 Z:\home\andres\u4a2\user\descriptorManager.c
0015a8   ffe6                                                                                                               
0015aa   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0015ac   ffd9                                                                                                               
0015ae   0e02     MOVLW     0x2                                                                                             
0015b0   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	endpoint adminEndpoint;                                                         Z:\home\andres\u4a2\user\descriptorManager.c
0015b2   80df     BSF       0xdf,0x0,0x0   	adminEndpoint.EPNum = 1;                                                        Z:\home\andres\u4a2\user\descriptorManager.c
0015b4   92df     BCF       0xdf,0x1,0x0                                                                                    
0015b6   94df     BCF       0xdf,0x2,0x0                                                                                    
0015b8   96df     BCF       0xdf,0x3,0x0                                                                                    
0015ba   98df     BCF       0xdf,0x4,0x0   	adminEndpoint.EPDir = 0;                                                        Z:\home\andres\u4a2\user\descriptorManager.c
0015bc   9adf     BCF       0xdf,0x5,0x0   	adminEndpoint.empty = 0;                                                        Z:\home\andres\u4a2\user\descriptorManager.c
0015be   cfde     MOVFF     0xfde,0xb      	return adminEndpoint;                                                           Z:\home\andres\u4a2\user\descriptorManager.c
0015c0   f00b                                                                                                               
0015c2   cfdd     MOVFF     0xfdd,0xc                                                                                       
0015c4   f00c                                                                                                               
0015c6   c00b     MOVFF     0xb,0xff3                                                                                       
0015c8   fff3                                                                                                               
0015ca   c00c     MOVFF     0xc,0xff4                                                                                       
0015cc   fff4                                                                                                               
0015ce   5ce1     SUBWF     0xe1,0x0,0x0   }                                                                                Z:\home\andres\u4a2\user\descriptorManager.c
0015d0   e202     BC        0x15d6                                                                                          
0015d2   6ae1     CLRF      0xe1,0x0                                                                                        
0015d4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0015d6   6ee1     MOVWF     0xe1,0x0                                                                                        
0015d8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0015da   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0015dc   ffd9                                                                                                               
0015de   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                                                                                                            Z:\home\andres\u4a2\user\descriptorManager.c
                                           /** EOF descriptorManager.c ***************************************************************/ Z:\home\andres\u4a2\user\descriptorManager.c
                                           /*********************************************************************           Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            *                Microchip USB C18 Firmware Version 1.0                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            *********************************************************************           Z:\home\andres\u4a2\main.c
                                            * FileName:        main.c                                                       Z:\home\andres\u4a2\main.c
                                            * Dependencies:    See INCLUDES section below                                   Z:\home\andres\u4a2\main.c
                                            * Processor:       PIC18                                                        Z:\home\andres\u4a2\main.c
                                            * Compiler:        C18 2.30.01+                                                 Z:\home\andres\u4a2\main.c
                                            * Company:         Microchip Technology, Inc.                                   Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Software License Agreement                                                    Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * The software supplied herewith by Microchip Technology Incorporated           Z:\home\andres\u4a2\main.c
                                            * (the Company) for its PICmicro Microcontroller is intended and       Z:\home\andres\u4a2\main.c
                                            * supplied to you, the Companys customer, for use solely and                 Z:\home\andres\u4a2\main.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               Z:\home\andres\u4a2\main.c
                                            * software is owned by the Company and/or its supplier, and is                  Z:\home\andres\u4a2\main.c
                                            * protected under applicable copyright laws. All rights are reserved.           Z:\home\andres\u4a2\main.c
                                            * Any use in violation of the foregoing restrictions may subject the            Z:\home\andres\u4a2\main.c
                                            * user to criminal sanctions under applicable laws, as well as to               Z:\home\andres\u4a2\main.c
                                            * civil liability for the breach of the terms and conditions of this            Z:\home\andres\u4a2\main.c
                                            * license.                                                                      Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,         Z:\home\andres\u4a2\main.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             Z:\home\andres\u4a2\main.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   Z:\home\andres\u4a2\main.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             Z:\home\andres\u4a2\main.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    Z:\home\andres\u4a2\main.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Author               Date        Comment                                      Z:\home\andres\u4a2\main.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\main.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    Z:\home\andres\u4a2\main.c
                                            * Rafael Fernandez     10/03/07                                                 Z:\home\andres\u4a2\main.c
                                            * Andres Aguirre	    27/03/07 	                                                 Z:\home\andres\u4a2\main.c
                                            ********************************************************************/           Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\main.c
                                           #include <p18cxxx.h>			                                                          Z:\home\andres\u4a2\main.c
                                           #include "system\typedefs.h"                        // Required                  Z:\home\andres\u4a2\main.c
                                           #include "system\usb\usb.h"                         // Required                  Z:\home\andres\u4a2\main.c
                                           #include "io_cfg.h"                                 // Required                  Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  Z:\home\andres\u4a2\main.c
                                           #include "user\dynamicPolling.h"                              // Modifiable      Z:\home\andres\u4a2\main.c
                                           #include "usb4all\dynamicISR\dynamicISR.h"                              // Modifiable Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           //#include "user\user.h"                                                         Z:\home\andres\u4a2\main.c
                                           //#include "usb4all\boot\boot.h"                                                 Z:\home\andres\u4a2\main.c
                                           #include "user\handlerManager.h"                              // Modifiable      Z:\home\andres\u4a2\main.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\main.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\main.c
                                           static void InitializeSystem(void);                                              Z:\home\andres\u4a2\main.c
                                           void USBTasks(void);                                                             Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /** V E C T O R  R E M A P P I N G *******************************************/  Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      Z:\home\andres\u4a2\main.c
                                           #pragma code _RESET_INTERRUPT_VECTOR = 0x000800                                  Z:\home\andres\u4a2\main.c
                                           void _reset (void)                                                               Z:\home\andres\u4a2\main.c
                                           {                                                                                Z:\home\andres\u4a2\main.c
000800   ef38     GOTO      0x2c70             _asm goto _startup _endasm                                                   Z:\home\andres\u4a2\main.c
000802   f016                                                                                                               
000804   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\main.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           //#pragma interrupt interruption save=section(".tmpdata")                        Z:\home\andres\u4a2\main.c
                                           #pragma code _HIGH_INTERRUPT_VECTOR = 0x000808                                   Z:\home\andres\u4a2\main.c
                                           void _high_ISR (void)                                                            Z:\home\andres\u4a2\main.c
                                           {                                                                                Z:\home\andres\u4a2\main.c
000808   ef60     GOTO      0x1ec0             _asm GOTO interruption _endasm //llamo a interruption() de dynamicISR        Z:\home\andres\u4a2\main.c
00080a   f00f                                                                                                               
00080c   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           #pragma code _LOW_INTERRUPT_VECTOR = 0x000818                                    Z:\home\andres\u4a2\main.c
                                           void _low_ISR (void)                                                             Z:\home\andres\u4a2\main.c
                                           {                                                                                Z:\home\andres\u4a2\main.c
                                               //mLED_2_On();                                                               Z:\home\andres\u4a2\main.c
                                           	//interruption();                                                               Z:\home\andres\u4a2\main.c
000818   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\main.c
                                           //#pragma code                                                                   Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\main.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /******************************************************************************  Z:\home\andres\u4a2\main.c
                                            * Function:        void main(void)                                              Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Overview:        Main program entry point.                                    Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\main.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\main.c
                                           void main(void){                                                                 Z:\home\andres\u4a2\main.c
0015e0   d806     RCALL     0x15ee         	InitializeSystem();                                                             Z:\home\andres\u4a2\main.c
0015ec   d7fa     BRA       0x15e2         	while(1){                                                                       Z:\home\andres\u4a2\main.c
0015e2   d81a     RCALL     0x1618         		USBTasks();         // USB Tasks                                               Z:\home\andres\u4a2\main.c
0015e4   ec95     CALL      0x152a,0x0     		polling();                                                                     Z:\home\andres\u4a2\main.c
0015e6   f00a                                                                                                               
0015e8   ec73     CALL      0x24e6,0x0     		USBGenRead2();                                                                 Z:\home\andres\u4a2\main.c
0015ea   f012                                                                                                               
                                           	}//end while                                                                    Z:\home\andres\u4a2\main.c
                                           }//end main                                                                      Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /******************************************************************************  Z:\home\andres\u4a2\main.c
                                            * Function:        static void InitializeSystem(void)                           Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     Z:\home\andres\u4a2\main.c
                                            *                  All required USB initialization routines are called from     Z:\home\andres\u4a2\main.c
                                            *                  here.                                                        Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            *                  User application initialization routine should also be       Z:\home\andres\u4a2\main.c
                                            *                  called from here.                                            Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\main.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\main.c
                                           static void InitializeSystem(void){                                              Z:\home\andres\u4a2\main.c
0015ee   0e0f     MOVLW     0xf            	ADCON1 |= 0x0F;                 // Default all pins to digital                  Z:\home\andres\u4a2\main.c
0015f0   12c1     IORWF     0xc1,0x1,0x0                                                                                    
                                           	                                                                                Z:\home\andres\u4a2\main.c
                                           	#if defined(USE_USB_BUS_SENSE_IO)                                               Z:\home\andres\u4a2\main.c
                                           	tris_usb_bus_sense = INPUT_PIN; // See io_cfg.h                                 Z:\home\andres\u4a2\main.c
                                           	#endif                                                                          Z:\home\andres\u4a2\main.c
                                           	                                                                                Z:\home\andres\u4a2\main.c
                                           	#if defined(USE_SELF_POWER_SENSE_IO)                                            Z:\home\andres\u4a2\main.c
                                           	tris_self_power = INPUT_PIN;                                                    Z:\home\andres\u4a2\main.c
                                           	#endif                                                                          Z:\home\andres\u4a2\main.c
                                           	                                                                                Z:\home\andres\u4a2\main.c
0015f2   0e14     MOVLW     0x14           	mInitializeUSBDriver();         // See usbdrv.h                                 Z:\home\andres\u4a2\main.c
0015f4   6e6f     MOVWF     0x6f,0x0                                                                                        
0015f6   0101     MOVLB     0x1                                                                                             
0015f8   6b85     CLRF      0x85,0x1                                                                                        
0015fa   0101     MOVLB     0x1                                                                                             
0015fc   6b86     CLRF      0x86,0x1                                                                                        
0015fe   0101     MOVLB     0x1                                                                                             
001600   6b87     CLRF      0x87,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\main.c
001602   6892     SETF      0x92,0x0       	mInitPortA();mInitPortB();mInitPortC();mInitPortD();mInitPortE(); // set pins as input Z:\home\andres\u4a2\main.c
001604   6893     SETF      0x93,0x0                                                                                        
001606   6894     SETF      0x94,0x0                                                                                        
001608   6895     SETF      0x95,0x0                                                                                        
00160a   6896     SETF      0x96,0x0                                                                                        
00160c   ecf9     CALL      0x1df2,0x0     	initISRFunctions();                                                             Z:\home\andres\u4a2\main.c
00160e   f00e                                                                                                               
                                           	//initT0Service(); jorge lo descomento en su proyecto, supongo que es responsabilidad del usermodule inicializarlo Z:\home\andres\u4a2\main.c
001610   ec39     CALL      0x1472,0x0     	initPollingFunctions();                                                         Z:\home\andres\u4a2\main.c
001612   f00a                                                                                                               
001614   eff2     GOTO      0x27e4         	initHandlerManager();                                                           Z:\home\andres\u4a2\main.c
001616   f013                                                                                                               
                                           	                                                                                Z:\home\andres\u4a2\main.c
                                           }//end InitializeSystem                                                          Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           /******************************************************************************  Z:\home\andres\u4a2\main.c
                                            * Function:        void USBTasks(void)                                          Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * PreCondition:    InitializeSystem has been called.                            Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Overview:        Service loop for USB tasks.                                  Z:\home\andres\u4a2\main.c
                                            *                                                                               Z:\home\andres\u4a2\main.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\main.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\main.c
                                           void USBTasks(void){                                                             Z:\home\andres\u4a2\main.c
                                           	/*                                                                              Z:\home\andres\u4a2\main.c
                                           	* Servicing Hardware                                                            Z:\home\andres\u4a2\main.c
                                           	*/                                                                              Z:\home\andres\u4a2\main.c
001618   ece1     CALL      0x17c2,0x0     	USBCheckBusStatus();                    // Must use polling method              Z:\home\andres\u4a2\main.c
00161a   f00b                                                                                                               
00161c   be6f     BTFSC     0x6f,0x7,0x0   	if(UCFGbits.UTEYE!=1)                                                           Z:\home\andres\u4a2\main.c
00161e   d002     BRA       0x1624                                                                                          
001620   ecfd     CALL      0x17fa,0x0     		USBDriverService();                 // Interrupt or polling method             Z:\home\andres\u4a2\main.c
001622   f00b                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\main.c
001624   0012     RETURN    0x0            }// end USBTasks                                                                 Z:\home\andres\u4a2\main.c
                                                                                                                            Z:\home\andres\u4a2\main.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\main.c
                                           /** EOF main.c ***************************************************************/  Z:\home\andres\u4a2\main.c
                                           //Autogenerated file using USB4ALL Descriptor generator V1.0  Author: Rafael Fernandez Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           // I N C L U D E S *********************************************************     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #include "usb4all\boot\boot.h" //mia                                             Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           // U S B  G L O B A L  V A R I A B L E S ***********************************     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           byte usb_device_state;          // Device States: DETACHED, ATTACHED, ...        Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           USB_DEVICE_STATUS usb_stat;     // Global USB flags                              Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           byte usb_active_cfg;            // Value of current configuration                Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           byte usb_alt_intf[MAX_NUM_INT]; // Array to keep track of the current alternate  Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                           // setting for each interface ID                 Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           byte epOutSize[MAX_EP_NUMBER] = {64,64,64};                                      Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           byte epInSize[MAX_EP_NUMBER] = {64,64,64};                                       Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           // U S B  F I X E D  L O C A T I O N  V A R I A B L E S ********************     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #pragma udata usbram4=0x400     //See Linker Script,usb4:0x400-0x4FF(256-byte)   Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           // Section A: Buffer Descriptor Table                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(0 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep0Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep0Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(1 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep1Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep1Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(2 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep2Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep2Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(3 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep3Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep3Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(4 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep4Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep4Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(5 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep5Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep5Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(6 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep6Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep6Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(7 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep7Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep7Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(8 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep8Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep8Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(9 <= MAX_EP_NUMBER)                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep9Bo;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep9Bi;                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(10 <= MAX_EP_NUMBER)                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep10Bo;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep10Bi;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(11 <= MAX_EP_NUMBER)                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep11Bo;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep11Bi;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(12 <= MAX_EP_NUMBER)                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep12Bo;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep12Bi;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(13 <= MAX_EP_NUMBER)                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep13Bo;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep13Bi;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #if(14 <= MAX_EP_NUMBER)                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep14Bo;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far BDT ep14Bi;                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #endif                                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           // Section B: EP0 Buffer Space                                                   Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far CTRL_TRF_SETUP SetupPkt;                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far CTRL_TRF_DATA CtrlTrfData;                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           // Section C: Endpoints Buffers                                                  Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far byte ep1_out_buffer[64];                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far byte ep1_in_buffer[64];                                             Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far byte ep2_out_buffer[64];                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far byte ep2_in_buffer[64];                                             Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far byte ep3_out_buffer[64];                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           volatile far byte ep3_in_buffer[64];                                             Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #pragma romdata _rom_usb_endpoints_init                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           //defino el ROM_MAX_EP_NUMBER igual al define MAX_EP_NUMBER                      Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           rom unsigned char ROM_MAX_EP_NUMBER=MAX_EP_NUMBER;                               Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           	#pragma code _usb_endpoints_init                                                Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #define USBGEN_UEP              UEP1                                             Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           #define BOOT_UEP                UEP1 //uso endpoint 2 para bootloader            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           //		defino endpoints usados por el modulo                                        Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           //		la idea es que los endpoints se inicialicen sin depender del modulo que los use Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           //		Por ahora dejo los IFNDEF para no cambiar el codigo de initEps               Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           		#ifndef USBGEN_BD_OUT                                                          Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           			#define USBGEN_BD_OUT           ep1Bo                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           		#endif                                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           		#ifndef USBGEN_BD_IN                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           			#define USBGEN_BD_IN            ep1Bi                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           		#endif                                                                         Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           void USBInitEPs(void){                                                           Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000842   0e1e     MOVLW     0x1e           UEP1 = EP_OUT_IN|HSHK_EN;             // Enable 2 data pipes                     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000844   6e71     MOVWF     0x71,0x0                                                                                        
000846   0104     MOVLB     0x4            ep1Bo.Cnt = sizeof(ep1_out_buffer);     // Set buffer size                       Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000848   0e40     MOVLW     0x40                                                                                            
00084a   6f09     MOVWF     0x9,0x1                                                                                         
00084c   0e30     MOVLW     0x30           ep1Bo.ADR = (byte*)&ep1_out_buffer;     // Set buffer address                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00084e   6f0a     MOVWF     0xa,0x1                                                                                         
000850   0e04     MOVLW     0x4                                                                                             
000852   6f0b     MOVWF     0xb,0x1                                                                                         
000854   0e88     MOVLW     0x88           ep1Bo.Stat._byte = _USIE|_DAT0|_DTSEN;// Set status                              Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000856   6f08     MOVWF     0x8,0x1                                                                                         
000858   0e70     MOVLW     0x70           ep1Bi.ADR = (byte*)&ep1_in_buffer;      // Set buffer address                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00085a   6f0e     MOVWF     0xe,0x1                                                                                         
00085c   0e04     MOVLW     0x4                                                                                             
00085e   6f0f     MOVWF     0xf,0x1                                                                                         
000860   0e40     MOVLW     0x40           ep1Bi.Stat._byte = _UCPU|_DAT1;      // Set buffer status                        Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000862   6f0c     MOVWF     0xc,0x1                                                                                         
000864   0e1e     MOVLW     0x1e           UEP2 = EP_OUT_IN|HSHK_EN;             // Enable 2 data pipes                     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000866   6e72     MOVWF     0x72,0x0                                                                                        
000868   0e40     MOVLW     0x40           ep2Bo.Cnt = sizeof(ep2_out_buffer);     // Set buffer size                       Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00086a   6f11     MOVWF     0x11,0x1                                                                                        
00086c   0eb0     MOVLW     0xb0           ep2Bo.ADR = (byte*)&ep2_out_buffer;     // Set buffer address                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00086e   6f12     MOVWF     0x12,0x1                                                                                        
000870   0e04     MOVLW     0x4                                                                                             
000872   6f13     MOVWF     0x13,0x1                                                                                        
000874   0e88     MOVLW     0x88           ep2Bo.Stat._byte = _USIE|_DAT0|_DTSEN;// Set status                              Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000876   6f10     MOVWF     0x10,0x1                                                                                        
000878   0ef0     MOVLW     0xf0           ep2Bi.ADR = (byte*)&ep2_in_buffer;      // Set buffer address                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00087a   6f16     MOVWF     0x16,0x1                                                                                        
00087c   0e04     MOVLW     0x4                                                                                             
00087e   6f17     MOVWF     0x17,0x1                                                                                        
000880   0e40     MOVLW     0x40           ep2Bi.Stat._byte = _UCPU|_DAT1;      // Set buffer status                        Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000882   6f14     MOVWF     0x14,0x1                                                                                        
000884   0e1e     MOVLW     0x1e           UEP3 = EP_OUT_IN|HSHK_EN;             // Enable 2 data pipes                     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000886   6e73     MOVWF     0x73,0x0                                                                                        
000888   0e40     MOVLW     0x40           ep3Bo.Cnt = sizeof(ep3_out_buffer);     // Set buffer size                       Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00088a   6f19     MOVWF     0x19,0x1                                                                                        
00088c   0e30     MOVLW     0x30           ep3Bo.ADR = (byte*)&ep3_out_buffer;     // Set buffer address                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00088e   6f1a     MOVWF     0x1a,0x1                                                                                        
000890   0e05     MOVLW     0x5                                                                                             
000892   6f1b     MOVWF     0x1b,0x1                                                                                        
                                           //ep3Bo.Stat._byte = _USIE|_DAT0|_DTSEN;// Set status                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000894   0e80     MOVLW     0x80           ep3Bo.Stat._byte = _USIE|_DAT0;// Set status                                     Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
000896   6f18     MOVWF     0x18,0x1                                                                                        
000898   0e70     MOVLW     0x70           ep3Bi.ADR = (byte*)&ep3_in_buffer;      // Set buffer address                    Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
00089a   6f1e     MOVWF     0x1e,0x1                                                                                        
00089c   0e05     MOVLW     0x5                                                                                             
00089e   6f1f     MOVWF     0x1f,0x1                                                                                        
0008a0   0e40     MOVLW     0x40           ep3Bi.Stat._byte = _UCPU|_DAT1;      // Set buffer status                        Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
0008a2   6f1c     MOVWF     0x1c,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           //boot_trf_state = WAIT_FOR_CMD;                                                 Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
0008a4   0012     RETURN    0x0            }//end USBGenInitEP                                                              Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           	#pragma code sys                                                                Z:\home\andres\u4a2\usb4all\usbconf\usballoc\usbmmap.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                            * Rafael Fernandez      17/06/07 	Original                                      Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                            * Andrs Aguirre Dorelo 19/04/09   Parametrizacin de configuracin             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                            ********************************************************************/           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include "system\typedefs.h"                        // Required                  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include "system\usb\usb.h"                         // Required                  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include "io_cfg.h"                                 // Required                  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include "usb4all\dynamicISR\dynamicISR.h"                                       Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include "t0Proxy.h"                              // Modifiable                  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           //#include "user\user.h"                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           //#include "user\handlerManager.h"                              // Modifiable    Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           volatile void ( *t0Function[MAX_T0_FUNCTIONS]) (void) ;//arreglo de punteros a las funciones ISR de los modulos que usan Timer0 Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           volatile byte t0Listeners;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           volatile byte t0LoadHigh;                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           volatile byte t0LoadLow;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001626   d8bd     RCALL     0x17a2         void initT0Functions(void){                                                      Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001628   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	byte i;                                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00162a   6adf     CLRF      0xdf,0x0       	for (i=0; i<MAX_T0_FUNCTIONS;i++){                                              Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00162c   0e05     MOVLW     0x5                                                                                             
00162e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001630   e205     BC        0x163c                                                                                          
001638   2adf     INCF      0xdf,0x1,0x0                                                                                    
00163a   d7f8     BRA       0x162c                                                                                          
001632   d8ad     RCALL     0x178e         		t0Function[i] = 0; //supongo 0 = null                                          Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001634   6aee     CLRF      0xee,0x0                                                                                        
001636   6aed     CLRF      0xed,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00163c   0101     MOVLB     0x1            	t0Listeners=0;							                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00163e   6b50     CLRF      0x50,0x1                                                                                        
001640   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001642   d0b4     BRA       0x17ac                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001644   d8b7     RCALL     0x17b4         BOOL addT0Function(volatile void (*ISRFun) (void)){                              Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0017b4   dff6     RCALL     0x17a2                                                                                          
0017b6   0e02     MOVLW     0x2                                                                                             
0017b8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0017ba   6adf     CLRF      0xdf,0x0       	byte i = 0;                                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0017bc   0e01     MOVLW     0x1            	BOOL termine = FALSE;                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0017be   6adb     CLRF      0xdb,0x0                                                                                        
0017c0   0012     RETURN    0x0                                                                                             
001646   0e05     MOVLW     0x5            	while (i<MAX_T0_FUNCTIONS && !termine){                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001648   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00164a   e213     BC        0x1672                                                                                          
00164c   0e01     MOVLW     0x1                                                                                             
00164e   50db     MOVF      0xdb,0x0,0x0                                                                                    
001650   e110     BNZ       0x1672                                                                                          
001670   d7ea     BRA       0x1646                                                                                          
001652   d89d     RCALL     0x178e         		if ( t0Function[i] == 0) { //TODO ojo que cambie != por ==                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001654   50ee     MOVF      0xee,0x0,0x0                                                                                    
001656   10ed     IORWF     0xed,0x0,0x0                                                                                    
001658   e10a     BNZ       0x166e                                                                                          
00165a   52de     MOVF      0xde,0x1,0x0   			termine = TRUE;                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00165c   0e01     MOVLW     0x1                                                                                             
00165e   6edd     MOVWF     0xdd,0x0                                                                                        
001660   d896     RCALL     0x178e         			t0Function[i] = ISRFun;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001662   0efd     MOVLW     0xfd                                                                                            
001664   cfdb     MOVFF     0xfdb,0xfee                                                                                     
001666   ffee                                                                                                               
001668   0efe     MOVLW     0xfe                                                                                            
00166a   cfdb     MOVFF     0xfdb,0xfed                                                                                     
00166c   ffed                                                                                                               
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00166e   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001672   0e01     MOVLW     0x1            	if (!termine) return FALSE;                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001674   50db     MOVF      0xdb,0x0,0x0                                                                                    
001676   e102     BNZ       0x167c                                                                                          
001678   0e00     MOVLW     0x0                                                                                             
00167a   d015     BRA       0x16a6                                                                                          
00167c   0101     MOVLB     0x1            	if ((t0Listeners++)==0){                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00167e   5150     MOVF      0x50,0x0,0x1                                                                                    
001680   2b50     INCF      0x50,0x1,0x1                                                                                    
001682   0900     IORLW     0x0                                                                                             
001684   e10f     BNZ       0x16a4                                                                                          
                                           		// add my receive ISR function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001686   0e3e     MOVLW     0x3e           		addISRFunction(&t0Interrupt);                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001688   6ee6     MOVWF     0xe6,0x0                                                                                        
00168a   0e17     MOVLW     0x17                                                                                            
00168c   6ee6     MOVWF     0xe6,0x0                                                                                        
00168e   ec09     CALL      0x1e12,0x0                                                                                      
001690   f00f                                                                                                               
001692   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001694   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001696   94f2     BCF       0xf2,0x2,0x0   		INTCONbits.TMR0IF = 0; //apago bandera de interrupcion de timer0 por las dudas Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001698   8af2     BSF       0xf2,0x5,0x0   		INTCONbits.TMR0IE = 1; //cuando se agrega la primer funcion listener prendo ints de Timer0  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           		//cargo valores                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00169a   c152     MOVFF     0x152,0xfd6    		TMR0L = t0LoadLow;                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00169c   ffd6                                                                                                               
00169e   c151     MOVFF     0x151,0xfd7    		TMR0H = t0LoadHigh;                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016a0   ffd7                                                                                                               
0016a2   8ed5     BSF       0xd5,0x7,0x0   		T0CONbits.TMR0ON  = TRUE; //prendo timer0                                      Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           		//mLED_3_On(); raro, no anda el debug                                          Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016a4   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016a6   6e0b     MOVWF     0xb,0x0        } 		                                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016a8   0e02     MOVLW     0x2                                                                                             
0016aa   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0016ac   e202     BC        0x16b2                                                                                          
0016ae   6ae1     CLRF      0xe1,0x0                                                                                        
0016b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0016b2   6ee1     MOVWF     0xe1,0x0                                                                                        
0016b4   500b     MOVF      0xb,0x0,0x0                                                                                     
0016b6   d07a     BRA       0x17ac                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016b8   d87d     RCALL     0x17b4         BOOL removeT0Function(volatile void (*ISRFun) (void)){                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	byte i=0;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	BOOL termine=FALSE;                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016ba   0e05     MOVLW     0x5            	while (i<MAX_T0_FUNCTIONS && !termine){                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016bc   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0016be   e218     BC        0x16f0                                                                                          
0016c0   0e01     MOVLW     0x1                                                                                             
0016c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016c4   e115     BNZ       0x16f0                                                                                          
0016ee   d7e5     BRA       0x16ba                                                                                          
0016c6   d863     RCALL     0x178e         		if ( t0Function[i] == ISRFun) {                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016c8   cfee     MOVFF     0xfee,0xb                                                                                       
0016ca   f00b                                                                                                               
0016cc   cfef     MOVFF     0xfef,0xc                                                                                       
0016ce   f00c                                                                                                               
0016d0   0efd     MOVLW     0xfd                                                                                            
0016d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016d4   180b     XORWF     0xb,0x0,0x0                                                                                     
0016d6   e10a     BNZ       0x16ec                                                                                          
0016d8   0efe     MOVLW     0xfe                                                                                            
0016da   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016dc   180c     XORWF     0xc,0x0,0x0                                                                                     
0016de   e106     BNZ       0x16ec                                                                                          
0016e0   52de     MOVF      0xde,0x1,0x0   			termine = TRUE;                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016e2   0e01     MOVLW     0x1                                                                                             
0016e4   6edd     MOVWF     0xdd,0x0                                                                                        
0016e6   d853     RCALL     0x178e         			t0Function [i] = 0;                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016e8   6aee     CLRF      0xee,0x0                                                                                        
0016ea   6aed     CLRF      0xed,0x0                                                                                        
00178e   6aea     CLRF      0xea,0x0                                                                                        
001790   34df     RLCF      0xdf,0x0,0x0                                                                                    
001792   0bfe     ANDLW     0xfe                                                                                            
001794   36ea     RLCF      0xea,0x1,0x0                                                                                    
001796   6ee9     MOVWF     0xe9,0x0                                                                                        
001798   0e46     MOVLW     0x46                                                                                            
00179a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00179c   0e01     MOVLW     0x1                                                                                             
00179e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0017a0   0012     RETURN    0x0                                                                                             
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016ec   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016f0   0e01     MOVLW     0x1            	if (!termine) return FALSE;                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016f2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0016f4   e102     BNZ       0x16fa                                                                                          
0016f6   0e00     MOVLW     0x0                                                                                             
0016f8   d00f     BRA       0x1718                                                                                          
0016fa   0101     MOVLB     0x1            	if ((--t0Listeners)==0) {                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
0016fc   0750     DECF      0x50,0x1,0x1                                                                                    
0016fe   e10b     BNZ       0x1716                                                                                          
001700   9ed5     BCF       0xd5,0x7,0x0   		T0CONbits.TMR0ON  = FALSE; //apago timer 0                                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001702   94f2     BCF       0xf2,0x2,0x0   		INTCONbits.TMR0IF = 0; //apago bandera de interrupcion de timer0 por las dudas Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001704   9af2     BCF       0xf2,0x5,0x0   		INTCONbits.TMR0IE = 0; //cuando se quita la ultima funcion listener apagago ints de Timer0  Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001706   0e3e     MOVLW     0x3e           		removeISRFunction(&t0Interrupt);                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001708   6ee6     MOVWF     0xe6,0x0                                                                                        
00170a   0e17     MOVLW     0x17                                                                                            
00170c   6ee6     MOVWF     0xe6,0x0                                                                                        
00170e   ec33     CALL      0x1e66,0x0                                                                                      
001710   f00f                                                                                                               
001712   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001714   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		//mLED_3_Off(); raro, no anda el debug                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001716   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001718   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00171a   0e02     MOVLW     0x2                                                                                             
00171c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00171e   e202     BC        0x1724                                                                                          
001720   6ae1     CLRF      0xe1,0x0                                                                                        
001722   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001724   6ee1     MOVWF     0xe1,0x0                                                                                        
001726   500b     MOVF      0xb,0x0,0x0                                                                                     
001728   d041     BRA       0x17ac                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00172a   d83b     RCALL     0x17a2         void configT0(unsigned char t0_low, unsigned char t0_high){                      Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00172c   0e02     MOVLW     0x2            	T0CON = 0x02; //TODO parametrizarlo tambin                                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00172e   6ed5     MOVWF     0xd5,0x0                                                                                        
                                           	//t0LoadLow = 1;                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	//t0LoadHigh = 1;                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001730   0efe     MOVLW     0xfe           	t0LoadLow = t0_low;                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001732   cfdb     MOVFF     0xfdb,0x152                                                                                     
001734   f152                                                                                                               
001736   0efd     MOVLW     0xfd           	t0LoadHigh = t0_high;                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001738   cfdb     MOVFF     0xfdb,0x151                                                                                     
00173a   f151                                                                                                               
00173c   d037     BRA       0x17ac         }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00173e   d831     RCALL     0x17a2         void t0Interrupt(void){                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001740   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0017a2   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0017a4   ffe6                                                                                                               
0017a6   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0017a8   ffd9                                                                                                               
0017aa   0012     RETURN    0x0                                                                                             
001742   6adf     CLRF      0xdf,0x0       	volatile byte i=0;                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001744   a4f2     BTFSS     0xf2,0x2,0x0   	if (INTCONbits.TMR0IF){                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001746   d021     BRA       0x178a                                                                                          
                                           		//si hubo interrupcion del timer0 apago la bandera de interrucion y hago notify a todos los observers Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001748   94f2     BCF       0xf2,0x2,0x0   		INTCONbits.TMR0IF = 0;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           		//vuelvo a setear el timer                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00174a   c152     MOVFF     0x152,0xfd6    		TMR0L = t0LoadLow;                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00174c   ffd6                                                                                                               
00174e   c151     MOVFF     0x151,0xfd7    		TMR0H = t0LoadHigh;                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001750   ffd7                                                                                                               
001752   0e05     MOVLW     0x5            		while (i<MAX_T0_FUNCTIONS){                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001754   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001756   e219     BC        0x178a                                                                                          
001788   d7e4     BRA       0x1752                                                                                          
                                           			//mLED_4_On();                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001758   d81a     RCALL     0x178e         			if(t0Function[i] != 0){ //tube que bajar esta condicion del while al if, porque cuando me remueven pueden quedar "huecos" Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00175a   50ee     MOVF      0xee,0x0,0x0                                                                                    
00175c   10ed     IORWF     0xed,0x0,0x0                                                                                    
00175e   e013     BZ        0x1786                                                                                          
001760   6aea     CLRF      0xea,0x0       				t0Function[i]();                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001762   34df     RLCF      0xdf,0x0,0x0                                                                                    
001764   0bfe     ANDLW     0xfe                                                                                            
001766   36ea     RLCF      0xea,0x1,0x0                                                                                    
001768   6ee9     MOVWF     0xe9,0x0                                                                                        
00176a   0e46     MOVLW     0x46                                                                                            
00176c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00176e   0e01     MOVLW     0x1                                                                                             
001770   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001772   cfee     MOVFF     0xfee,0xb                                                                                       
001774   f00b                                                                                                               
001776   cfef     MOVFF     0xfef,0xc                                                                                       
001778   f00c                                                                                                               
00177a   d004     BRA       0x1784                                                                                          
00177c   c00c     MOVFF     0xc,0xffa                                                                                       
00177e   fffa                                                                                                               
001780   500b     MOVF      0xb,0x0,0x0                                                                                     
001782   6ef9     MOVWF     0xf9,0x0                                                                                        
001784   dffb     RCALL     0x177c                                                                                          
                                           			}                                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
001786   2adf     INCF      0xdf,0x1,0x0   			i++;                                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00178a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
00178c   d00f     BRA       0x17ac                                                                                          
0017ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0017ae   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0017b0   ffd9                                                                                                               
0017b2   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Proxy.c
                                           /*********************************************************************           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                Microchip USB C18 Firmware Version 1.0                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *********************************************************************           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * FileName:        usbdrv.c                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Dependencies:    See INCLUDES section below                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Processor:       PIC18                                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Compiler:        C18 2.30.01+                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Company:         Microchip Technology, Inc.                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Software License Agreement                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * The software supplied herewith by Microchip Technology Incorporated           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * (the Company) for its PICmicro Microcontroller is intended and             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * supplied to you, the Companys customer, for use solely and                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * software is owned by the Company and/or its supplier, and is                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * protected under applicable copyright laws. All rights are reserved.           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Any use in violation of the foregoing restrictions may subject the            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * user to criminal sanctions under applicable laws, as well as to               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * civil liability for the breach of the terms and conditions of this            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * license.                                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Author               Date        Comment                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            ********************************************************************/           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           #include "io_cfg.h"             // Required for USBCheckBusStatus()              Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBModuleEnable(void);                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBModuleDisable(void);                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBSuspend(void);                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBWakeFromSuspend(void);                                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBProtocolResetHandler(void);                                              Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USB_SOF_Handler(void);                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBStallHandler(void);                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBErrorHandler(void);                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBCheckBusStatus(void)                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine enables/disables the USB module by monitoring   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  the USB power signal.                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBCheckBusStatus(void)                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /**************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Bus Attachment & Detachment Detection                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * usb_bus_sense is an i/o pin defined in io_cfg.h                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               #define USB_BUS_ATTACHED    1                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               #define USB_BUS_DETACHED    0                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               if(usb_bus_sense == USB_BUS_ATTACHED)       // Is USB bus attached?          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017c2   a66d     BTFSS     0x6d,0x3,0x0           if(UCONbits.USBEN == 0)                 // Is the module off?            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017c4   d80c     RCALL     0x17de                     USBModuleEnable();                  // Is off, enable it             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               else                                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   if(UCONbits.USBEN == 1)                 // Is the module on?             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                       USBModuleDisable();                 // Is on, disable it             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               }//end if(usb_bus_sense...)                                                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * After enabling the USB module, it takes some time for the voltage         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * on the D+ or D- line to rise high enough to get out of the SE0 condition. Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * The USB Reset interrupt should not be unmasked until the SE0 condition is Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * cleared. This helps preventing the firmware from misinterpreting this     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * unique event as a USB bus reset from the USB host.                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017c6   0101     MOVLB     0x1                if(usb_device_state == ATTACHED_STATE)                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017c8   0585     DECF      0x85,0x0,0x1                                                                                    
0017ca   e108     BNZ       0x17dc                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017cc   ba6d     BTFSC     0x6d,0x5,0x0           if(!UCONbits.SE0)                                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017ce   d006     BRA       0x17dc                                                                                          
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017d0   6a68     CLRF      0x68,0x0                   UIR = 0;                        // Clear all USB interrupts          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017d2   6a69     CLRF      0x69,0x0                   UIE = 0;                        // Mask all USB interrupts           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017d4   8069     BSF       0x69,0x0,0x0               UIEbits.URSTIE = 1;             // Unmask RESET interrupt            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017d6   8869     BSF       0x69,0x4,0x0               UIEbits.IDLEIE = 1;             // Unmask IDLE interrupt             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017d8   0e02     MOVLW     0x2                        usb_device_state = POWERED_STATE;                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017da   6f85     MOVWF     0x85,0x1                                                                                        
                                                   }//end if                           // else wait until SE0 is cleared    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               }//end if(usb_device_state == ATTACHED_STATE)                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017dc   0012     RETURN    0x0            }//end USBCheckBusStatus                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBModuleEnable(void)                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine enables the USB module.                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  An end designer should never have to call this routine       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  manually. This routine should only be called from            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  USBCheckBusStatus().                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            See USBCheckBusStatus() for more information.                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBModuleEnable(void)                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017de   6a6d     CLRF      0x6d,0x0           UCON = 0;                                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017e0   6a69     CLRF      0x69,0x0           UIE = 0;                                // Mask all USB interrupts           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017e2   866d     BSF       0x6d,0x3,0x0       UCONbits.USBEN = 1;                     // Enable module & attach to bus     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017e4   0101     MOVLB     0x1                usb_device_state = ATTACHED_STATE;      // Defined in usbmmap.c & .h         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017e6   0e01     MOVLW     0x1                                                                                             
0017e8   6f85     MOVWF     0x85,0x1                                                                                        
0017ea   0012     RETURN    0x0            }//end USBModuleEnable                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBModuleDisable(void)                                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine disables the USB module.                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  An end designer should never have to call this routine       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  manually. This routine should only be called from            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  USBCheckBusStatus().                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            See USBCheckBusStatus() for more information.                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBModuleDisable(void)                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017ec   6a6d     CLRF      0x6d,0x0           UCON = 0;                               // Disable module & detach from bus  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017ee   6a69     CLRF      0x69,0x0           UIE = 0;                                // Mask all USB interrupts           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017f0   0101     MOVLB     0x1                usb_device_state = DETACHED_STATE;      // Defined in usbmmap.c & .h         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017f2   6b85     CLRF      0x85,0x1                                                                                        
0017f4   0012     RETURN    0x0            }//end USBModuleDisable                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBSoftDetach(void)                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    The device will have to be re-enumerated to function again.  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        USBSoftDetach electrically disconnects the device from       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  the bus. This is done by stop supplying Vusb voltage to      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  pull-up resistor. The pull-down resistors on the host        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  side will pull both differential signal lines low and        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  the host registers the event as a disconnect.                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  Since the USB cable is not physically disconnected, the      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  power supply through the cable can still be sensed by        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  the device. The next time USBCheckBusStatus() function       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  is called, it will reconnect the device back to the bus.     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBSoftDetach(void)                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017f6   eff6     GOTO      0x17ec             USBModuleDisable();                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017f8   f00b                                                                                                               
                                           }//end USBSoftDetach                                                             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBDriverService(void)                                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine is the heart of this firmware. It manages       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  all USB interrupts.                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            Device state transitions through the following stages:       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  DETACHED -> ATTACHED -> POWERED -> DEFAULT ->                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  ADDRESS_PENDING -> ADDRESSED -> CONFIGURED -> READY          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBDriverService(void)                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if USB cable is not even attached.        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017fa   0101     MOVLB     0x1                if(usb_device_state == DETACHED_STATE) return;                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0017fc   5185     MOVF      0x85,0x0,0x1                                                                                    
0017fe   e101     BNZ       0x1802                                                                                          
001800   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Task A: Service USB Activity Interrupt                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001802   5068     MOVF      0x68,0x0,0x0       if(UIRbits.ACTVIF && UIEbits.ACTVIE)    USBWakeFromSuspend();                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001804   0b04     ANDLW     0x4                                                                                             
001806   e004     BZ        0x1810                                                                                          
001808   5069     MOVF      0x69,0x0,0x0                                                                                    
00180a   0b04     ANDLW     0x4                                                                                             
00180c   e001     BZ        0x1810                                                                                          
00180e   d838     RCALL     0x1880                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if the device is in suspend mode.         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001810   b26d     BTFSC     0x6d,0x1,0x0       if(UCONbits.SUSPND==1) return;                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001812   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * This is why URSTIF is checked after ACTVIF.                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001814   5068     MOVF      0x68,0x0,0x0       if(UIRbits.URSTIF && UIEbits.URSTIE)    USBProtocolResetHandler();           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001816   0b01     ANDLW     0x1                                                                                             
001818   e004     BZ        0x1822                                                                                          
00181a   5069     MOVF      0x69,0x0,0x0                                                                                    
00181c   0b01     ANDLW     0x1                                                                                             
00181e   e001     BZ        0x1822                                                                                          
001820   d850     RCALL     0x18c2                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Task C: Service other USB interrupts                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001822   5068     MOVF      0x68,0x0,0x0       if(UIRbits.IDLEIF && UIEbits.IDLEIE)    USBSuspend();                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001824   0b10     ANDLW     0x10                                                                                            
001826   e004     BZ        0x1830                                                                                          
001828   5069     MOVF      0x69,0x0,0x0                                                                                    
00182a   0b10     ANDLW     0x10                                                                                            
00182c   e001     BZ        0x1830                                                                                          
00182e   d824     RCALL     0x1878                                                                                          
001830   5068     MOVF      0x68,0x0,0x0       if(UIRbits.SOFIF && UIEbits.SOFIE)      USB_SOF_Handler();                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001832   0b40     ANDLW     0x40                                                                                            
001834   e004     BZ        0x183e                                                                                          
001836   5069     MOVF      0x69,0x0,0x0                                                                                    
001838   0b40     ANDLW     0x40                                                                                            
00183a   e001     BZ        0x183e                                                                                          
00183c   d837     RCALL     0x18ac                                                                                          
00183e   5068     MOVF      0x68,0x0,0x0       if(UIRbits.STALLIF && UIEbits.STALLIE)  USBStallHandler();                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001840   0b20     ANDLW     0x20                                                                                            
001842   e004     BZ        0x184c                                                                                          
001844   5069     MOVF      0x69,0x0,0x0                                                                                    
001846   0b20     ANDLW     0x20                                                                                            
001848   e001     BZ        0x184c                                                                                          
00184a   d832     RCALL     0x18b0                                                                                          
00184c   5068     MOVF      0x68,0x0,0x0       if(UIRbits.UERRIF && UIEbits.UERRIE)    USBErrorHandler();                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00184e   0b02     ANDLW     0x2                                                                                             
001850   e004     BZ        0x185a                                                                                          
001852   5069     MOVF      0x69,0x0,0x0                                                                                    
001854   0b02     ANDLW     0x2                                                                                             
001856   e001     BZ        0x185a                                                                                          
001858   d832     RCALL     0x18be                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * state and is ready for communication.                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00185a   0e03     MOVLW     0x3                if(usb_device_state < DEFAULT_STATE) return;                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00185c   0101     MOVLB     0x1                                                                                             
00185e   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001860   e201     BC        0x1864                                                                                          
001862   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001864   5068     MOVF      0x68,0x0,0x0       if(UIRbits.TRNIF && UIEbits.TRNIE)                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001866   0b08     ANDLW     0x8                                                                                             
001868   e006     BZ        0x1876                                                                                          
00186a   5069     MOVF      0x69,0x0,0x0                                                                                    
00186c   0b08     ANDLW     0x8                                                                                             
00186e   e003     BZ        0x1876                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   /*                                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * USBCtrlEPService only services transactions over EP0.                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * It ignores all other EP transactions.                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    */                                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001870   ec98     CALL      0x1930,0x0             USBCtrlEPService();                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001872   f00c                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   /*                                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * Other EP can be serviced later by responsible device class firmware.  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * Each device driver knows when an OUT or IN transaction is ready by    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * checking the buffer ownership bit.                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * An OUT EP should always be owned by SIE until the data is ready.      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * An IN EP should always be owned by CPU until the data is ready.       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    *                                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * Because of this logic, it is not necessary to save the USTAT value    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    * of non-EP0 transactions.                                              Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                    */                                                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001874   9668     BCF       0x68,0x3,0x0           UIRbits.TRNIF = 0;                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               }//end if(UIRbits.TRNIF && UIEbits.TRNIE)                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001876   0012     RETURN    0x0            }//end USBDriverService                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBSuspend(void)                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:                                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBSuspend(void)                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Reason:                                                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * This is a 1:1 ratio interrupt generation.                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * the number of subsequent bus transitions.                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * [       IDLE       ][bus activity ->                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * <--- 3 ms ----->     ^                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                ^     ACTVIF=1                                             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                IDLEIF=1                                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *  #           #           #           #   (#=Program polling flags)        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          ^                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          This polling loop will see both                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          However, the program services IDLEIF first       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          because ACTIVIE=0.                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          If this routine clears the only ACTIVIF,         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          then it can never get out of the suspend         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                          mode.                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001878   8469     BSF       0x69,0x2,0x0       UIEbits.ACTVIE = 1;                     // Enable bus activity interrupt     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00187a   9868     BCF       0x68,0x4,0x0       UIRbits.IDLEIF = 0;                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00187c   826d     BSF       0x6d,0x1,0x0       UCONbits.SUSPND = 1;                    // Put USB module in power conserve  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                       // mode, SIE clock inactive          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * At this point the PIC can go into sleep,idle, or                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * switch to a slower clock, etc.                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /* Modifiable Section */                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /* End Modifiable Section */                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00187e   0012     RETURN    0x0            }//end USBSuspend                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBWakeFromSuspend(void)                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:                                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBWakeFromSuspend(void)                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * If using clock switching, this is the place to restore the                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * original clock frequency.                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001880   926d     BCF       0x6d,0x1,0x0       UCONbits.SUSPND = 0;                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001882   9469     BCF       0x69,0x2,0x0       UIEbits.ACTVIE = 0;                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001884   9468     BCF       0x68,0x2,0x0       UIRbits.ACTVIF = 0;                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001886   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBRemoteWakeup(void)                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This function should be called by user when the device       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  is waken up by an external stimulus other than ACTIVIF.      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  Please read the note below to understand the limitations.    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            The modifiable section in this routine should be changed     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  to meet the application needs. Current implementation        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  temporary blocks other functions from executing for a        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  period of 1-13 ms depending on the core frequency.           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  "The remote wakeup device must hold the resume signaling     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  for at lest 1 ms but for no more than 15 ms."                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  The idea here is to use a delay counter loop, using a        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  common value that would work over a wide range of core       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  frequencies.                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  That value selected is 1800. See table below:                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                      48              12          1.05                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                       4              1           12.6                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  * These timing could be incorrect when using code            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                    optimization or extended instruction mode,                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                    or when having other interrupts enabled.                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBRemoteWakeup(void)                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               static word delay_count;                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001888   0101     MOVLB     0x1                if(usb_stat.RemoteWakeup == 1)          // Check if RemoteWakeup function    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00188a   a186     BTFSS     0x86,0x0,0x1                                                                                    
00188c   d00e     BRA       0x18aa                                                                                          
                                               {                                       // has been enabled by the host.     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00188e   dff8     RCALL     0x1880                 USBWakeFromSuspend();               // Unsuspend USB modue               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001890   846d     BSF       0x6d,0x2,0x0           UCONbits.RESUME = 1;                // Start RESUME signaling            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   /* Modifiable Section */                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001892   0100     MOVLB     0x0                    delay_count = 1800U;                // Set RESUME line for 1-13 ms       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001894   0e08     MOVLW     0x8                                                                                             
001896   6ffe     MOVWF     0xfe,0x1                                                                                        
001898   0e07     MOVLW     0x7                                                                                             
00189a   6fff     MOVWF     0xff,0x1                                                                                        
                                                   do                                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00189c   07fe     DECF      0xfe,0x1,0x1               delay_count--;                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00189e   0e00     MOVLW     0x0                                                                                             
0018a0   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
0018a2   51fe     MOVF      0xfe,0x0,0x1           }while(delay_count);                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018a4   11ff     IORWF     0xff,0x0,0x1                                                                                    
0018a6   e1fa     BNZ       0x189c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   /* End Modifiable Section */                                             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018a8   946d     BCF       0x6d,0x2,0x0           UCONbits.RESUME = 0;                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               }//endif                                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018aa   0012     RETURN    0x0            }//end USBRemoteWakeup                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USB_SOF_Handler(void)                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed devices    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  every 1 ms. This interrupt may be useful for isochronous     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  pipes. End designers should implement callback routine       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  as necessary.                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USB_SOF_Handler(void)                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /* Callback routine here */                                                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018ac   9c68     BCF       0x68,0x6,0x0       UIRbits.SOFIF = 0;                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018ae   0012     RETURN    0x0            }//end USB_SOF_Handler                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBStallHandler(void)                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    A STALL packet is sent to the host by the SIE.               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The STALLIF is set anytime the SIE sends out a STALL         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  packet regardless of which endpoint causes it.               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  A Setup transaction overrides the STALL function. A stalled  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  endpoint stops stalling once it receives a setup packet.     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  In this case, the SIE will accepts the Setup packet and      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  set the TRNIF flag to notify the firmware. STALL function    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  for that particular endpoint pipe will be automatically      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  disabled (direction specific).                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  There are a few reasons for an endpoint to be stalled.       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  1. When a non-supported USB request is received.             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                     Example: GET_DESCRIPTOR(DEVICE_QUALIFIER)                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  2. When an endpoint is currently halted.                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  3. When the device class specifies that an endpoint must     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                     stall in response to a specific event.                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                     Example: Mass Storage Device Class                        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                              If the CBW is not valid, the device shall        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                              STALL the Bulk-In pipe.                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                              See USB Mass Storage Class Bulk-only Transport   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                              Specification for more details.                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            UEPn.EPSTALL can be scanned to see which endpoint causes     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  the stall event.                                             Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  If                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBStallHandler(void)                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * Does not really have to do anything here,                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * even for the control endpoint.                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * but once a Setup Transaction is received, the ownership                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * for EP0_OUT will be returned to CPU.                                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * When the Setup Transaction is serviced, the ownership                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *                                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                * NOTE: Above description is not quite true at this point.                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *       It seems the SIE never returns the UOWN bit to CPU,                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *       and a TRNIF is never generated upon successful                      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *       reception of a SETUP transaction.                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                *       Firmware work-around is implemented below.                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018b0   a070     BTFSS     0x70,0x0,0x0       if(UEP0bits.EPSTALL == 1)                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018b2   d003     BRA       0x18ba                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018b4   ec89     CALL      0x1b12,0x0             USBPrepareForNextSetupTrf();        // Firmware Work-Around              Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018b6   f00d                                                                                                               
0018b8   9070     BCF       0x70,0x0,0x0           UEP0bits.EPSTALL = 0;                                                    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018ba   9a68     BCF       0x68,0x5,0x0       UIRbits.STALLIF = 0;                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018bc   0012     RETURN    0x0            }//end USBStallHandler                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBErrorHandler(void)                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The purpose of this interrupt is mainly for debugging        Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  during development. Check UEIR to see which error causes     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  the interrupt.                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBErrorHandler(void)                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018be   9268     BCF       0x68,0x1,0x0       UIRbits.UERRIF = 0;                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018c0   0012     RETURN    0x0            }//end USBErrorHandler                                                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBProtocolResetHandler(void)                           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    A USB bus reset is received from the host.                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    Currently, this routine flushes any pending USB              Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  transactions. It empties out the USTAT FIFO. This action     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  might not be desirable in some applications.                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Overview:        Once a USB bus reset is received from the host, this         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  routine should be called. It resets the device address to    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  zero, disables all non-EP0 endpoints, initializes EP0 to     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  be ready for default communication, clears all USB           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  interrupt flags, unmasks applicable USB interrupts, and      Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                  reinitializes internal state-machine variables.              Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           void USBProtocolResetHandler(void)                                               Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018c2   6a6a     CLRF      0x6a,0x0           UEIR = 0;                       // Clear all USB error flags                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018c4   6a68     CLRF      0x68,0x0           UIR = 0;                        // Clears all USB interrupts                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018c6   0e9f     MOVLW     0x9f               UEIE = 0b10011111;              // Unmask all USB error interrupts           Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018c8   6e6b     MOVWF     0x6b,0x0                                                                                        
0018ca   0e7b     MOVLW     0x7b               UIE = 0b01111011;               // Enable all interrupts except ACTVIE       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018cc   6e69     MOVWF     0x69,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018ce   6a6e     CLRF      0x6e,0x0           UADDR = 0x00;                   // Reset to default address                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018d0   0e0f     MOVLW     0xf                mDisableEP1to15();              // Reset all non-EP0 UEPn registers          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018d2   6ee6     MOVWF     0xe6,0x0                                                                                        
0018d4   0e71     MOVLW     0x71                                                                                            
0018d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0018d8   0e0f     MOVLW     0xf                                                                                             
0018da   6ee6     MOVWF     0xe6,0x0                                                                                        
0018dc   d814     RCALL     0x1906                                                                                          
0018de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0018e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0018e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0018e4   0e16     MOVLW     0x16               UEP0 = EP_CTRL|HSHK_EN;         // Init EP0 as a Ctrl EP, see usbdrv.h       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018e6   6e70     MOVWF     0x70,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018e8   a668     BTFSS     0x68,0x3,0x0       while(UIRbits.TRNIF == 1)       // Flush any pending transactions            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018ea   d002     BRA       0x18f0                                                                                          
0018ee   d7fc     BRA       0x18e8                                                                                          
0018ec   9668     BCF       0x68,0x3,0x0           UIRbits.TRNIF = 0;                                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018f0   986d     BCF       0x6d,0x4,0x0       UCONbits.PKTDIS = 0;            // Make sure packet processing is enabled    Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018f2   ec89     CALL      0x1b12,0x0         USBPrepareForNextSetupTrf();    // Declared in usbctrltrf.c                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018f4   f00d                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018f6   0101     MOVLB     0x1                usb_stat.RemoteWakeup = 0;      // Default status flag to disable            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018f8   9186     BCF       0x86,0x0,0x1                                                                                    
0018fa   0101     MOVLB     0x1                usb_active_cfg = 0;             // Clear active configuration                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
0018fc   6b87     CLRF      0x87,0x1                                                                                        
0018fe   0101     MOVLB     0x1                usb_device_state = DEFAULT_STATE;                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001900   0e03     MOVLW     0x3                                                                                             
001902   6f85     MOVWF     0x85,0x1                                                                                        
001904   0012     RETURN    0x0            }//end USBProtocolResetHandler                                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /* Auxiliary Function */                                                         Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001906   cfd9     MOVFF     0xfd9,0xfe6    void ClearArray(byte* startAdr,byte count)                                       Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001908   ffe6                                                                                                               
00190a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00190c   ffd9                                                                                                               
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00190e   0efd     MOVLW     0xfd               *startAdr;                                                                   Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001910   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001912   ffe9                                                                                                               
001914   0efe     MOVLW     0xfe                                                                                            
001916   cfdb     MOVFF     0xfdb,0xfea                                                                                     
001918   ffea                                                                                                               
00191a   0efc     MOVLW     0xfc               while(count)                                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00191c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00191e   e004     BZ        0x1928                                                                                          
001926   d7f9     BRA       0x191a                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   _asm                                                                     Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001920   6aee     CLRF      0xee,0x0               clrf POSTINC0,0                                                          Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                                   _endasm                                                                  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001922   0efc     MOVLW     0xfc                   count--;                                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001924   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }//end while                                                                 Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
001928   52e5     MOVF      0xe5,0x1,0x0   }//end ClearArray                                                                Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
00192a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00192c   ffd9                                                                                                               
00192e   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /** EOF usbdrv.c *************************************************************/  Z:\home\andres\u4a2\system\usb\usbdrv\usbdrv.c
                                           /*********************************************************************           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                Microchip USB C18 Firmware Version 1.0                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *********************************************************************           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * FileName:        usbctrltrf.c                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Dependencies:    See INCLUDES section below                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Processor:       PIC18                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Compiler:        C18 2.30.01+                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Company:         Microchip Technology, Inc.                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Software License Agreement                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * The software supplied herewith by Microchip Technology Incorporated           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * (the Company) for its PICmicro Microcontroller is intended and             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * supplied to you, the Companys customer, for use solely and                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * software is owned by the Company and/or its supplier, and is                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * protected under applicable copyright laws. All rights are reserved.           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Any use in violation of the foregoing restrictions may subject the            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * user to criminal sanctions under applicable laws, as well as to               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * civil liability for the breach of the terms and conditions of this            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * license.                                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Author               Date        Comment                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            ********************************************************************/           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           byte ctrl_trf_state;                // Control Transfer State                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           byte ctrl_trf_session_owner;        // Current transfer session owner            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           POINTER pSrc;                       // Data source pointer                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           POINTER pDst;                       // Data destination pointer                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           WORD wCount;                        // Data counter                              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfSetupHandler(void);                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfOutHandler(void);                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfInHandler(void);                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlEPService(void)                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        USBCtrlEPService checks for three transaction types that     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  it knows how to service and services them:                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. EP0 SETUP                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. EP0 OUT                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. EP0 IN                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlEPService(void)                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001930   506c     MOVF      0x6c,0x0,0x0       if(USTAT == EP00_OUT)                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001932   e10b     BNZ       0x194a                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001934   0104     MOVLB     0x4                    if(ep0Bo.Stat.PID == SETUP_TOKEN)           // EP0 SETUP                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001936   5100     MOVF      0x0,0x0,0x1                                                                                     
001938   0b3c     ANDLW     0x3c                                                                                            
00193a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00193c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00193e   080d     SUBLW     0xd                                                                                             
001940   e102     BNZ       0x1946                                                                                          
001942   efaa     GOTO      0x1954                     USBCtrlTrfSetupHandler();                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001944   f00c                                                                                                               
                                                   else                                        // EP0 OUT                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001946   efb9     GOTO      0x1972                     USBCtrlTrfOutHandler();                                              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001948   f00c                                                                                                               
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00194a   0e04     MOVLW     0x4                else if(USTAT == EP00_IN)                       // EP0 IN                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00194c   5c6c     SUBWF     0x6c,0x0,0x0                                                                                    
00194e   e101     BNZ       0x1952                                                                                          
001950   d81f     RCALL     0x1990                 USBCtrlTrfInHandler();                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001952   0012     RETURN    0x0            }//end USBCtrlEPService                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. It initializes the control transfer state machine.        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. It calls on each of the module that may know how to       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     service the Setup Request from the host.                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     Module Example: USB9, HID, CDC, MSD, ...                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     As new classes are added, ClassReqHandler table in        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     usbdsc.c should be updated to call all available          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     class handlers.                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. Once each of the modules has had a chance to check if     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     it is responsible for servicing the request, stage 3      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     then checks direction of the transfer to determine how    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     to prepare EP0 for the control transfer.                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            Microchip USB Firmware has three different states for        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  the control transfer state machine:                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. WAIT_SETUP                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. CTRL_TRF_TX                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. CTRL_TRF_RX                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Refer to firmware manual to find out how one state           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  is transitioned to another.                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  A Control Transfer is composed of many USB transactions.     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  When transferring data over multiple transactions,           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  it is important to keep track of data source, data           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  destination, and data count. These three parameters are      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  note if the data source is from ROM or RAM.                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001954   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfSetupHandler(void)                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001956   ffe6                                                                                                               
001958   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00195a   ffd9                                                                                                               
00195c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               byte i;                                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 1 */                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00195e   0101     MOVLB     0x1                ctrl_trf_state = WAIT_SETUP;                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001960   6b72     CLRF      0x72,0x1                                                                                        
001962   6b73     CLRF      0x73,0x1           ctrl_trf_session_owner = MUID_NULL;     // Set owner to NULL                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001964   6b78     CLRF      0x78,0x1           wCount._word = 0;                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001966   6b79     CLRF      0x79,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 2 */                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001968   ecbb     CALL      0x1b76,0x0         USBCheckStdRequest();                   // See system\usb9\usb9.c            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00196a   f00d                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Modifiable Section */                                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               // Insert other USB Device Class Request Handlers here                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /* End Modifiable Section */                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 3 */                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00196c   d899     RCALL     0x1aa0             USBCtrlEPServiceComplete();                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00196e   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfSetupHandler                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001970   d0f6     BRA       0x1b5e                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine handles an OUT transaction according to         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  which control transfer state is currently active.            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            Note that if the the control transfer was from               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  host to device, the session owner should be notified         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  at the end of each OUT transaction to service the            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  received data.                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfOutHandler(void)                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001972   0e02     MOVLW     0x2                if(ctrl_trf_state == CTRL_TRF_RX)                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001974   0101     MOVLB     0x1                                                                                             
001976   5d72     SUBWF     0x72,0x0,0x1                                                                                    
001978   e109     BNZ       0x198c                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00197a   d868     RCALL     0x1a4c                 USBCtrlTrfRxService();                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                   /*                                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    * Don't have to worry about overwriting _KEEP bit                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    * because if _KEEP was set, TRNIF would not have been                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    * generated in the first place.                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    */                                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00197c   0104     MOVLB     0x4                    if(ep0Bo.Stat.DTS == 0)                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00197e   bd00     BTFSC     0x0,0x6,0x1                                                                                     
001980   d002     BRA       0x1986                                                                                          
001982   0ec8     MOVLW     0xc8                       ep0Bo.Stat._byte = _USIE|_DAT1|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001984   d001     BRA       0x1988                 else                                                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001986   0e88     MOVLW     0x88                       ep0Bo.Stat._byte = _USIE|_DAT0|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001988   6f00     MOVWF     0x0,0x1                                                                                         
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00198a   0012     RETURN    0x0                else    // CTRL_TRF_TX                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00198c   ef89     GOTO      0x1b12                 USBPrepareForNextSetupTrf();                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
00198e   f00d                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           }//end USBCtrlTrfOutHandler                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine handles an IN transaction according to          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  which control transfer state is currently active.            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            A Set Address Request must not change the acutal address     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  of the device until the completion of the control            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer. The end of the control transfer for Set Address    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Request is an IN transaction. Therefore it is necessary      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  to service this unique situation when the condition is       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  usb9.h and its function is to specifically service this      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  event.                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfInHandler(void)                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001990   0e04     MOVLW     0x4                mUSBCheckAdrPendingState();         // Must check if in ADR_PENDING_STATE    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001992   0101     MOVLB     0x1                                                                                             
001994   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001996   e109     BNZ       0x19aa                                                                                          
001998   c422     MOVFF     0x422,0xf6e                                                                                     
00199a   ff6e                                                                                                               
00199c   506e     MOVF      0x6e,0x0,0x0                                                                                    
00199e   0800     SUBLW     0x0                                                                                             
0019a0   e202     BC        0x19a6                                                                                          
0019a2   0e05     MOVLW     0x5                                                                                             
0019a4   d001     BRA       0x19a8                                                                                          
0019a6   0e03     MOVLW     0x3                                                                                             
0019a8   6f85     MOVWF     0x85,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019aa   0101     MOVLB     0x1                if(ctrl_trf_state == CTRL_TRF_TX)                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019ac   0572     DECF      0x72,0x0,0x1                                                                                    
0019ae   e109     BNZ       0x19c2                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019b0   d80a     RCALL     0x19c6                 USBCtrlTrfTxService();                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019b2   0104     MOVLB     0x4                    if(ep0Bi.Stat.DTS == 0)                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019b4   bd04     BTFSC     0x4,0x6,0x1                                                                                     
0019b6   d002     BRA       0x19bc                                                                                          
0019b8   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019ba   d001     BRA       0x19be                 else                                                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019bc   0e88     MOVLW     0x88                       ep0Bi.Stat._byte = _USIE|_DAT0|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019be   6f04     MOVWF     0x4,0x1                                                                                         
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019c0   0012     RETURN    0x0                else // CTRL_TRF_RX                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019c2   ef89     GOTO      0x1b12                 USBPrepareForNextSetupTrf();                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019c4   f00d                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           }//end USBCtrlTrfInHandler                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfTxService(void)                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine should be called from only two places.          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  USBCtrlTrfInHandler(). It takes care of managing a           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer over multiple USB transactions.                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            This routine works with isochronous endpoint larger than     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  256 bytes and is shown here as an example of how to deal     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  with BC9 and BC8. In reality, a control endpoint can never   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  be larger than 64 bytes.                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019c6   d8c4     RCALL     0x1b50         void USBCtrlTrfTxService(void)                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b50   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
001b52   ffe6                                                                                                               
001b54   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001b56   ffd9                                                                                                               
001b58   0e02     MOVLW     0x2                                                                                             
001b5a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
001b5c   0012     RETURN    0x0                                                                                             
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               WORD byte_to_send;                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                * First, have to figure out how many byte of data to send.                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019c8   0101     MOVLB     0x1                if(wCount._word < EP0_BUFF_SIZE)                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019ca   0e08     MOVLW     0x8                                                                                             
0019cc   5d78     SUBWF     0x78,0x0,0x1                                                                                    
0019ce   0e00     MOVLW     0x0                                                                                             
0019d0   5979     SUBWFB    0x79,0x0,0x1                                                                                    
0019d2   e205     BC        0x19de                                                                                          
0019d4   c178     MOVFF     0x178,0xfde            byte_to_send._word = wCount._word;                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019d6   ffde                                                                                                               
0019d8   c179     MOVFF     0x179,0xfdd                                                                                     
0019da   ffdd                                                                                                               
0019dc   d003     BRA       0x19e4             else                                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019de   0e08     MOVLW     0x8                    byte_to_send._word = EP0_BUFF_SIZE;                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019e0   6ede     MOVWF     0xde,0x0                                                                                        
0019e2   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                * Next, load the number of bytes to send to BC9..0 in buffer descriptor     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019e4   0104     MOVLB     0x4                ep0Bi.Stat.BC9 = 0;                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019e6   9304     BCF       0x4,0x1,0x1                                                                                     
0019e8   9104     BCF       0x4,0x0,0x1        ep0Bi.Stat.BC8 = 0;                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019ea   0e01     MOVLW     0x1                ep0Bi.Stat._byte |= MSB(byte_to_send);                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019ec   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019ee   1304     IORWF     0x4,0x1,0x1                                                                                     
0019f0   cfdf     MOVFF     0xfdf,0x405        ep0Bi.Cnt = LSB(byte_to_send);                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019f2   f405                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                * Subtract the number of bytes just about to be sent from the total.        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019f4   0e00     MOVLW     0x0                wCount._word = wCount._word - byte_to_send._word;                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
0019f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019f8   0101     MOVLB     0x1                                                                                             
0019fa   5f78     SUBWF     0x78,0x1,0x1                                                                                    
0019fc   0e01     MOVLW     0x1                                                                                             
0019fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
001a00   5b79     SUBWFB    0x79,0x1,0x1                                                                                    
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a02   0e28     MOVLW     0x28               pDst.bRam = (byte*)&CtrlTrfData;        // Set destination pointer           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a04   6f76     MOVWF     0x76,0x1                                                                                        
001a06   0e04     MOVLW     0x4                                                                                             
001a08   6f77     MOVWF     0x77,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a0a   0101     MOVLB     0x1                if(usb_stat.ctrl_trf_mem == _ROM)       // Determine type of memory source   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a0c   a386     BTFSS     0x86,0x1,0x1                                                                                    
001a0e   d00c     BRA       0x1a28                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a10   d898     RCALL     0x1b42                 while(byte_to_send._word)                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a12   e015     BZ        0x1a3e                                                                                          
001a26   d7f4     BRA       0x1a10                                                                                          
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a14   c174     MOVFF     0x174,0xff6                *pDst.bRam = *pSrc.bRom;                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a16   fff6                                                                                                               
001a18   c175     MOVFF     0x175,0xff7                                                                                     
001a1a   fff7                                                                                                               
001a1c   0008     TBLRD                                                                                                     
001a1e   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001a20   d880     RCALL     0x1b22                                                                                          
001b22   c176     MOVFF     0x176,0xfe9                                                                                     
001b24   ffe9                                                                                                               
001b26   c177     MOVFF     0x177,0xfea                                                                                     
001b28   ffea                                                                                                               
001b2a   6eef     MOVWF     0xef,0x0                                                                                        
001b2c   0101     MOVLB     0x1                        pDst.bRam++;                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b2e   efb3     GOTO      0x1b66                                                                                          
001b30   f00d                                                                                                               
                                                       pSrc.bRom++;                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a22   e2f6     BC        0x1a10                     byte_to_send._word--;                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a24   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                   }//end while(byte_to_send._word)                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               else // RAM                                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a28   d88c     RCALL     0x1b42                 while(byte_to_send._word)                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a2a   e009     BZ        0x1a3e                                                                                          
001a3c   d7f5     BRA       0x1a28                                                                                          
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a2c   c174     MOVFF     0x174,0xfe9                *pDst.bRam = *pSrc.bRam;                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a2e   ffe9                                                                                                               
001a30   c175     MOVFF     0x175,0xfea                                                                                     
001a32   ffea                                                                                                               
001a34   50ef     MOVF      0xef,0x0,0x0                                                                                    
001a36   d875     RCALL     0x1b22                                                                                          
                                                       pDst.bRam++;                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                       pSrc.bRam++;                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a38   e2f7     BC        0x1a28                     byte_to_send._word--;                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a3a   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                   }//end while(byte_to_send._word)                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a3e   0e02     MOVLW     0x2            }//end USBCtrlTrfTxService                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a40   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001a42   e202     BC        0x1a48                                                                                          
001a44   6ae1     CLRF      0xe1,0x0                                                                                        
001a46   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a48   6ee1     MOVWF     0xe1,0x0                                                                                        
001a4a   d089     BRA       0x1b5e                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfRxService(void)                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    pDst and wCount are setup properly.                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  pSrc is always &CtrlTrfData                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  usb_stat.ctrl_trf_mem is always _RAM.                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  wCount should be set to 0 at the start of each control       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer.                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        *** This routine is only partially complete. Check for       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  new version of the firmware.                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a4c   d881     RCALL     0x1b50         void USBCtrlTrfRxService(void)                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               WORD byte_to_read;                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a4e   0e03     MOVLW     0x3                MSB(byte_to_read) = 0x03 & ep0Bo.Stat._byte;    // Filter out last 2 bits    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a50   0104     MOVLB     0x4                                                                                             
001a52   1500     ANDWF     0x0,0x0,0x1                                                                                     
001a54   6ee7     MOVWF     0xe7,0x0                                                                                        
001a56   0e01     MOVLW     0x1                                                                                             
001a58   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001a5a   ffdb                                                                                                               
001a5c   c401     MOVFF     0x401,0xfdf        LSB(byte_to_read) = ep0Bo.Cnt;                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a5e   ffdf                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                * Accumulate total number of bytes read                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a60   50de     MOVF      0xde,0x0,0x0       wCount._word = wCount._word + byte_to_read._word;                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a62   0101     MOVLB     0x1                                                                                             
001a64   2778     ADDWF     0x78,0x1,0x1                                                                                    
001a66   50dd     MOVF      0xdd,0x0,0x0                                                                                    
001a68   2379     ADDWFC    0x79,0x1,0x1                                                                                    
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a6a   0e28     MOVLW     0x28               pSrc.bRam = (byte*)&CtrlTrfData;                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a6c   6f74     MOVWF     0x74,0x1                                                                                        
001a6e   0e04     MOVLW     0x4                                                                                             
001a70   6f75     MOVWF     0x75,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a72   d867     RCALL     0x1b42             while(byte_to_read._word)                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a74   e00e     BZ        0x1a92                                                                                          
001a90   d7f0     BRA       0x1a72                                                                                          
001b42   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
001b44   ffe9                                                                                                               
001b46   cfda     MOVFF     0xfda,0xfea                                                                                     
001b48   ffea                                                                                                               
001b4a   50ee     MOVF      0xee,0x0,0x0                                                                                    
001b4c   10ed     IORWF     0xed,0x0,0x0                                                                                    
001b4e   0012     RETURN    0x0                                                                                             
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a76   c174     MOVFF     0x174,0xfe9            *pDst.bRam = *pSrc.bRam;                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a78   ffe9                                                                                                               
001a7a   c175     MOVFF     0x175,0xfea                                                                                     
001a7c   ffea                                                                                                               
001a7e   50ef     MOVF      0xef,0x0,0x0                                                                                    
001a80   c176     MOVFF     0x176,0xfe9                                                                                     
001a82   ffe9                                                                                                               
001a84   c177     MOVFF     0x177,0xfea                                                                                     
001a86   ffea                                                                                                               
001a88   6eef     MOVWF     0xef,0x0                                                                                        
001a8a   d86d     RCALL     0x1b66                 pDst.bRam++;                                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b66   2b76     INCF      0x76,0x1,0x1                                                                                    
001b68   0e00     MOVLW     0x0                                                                                             
001b6a   2377     ADDWFC    0x77,0x1,0x1                                                                                    
001b6c   2b74     INCF      0x74,0x1,0x1           pSrc.bRam++;                                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b6e   2375     ADDWFC    0x75,0x1,0x1                                                                                    
001a8c   e2f2     BC        0x1a72                 byte_to_read._word--;                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a8e   06db     DECF      0xdb,0x1,0x0                                                                                    
001b70   06df     DECF      0xdf,0x1,0x0                                                                                    
001b72   0e01     MOVLW     0x1                                                                                             
001b74   0012     RETURN    0x0                                                                                             
                                               }//end while(byte_to_read._word)                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a92   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001a94   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001a96   e202     BC        0x1a9c                                                                                          
001a98   6ae1     CLRF      0xe1,0x0                                                                                        
001a9a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a9c   6ee1     MOVWF     0xe1,0x0                                                                                        
001a9e   d05f     BRA       0x1b5e                                                                                          
001b5e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001b60   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001b62   ffd9                                                                                                               
001b64   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine wrap up the ramaining tasks in servicing        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  a Setup Request. Its main task is to set the endpoint        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  controls appropriately for a given situation. See code       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  below.                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  There are three main scenarios:                              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  a) There was no handler for the Request, in this case        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     a STALL should be sent out.                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  b) The host has requested a read control transfer,           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     endpoints are required to be setup in a specific way.     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  c) The host has requested a write control transfer, or       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     a control data stage is not required, endpoints are       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     required to be setup in a specific way.                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlEPServiceComplete(void)                                              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aa0   0101     MOVLB     0x1                if(ctrl_trf_session_owner == MUID_NULL)                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aa2   5173     MOVF      0x73,0x0,0x1                                                                                    
001aa4   e105     BNZ       0x1ab0                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                   /*                                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    * If no one knows how to service this request then stall.               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    * Must also prepare EP0 to receive the next SETUP transaction.          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                    */                                                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aa6   d845     RCALL     0x1b32                 ep0Bo.Cnt = EP0_BUFF_SIZE;                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                   ep0Bo.ADR = (byte*)&SetupPkt;                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aa8   0e84     MOVLW     0x84                   ep0Bo.Stat._byte = _USIE|_BSTALL;                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aaa   6f00     MOVWF     0x0,0x1                                                                                         
001aac   0104     MOVLB     0x4                    ep0Bi.Stat._byte = _USIE|_BSTALL;                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               }                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aae   d01d     BRA       0x1aea             else    // A module has claimed ownership of the control transfer session.   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ab0   0104     MOVLB     0x4                    if(SetupPkt.DataDir == DEV_TO_HOST)                                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ab2   af20     BTFSS     0x20,0x7,0x1                                                                                    
001ab4   d01c     BRA       0x1aee                                                                                          
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ab6   0101     MOVLB     0x1                        if(SetupPkt.wLength < wCount._word)                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ab8   5178     MOVF      0x78,0x0,0x1                                                                                    
001aba   0104     MOVLB     0x4                                                                                             
001abc   5d26     SUBWF     0x26,0x0,0x1                                                                                    
001abe   0101     MOVLB     0x1                                                                                             
001ac0   5179     MOVF      0x79,0x0,0x1                                                                                    
001ac2   0104     MOVLB     0x4                                                                                             
001ac4   5927     SUBWFB    0x27,0x0,0x1                                                                                    
001ac6   e204     BC        0x1ad0                                                                                          
001ac8   c426     MOVFF     0x426,0x178                    wCount._word = SetupPkt.wLength;                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aca   f178                                                                                                               
001acc   c427     MOVFF     0x427,0x179                                                                                     
001ace   f179                                                                                                               
001ad0   df7a     RCALL     0x19c6                     USBCtrlTrfTxService();                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ad2   0101     MOVLB     0x1                        ctrl_trf_state = CTRL_TRF_TX;                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ad4   0e01     MOVLW     0x1                                                                                             
001ad6   6f72     MOVWF     0x72,0x1                                                                                        
                                                       /*                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Control Read:                                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 1. Prepare OUT EP to respond to early termination                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * NOTE:                                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * If something went wrong during the control transfer,              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the last status stage may not be sent by the host.                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * When this happens, two different things could happen              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * depending on the host.                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * a) The host could send out a RESET.                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * b) The host could send out a new SETUP transaction                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    without sending a RESET first.                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * To properly handle case (b), the OUT EP must be setup             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * to receive either a zero length OUT transaction, or a             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * new SETUP transaction.                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Since the SETUP transaction requires the DTS bit to be            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * DAT0 while the zero length OUT status requires the DTS            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * bit to be DAT1, the DTS bit check by the hardware should          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * be disabled. This way the SIE could accept either of              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the two transactions.                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Furthermore, the Cnt byte should be set to prepare for            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the SETUP data (8-byte or more), and the buffer address           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * should be pointed to SetupPkt.                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ad8   d82c     RCALL     0x1b32                     ep0Bo.Cnt = EP0_BUFF_SIZE;                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                       ep0Bo.ADR = (byte*)&SetupPkt;                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ada   0e80     MOVLW     0x80                       ep0Bo.Stat._byte = _USIE;           // Note: DTSEN is 0!             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001adc   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                       /*                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 2. Prepare IN EP to transfer data, Cnt should have                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    been initialized by responsible request owner.                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ade   0104     MOVLB     0x4                        ep0Bi.ADR = (byte*)&CtrlTrfData;                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001ae0   0e28     MOVLW     0x28                                                                                            
001ae2   6f06     MOVWF     0x6,0x1                                                                                         
001ae4   0e04     MOVLW     0x4                                                                                             
001ae6   6f07     MOVWF     0x7,0x1                                                                                         
001ae8   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aea   6f04     MOVWF     0x4,0x1                                                                                         
                                                   }                                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aec   d010     BRA       0x1b0e                 else    // (SetupPkt.DataDir == HOST_TO_DEV)                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001aee   0101     MOVLB     0x1                        ctrl_trf_state = CTRL_TRF_RX;                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001af0   0e02     MOVLW     0x2                                                                                             
001af2   6f72     MOVWF     0x72,0x1                                                                                        
                                                       /*                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Control Write:                                                    Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 1. Prepare IN EP to respond to early termination                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    This is the same as a Zero Length Packet Response              Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    for control transfer without a data stage                      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001af4   0104     MOVLB     0x4                        ep0Bi.Cnt = 0;                                                       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001af6   6b05     CLRF      0x5,0x1                                                                                         
001af8   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001afa   6f04     MOVWF     0x4,0x1                                                                                         
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                       /*                                                                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 2. Prepare OUT EP to receive data.                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001afc   0104     MOVLB     0x4                        ep0Bo.Cnt = EP0_BUFF_SIZE;                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001afe   0e08     MOVLW     0x8                                                                                             
001b00   6f01     MOVWF     0x1,0x1                                                                                         
001b02   0e28     MOVLW     0x28                       ep0Bo.ADR = (byte*)&CtrlTrfData;                                     Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b04   6f02     MOVWF     0x2,0x1                                                                                         
001b06   0e04     MOVLW     0x4                                                                                             
001b08   6f03     MOVWF     0x3,0x1                                                                                         
001b0a   0ec8     MOVLW     0xc8                       ep0Bo.Stat._byte = _USIE|_DAT1|_DTSEN;                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b0c   6f00     MOVWF     0x0,0x1                                                                                         
                                                   }//end if(SetupPkt.DataDir == DEV_TO_HOST)                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                * Clear to resume packet processing.                                        Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b0e   986d     BCF       0x6d,0x4,0x0       UCONbits.PKTDIS = 0;                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b10   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBPrepareForNextSetupTrf(void)                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        The routine forces EP0 OUT to be ready for a new Setup       Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transaction, and forces EP0 IN to be owned by CPU.           Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBPrepareForNextSetupTrf(void)                                             Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b12   0101     MOVLB     0x1                ctrl_trf_state = WAIT_SETUP;            // See usbctrltrf.h                  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b14   6b72     CLRF      0x72,0x1                                                                                        
001b16   d80d     RCALL     0x1b32             ep0Bo.Cnt = EP0_BUFF_SIZE;              // Defined in usbcfg.h               Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b32   0104     MOVLB     0x4                                                                                             
001b34   0e08     MOVLW     0x8                                                                                             
001b36   6f01     MOVWF     0x1,0x1                                                                                         
001b38   0e20     MOVLW     0x20               ep0Bo.ADR = (byte*)&SetupPkt;                                                Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b3a   6f02     MOVWF     0x2,0x1                                                                                         
001b3c   0e04     MOVLW     0x4                                                                                             
001b3e   6f03     MOVWF     0x3,0x1                                                                                         
001b40   0012     RETURN    0x0                                                                                             
001b18   0e88     MOVLW     0x88               ep0Bo.Stat._byte = _USIE|_DAT0|_DTSEN;  // EP0 buff dsc init, see usbmmap.h  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b1a   6f00     MOVWF     0x0,0x1                                                                                         
001b1c   0104     MOVLB     0x4                ep0Bi.Stat._byte = _UCPU;               // EP0 IN buffer initialization      Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
001b1e   6b04     CLRF      0x4,0x1                                                                                         
001b20   0012     RETURN    0x0            }//end USBPrepareForNextSetupTrf                                                 Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /** EOF usbctrltrf.c *********************************************************/  Z:\home\andres\u4a2\system\usb\usbctrltrf\usbctrltrf.c
                                           /*********************************************************************           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                Microchip USB C18 Firmware Version 1.0                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *********************************************************************           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * FileName:        usb9.c                                                       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Dependencies:    See INCLUDES section below                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Processor:       PIC18                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Compiler:        C18 2.30.01+                                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Company:         Microchip Technology, Inc.                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Software License Agreement                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * The software supplied herewith by Microchip Technology Incorporated           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * (the Company) for its PICmicro Microcontroller is intended and             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * supplied to you, the Companys customer, for use solely and                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * software is owned by the Company and/or its supplier, and is                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * protected under applicable copyright laws. All rights are reserved.           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Any use in violation of the foregoing restrictions may subject the            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * user to criminal sanctions under applicable laws, as well as to               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * civil liability for the breach of the terms and conditions of this            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * license.                                                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Author               Date        Comment                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            ********************************************************************/           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           #include "io_cfg.h"                     // Required for self_power status        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdGetDscHandler(void);                                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdSetCfgHandler(void);                                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdGetStatusHandler(void);                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdFeatureReqHandler(void);                                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Function:        void USBCheckStdRequest(void)                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Overview:        This routine checks the setup data packet to see if it       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  knows how to handle it                                       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBCheckStdRequest(void)                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001b76   0104     MOVLB     0x4                if(SetupPkt.RequestType != STANDARD) return;                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001b78   5120     MOVF      0x20,0x0,0x1                                                                                    
001b7a   0b60     ANDLW     0x60                                                                                            
001b7c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
001b7e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
001b80   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
001b82   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
001b84   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
001b86   0900     IORLW     0x0                                                                                             
001b88   e001     BZ        0x1b8c                                                                                          
001b8a   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001b8c   5121     MOVF      0x21,0x0,0x1       switch(SetupPkt.bRequest)                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001b8e   0a07     XORLW     0x7                                                                                             
001b90   e040     BZ        0x1c12                                                                                          
001b92   0a0b     XORLW     0xb                                                                                             
001b94   e03e     BZ        0x1c12                                                                                          
001b96   0a07     XORLW     0x7                                                                                             
001b98   e033     BZ        0x1c00                                                                                          
001b9a   0a01     XORLW     0x1                                                                                             
001b9c   e023     BZ        0x1be4                                                                                          
001b9e   0a0b     XORLW     0xb                                                                                             
001ba0   e01f     BZ        0x1be0                                                                                          
001ba2   0a02     XORLW     0x2                                                                                             
001ba4   e01d     BZ        0x1be0                                                                                          
001ba6   0a03     XORLW     0x3                                                                                             
001ba8   e019     BZ        0x1bdc                                                                                          
001baa   0a08     XORLW     0x8                                                                                             
001bac   e010     BZ        0x1bce                                                                                          
001bae   0a01     XORLW     0x1                                                                                             
001bb0   e00c     BZ        0x1bca                                                                                          
001bb2   0a0f     XORLW     0xf                                                                                             
001bb4   e008     BZ        0x1bc6                                                                                          
001bb6   0a03     XORLW     0x3                                                                                             
001bb8   e001     BZ        0x1bbc                                                                                          
001bba   0012     RETURN    0x0                                                                                             
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case SET_ADR:                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bbc   d912     RCALL     0x1de2                     ctrl_trf_session_owner = MUID_USB9;                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bbe   0101     MOVLB     0x1                        usb_device_state = ADR_PENDING_STATE;       // Update state only     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bc0   0e04     MOVLW     0x4                                                                                             
001bc2   6f85     MOVWF     0x85,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() in usbctrltrf.c for the next step */    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bc4   0012     RETURN    0x0                        break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case GET_DSC:                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bc6   ef0a     GOTO      0x1c14                     USBStdGetDscHandler();                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bc8   f00e                                                                                                               
                                                       break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case SET_CFG:                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bca   ef41     GOTO      0x1c82                     USBStdSetCfgHandler();                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bcc   f00e                                                                                                               
                                                       break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case GET_CFG:                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bce   d909     RCALL     0x1de2                     ctrl_trf_session_owner = MUID_USB9;                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bd0   0101     MOVLB     0x1                        pSrc.bRam = (byte*)&usb_active_cfg;         // Set Source            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bd2   0e87     MOVLW     0x87                                                                                            
001bd4   6f74     MOVWF     0x74,0x1                                                                                        
001bd6   0e01     MOVLW     0x1                                                                                             
001bd8   6f75     MOVWF     0x75,0x1                                                                                        
                                                       usb_stat.ctrl_trf_mem = _RAM;               // Set memory type       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       LSB(wCount) = 1;                            // Set data count        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bda   d00c     BRA       0x1bf4                     break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case GET_STATUS:                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bdc   ef5c     GOTO      0x1cb8                     USBStdGetStatusHandler();                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bde   f00e                                                                                                               
                                                       break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case CLR_FEATURE:                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case SET_FEATURE:                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001be0   ef8e     GOTO      0x1d1c                     USBStdFeatureReqHandler();                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001be2   f00e                                                                                                               
                                                       break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case GET_INTF:                                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001be4   d902     RCALL     0x1dea                     ctrl_trf_session_owner = MUID_USB9;                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001be6   0101     MOVLB     0x1                        pSrc.bRam = (byte*)&usb_alt_intf+SetupPkt.bIntfID;  // Set source    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001be8   6f74     MOVWF     0x74,0x1                                                                                        
001bea   6b75     CLRF      0x75,0x1                                                                                        
001bec   0e88     MOVLW     0x88                                                                                            
001bee   2774     ADDWF     0x74,0x1,0x1                                                                                    
001bf0   0e01     MOVLW     0x1                                                                                             
001bf2   2375     ADDWFC    0x75,0x1,0x1                                                                                    
001bf4   0101     MOVLB     0x1                        usb_stat.ctrl_trf_mem = _RAM;               // Set memory type       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bf6   9386     BCF       0x86,0x1,0x1                                                                                    
001bf8   0101     MOVLB     0x1                        LSB(wCount) = 1;                            // Set data count        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001bfa   0e01     MOVLW     0x1                                                                                             
001bfc   6f78     MOVWF     0x78,0x1                                                                                        
001bfe   0012     RETURN    0x0                        break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case SET_INTF:                                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c00   d8f4     RCALL     0x1dea                     ctrl_trf_session_owner = MUID_USB9;                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c02   6aea     CLRF      0xea,0x0                   usb_alt_intf[SetupPkt.bIntfID] = SetupPkt.bAltID;                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c04   0f88     ADDLW     0x88                                                                                            
001c06   6ee9     MOVWF     0xe9,0x0                                                                                        
001c08   0e01     MOVLW     0x1                                                                                             
001c0a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001c0c   c422     MOVFF     0x422,0xfef                                                                                     
001c0e   ffef                                                                                                               
001c10   0012     RETURN    0x0                        break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case SET_DSC:                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case SYNCH_FRAME:                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   default:                                                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                               }//end switch                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c12   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Function:        void USBStdGetDscHandler(void)                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR request.    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  It utilizes tables dynamically looks up descriptor size.     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  This routine should never have to be modified if the tables  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  in usbdsc.c are declared correctly.                          Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdGetDscHandler(void)                                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c14   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c16   0104     MOVLB     0x4                                                                                             
001c18   5d20     SUBWF     0x20,0x0,0x1                                                                                    
001c1a   e132     BNZ       0x1c80                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c1c   5123     MOVF      0x23,0x0,0x1           switch(SetupPkt.bDscType)                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c1e   0a03     XORLW     0x3                                                                                             
001c20   e01f     BZ        0x1c60                                                                                          
001c22   0a01     XORLW     0x1                                                                                             
001c24   e00a     BZ        0x1c3a                                                                                          
001c26   0a03     XORLW     0x3                                                                                             
001c28   e129     BNZ       0x1c7c                                                                                          
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       case DSC_DEV:                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c2a   d8db     RCALL     0x1de2                         ctrl_trf_session_owner = MUID_USB9;                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c2c   0101     MOVLB     0x1                            pSrc.bRom = (rom byte*)&device_dsc;                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c2e   0e40     MOVLW     0x40                                                                                            
001c30   6f74     MOVWF     0x74,0x1                                                                                        
001c32   0e0a     MOVLW     0xa                                                                                             
001c34   6f75     MOVWF     0x75,0x1                                                                                        
001c36   0e12     MOVLW     0x12                           wCount._word = sizeof(device_dsc);          // Set data count    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c38   d01e     BRA       0x1c76                         break;                                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       case DSC_CFG:                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c3a   d8ad     RCALL     0x1d96                         ctrl_trf_session_owner = MUID_USB9;                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d96   d825     RCALL     0x1de2                                                                                          
001de2   0101     MOVLB     0x1                                                                                             
001de4   0e01     MOVLW     0x1                                                                                             
001de6   6f73     MOVWF     0x73,0x1                                                                                        
001de8   0012     RETURN    0x0                                                                                             
001c3c   0e40     MOVLW     0x40                           pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c3e   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
001c40   0e0c     MOVLW     0xc                                                                                             
001c42   d8bb     RCALL     0x1dba                                                                                          
001d98   0104     MOVLB     0x4                                                                                             
001d9a   5122     MOVF      0x22,0x0,0x1                                                                                    
001d9c   6ef6     MOVWF     0xf6,0x0                                                                                        
001d9e   6af7     CLRF      0xf7,0x0                                                                                        
001da0   90d8     BCF       0xd8,0x0,0x0                                                                                    
001da2   36f6     RLCF      0xf6,0x1,0x0                                                                                    
001da4   36f7     RLCF      0xf7,0x1,0x0                                                                                    
001da6   0012     RETURN    0x0                                                                                             
001dba   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
001dbc   0009     TBLRDPOSTINC                                                                                              
001dbe   cff5     MOVFF     0xff5,0x174                                                                                     
001dc0   f174                                                                                                               
001dc2   000a     TBLRDPOSTDEC                                                                                              
001dc4   cff5     MOVFF     0xff5,0x175                                                                                     
001dc6   f175                                                                                                               
001dc8   0012     RETURN    0x0                                                                                             
001c44   0e02     MOVLW     0x2                            wCount._word = *(pSrc.wRom+1);              // Set data count    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c46   0101     MOVLB     0x1                                                                                             
001c48   6af7     CLRF      0xf7,0x0                                                                                        
001c4a   2574     ADDWF     0x74,0x0,0x1                                                                                    
001c4c   6ef6     MOVWF     0xf6,0x0                                                                                        
001c4e   5175     MOVF      0x75,0x0,0x1                                                                                    
001c50   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
001c52   0009     TBLRDPOSTINC                                                                                              
001c54   cff5     MOVFF     0xff5,0x178                                                                                     
001c56   f178                                                                                                               
001c58   000a     TBLRDPOSTDEC                                                                                              
001c5a   cff5     MOVFF     0xff5,0x179                                                                                     
001c5c   f179                                                                                                               
001c5e   d00e     BRA       0x1c7c                         break;                                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       case DSC_STR:                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c60   d89a     RCALL     0x1d96                         ctrl_trf_session_owner = MUID_USB9;                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c62   0e80     MOVLW     0x80                           pSrc.bRom = *(USB_SD_Ptr+SetupPkt.bDscIndex);                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c64   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
001c66   0e0c     MOVLW     0xc                                                                                             
001c68   d8a8     RCALL     0x1dba                                                                                          
001c6a   c174     MOVFF     0x174,0xff6                    wCount._word = *pSrc.bRom;                  // Set data count    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c6c   fff6                                                                                                               
001c6e   c175     MOVFF     0x175,0xff7                                                                                     
001c70   fff7                                                                                                               
001c72   0008     TBLRD                                                                                                     
001c74   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001c76   0101     MOVLB     0x1                                                                                             
001c78   6f78     MOVWF     0x78,0x1                                                                                        
001c7a   6b79     CLRF      0x79,0x1                                                                                        
                                                           break;                                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   }//end switch                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c7c   0101     MOVLB     0x1                    usb_stat.ctrl_trf_mem = _ROM;                       // Set memory type   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c7e   8386     BSF       0x86,0x1,0x1                                                                                    
                                               }//end if                                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c80   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Function:        void USBStdSetCfgHandler(void)                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Overview:        This routine first disables all endpoints by clearing        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  UEP registers. It then configures (initializes) endpoints    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  specified in the modifiable section.                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdSetCfgHandler(void)                                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c82   d8af     RCALL     0x1de2             ctrl_trf_session_owner = MUID_USB9;                                          Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c84   0e0f     MOVLW     0xf                mDisableEP1to15();                          // See usbdrv.h                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c86   6ee6     MOVWF     0xe6,0x0                                                                                        
001c88   0e71     MOVLW     0x71                                                                                            
001c8a   6ee6     MOVWF     0xe6,0x0                                                                                        
001c8c   0e0f     MOVLW     0xf                                                                                             
001c8e   d89d     RCALL     0x1dca                                                                                          
001dca   6ee6     MOVWF     0xe6,0x0                                                                                        
001dcc   ec83     CALL      0x1906,0x0                                                                                      
001dce   f00c                                                                                                               
001dd0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001dd2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001dd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001dd6   0012     RETURN    0x0                                                                                             
001c90   0e01     MOVLW     0x1                ClearArray((byte*)&usb_alt_intf,MAX_NUM_INT);                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c92   6ee6     MOVWF     0xe6,0x0                                                                                        
001c94   0e88     MOVLW     0x88                                                                                            
001c96   6ee6     MOVWF     0xe6,0x0                                                                                        
001c98   0e01     MOVLW     0x1                                                                                             
001c9a   d897     RCALL     0x1dca                                                                                          
001c9c   c422     MOVFF     0x422,0x187        usb_active_cfg = SetupPkt.bCfgValue;                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001c9e   f187                                                                                                               
001ca0   0104     MOVLB     0x4                if(SetupPkt.bCfgValue == 0)                                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001ca2   5122     MOVF      0x22,0x0,0x1                                                                                    
001ca4   e104     BNZ       0x1cae                                                                                          
001ca6   0101     MOVLB     0x1                    usb_device_state = ADDRESS_STATE;                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001ca8   0e05     MOVLW     0x5                                                                                             
001caa   6f85     MOVWF     0x85,0x1                                                                                        
001cac   0012     RETURN    0x0                else                                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cae   0101     MOVLB     0x1                    usb_device_state = CONFIGURED_STATE;                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cb0   0e06     MOVLW     0x6                                                                                             
001cb2   6f85     MOVWF     0x85,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   /* Modifiable Section */                                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cb4   ef21     GOTO      0x842                  USBInitEPs();                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cb6   f004                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   /* End modifiable section */                                             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                               }//end if(SetupPkt.bcfgValue == 0)                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           }//end USBStdSetCfgHandler                                                       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Function:        void USBStdGetStatusHandler(void)                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard GET_STATUS request         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdGetStatusHandler(void)                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cb8   0104     MOVLB     0x4                CtrlTrfData._byte0 = 0;                         // Initialize content        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cba   6b28     CLRF      0x28,0x1                                                                                        
001cbc   6b29     CLRF      0x29,0x1           CtrlTrfData._byte1 = 0;                                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cbe   0104     MOVLB     0x4                switch(SetupPkt.Recipient)                                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cc0   5120     MOVF      0x20,0x0,0x1                                                                                    
001cc2   0b1f     ANDLW     0x1f                                                                                            
001cc4   0a02     XORLW     0x2                                                                                             
001cc6   e00f     BZ        0x1ce6                                                                                          
001cc8   0a03     XORLW     0x3                                                                                             
001cca   e00b     BZ        0x1ce2                                                                                          
001ccc   0a01     XORLW     0x1                                                                                             
001cce   e118     BNZ       0x1d00                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case RCPT_DEV:                                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cd0   d888     RCALL     0x1de2                     ctrl_trf_session_owner = MUID_USB9;                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       /*                                                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                        * _byte0: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                        *         bit1: RemoteWakeup        [0] Disabled    [1] Enabled     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                        */                                                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                       if(self_power == 1)                     // self_power defined in io_cfg.h Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cd2   0104     MOVLB     0x4                            CtrlTrfData._byte0|=0b000000001;    // Set bit0                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cd4   8128     BSF       0x28,0x0,0x1                                                                                    
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cd6   0101     MOVLB     0x1                        if(usb_stat.RemoteWakeup == 1)          // usb_stat defined in usbmmap.c Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cd8   a186     BTFSS     0x86,0x0,0x1                                                                                    
001cda   d012     BRA       0x1d00                                                                                          
001cdc   0104     MOVLB     0x4                            CtrlTrfData._byte0|=0b00000010;     // Set bit1                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cde   8328     BSF       0x28,0x1,0x1                                                                                    
001ce0   d00f     BRA       0x1d00                     break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case RCPT_INTF:                                                          Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001ce2   d87f     RCALL     0x1de2                     ctrl_trf_session_owner = MUID_USB9;     // No data to update         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001ce4   d00d     BRA       0x1d00                     break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   case RCPT_EP:                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001ce6   d84b     RCALL     0x1d7e                     ctrl_trf_session_owner = MUID_USB9;                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d7e   d835     RCALL     0x1dea                                                                                          
001dea   dffb     RCALL     0x1de2                                                                                          
                                                       /*                                                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                        * _byte0: bit0: Halt Status [0] Not Halted [1] Halted               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                        */                                                                  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001ce8   e001     BZ        0x1cec                     pDst.bRam = (byte*)&ep0Bo+(SetupPkt.EPNum*8)+(SetupPkt.EPDir*4);     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cea   0e01     MOVLW     0x1                                                                                             
001cec   d85d     RCALL     0x1da8                                                                                          
001d80   0b0f     ANDLW     0xf                                                                                             
001d82   0d08     MULLW     0x8                                                                                             
001d84   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001d86   6a0c     CLRF      0xc,0x0                                                                                         
001d88   0f00     ADDLW     0x0                                                                                             
001d8a   6e0b     MOVWF     0xb,0x0                                                                                         
001d8c   0e04     MOVLW     0x4                                                                                             
001d8e   220c     ADDWFC    0xc,0x1,0x0                                                                                     
001d90   5124     MOVF      0x24,0x0,0x1                                                                                    
001d92   0b80     ANDLW     0x80                                                                                            
001d94   0012     RETURN    0x0                                                                                             
001da8   0d04     MULLW     0x4                                                                                             
001daa   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001dac   0101     MOVLB     0x1                                                                                             
001dae   240b     ADDWF     0xb,0x0,0x0                                                                                     
001db0   6f76     MOVWF     0x76,0x1                                                                                        
001db2   0e00     MOVLW     0x0                                                                                             
001db4   200c     ADDWFC    0xc,0x0,0x0                                                                                     
001db6   6f77     MOVWF     0x77,0x1                                                                                        
001db8   0012     RETURN    0x0                                                                                             
001dec   0104     MOVLB     0x4                                                                                             
001dee   5124     MOVF      0x24,0x0,0x1                                                                                    
001df0   0012     RETURN    0x0                                                                                             
001cee   c176     MOVFF     0x176,0xfe9                if(*pDst.bRam & _BSTALL)    // Use _BSTALL as a bit mask             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cf0   ffe9                                                                                                               
001cf2   6eea     MOVWF     0xea,0x0                                                                                        
001cf4   50ef     MOVF      0xef,0x0,0x0                                                                                    
001cf6   0b04     ANDLW     0x4                                                                                             
001cf8   e003     BZ        0x1d00                                                                                          
001cfa   0104     MOVLB     0x4                            CtrlTrfData._byte0=0x01;// Set bit0                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001cfc   0e01     MOVLW     0x1                                                                                             
001cfe   6f28     MOVWF     0x28,0x1                                                                                        
                                                       break;                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                               }//end switch                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d00   0101     MOVLB     0x1                if(ctrl_trf_session_owner == MUID_USB9)                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d02   0573     DECF      0x73,0x0,0x1                                                                                    
001d04   e10a     BNZ       0x1d1a                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d06   0101     MOVLB     0x1                    pSrc.bRam = (byte*)&CtrlTrfData;            // Set Source                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d08   0e28     MOVLW     0x28                                                                                            
001d0a   6f74     MOVWF     0x74,0x1                                                                                        
001d0c   0e04     MOVLW     0x4                                                                                             
001d0e   6f75     MOVWF     0x75,0x1                                                                                        
001d10   0101     MOVLB     0x1                    usb_stat.ctrl_trf_mem = _RAM;               // Set memory type           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d12   9386     BCF       0x86,0x1,0x1                                                                                    
001d14   0101     MOVLB     0x1                    LSB(wCount) = 2;                            // Set data count            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d16   0e02     MOVLW     0x2                                                                                             
001d18   6f78     MOVWF     0x78,0x1                                                                                        
                                               }//end if(...)                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d1a   0012     RETURN    0x0            }//end USBStdGetStatusHandler                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /******************************************************************************  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard SET & CLEAR FEATURES       Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                  requests                                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *                                                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           void USBStdFeatureReqHandler(void)                                               Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           {                                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d1c   0104     MOVLB     0x4                if((SetupPkt.bFeature == DEVICE_REMOTE_WAKEUP)&&                             Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d1e   0522     DECF      0x22,0x0,0x1                                                                                    
001d20   e10e     BNZ       0x1d3e                (SetupPkt.Recipient == RCPT_DEV))                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d22   5120     MOVF      0x20,0x0,0x1                                                                                    
001d24   0b1f     ANDLW     0x1f                                                                                            
001d26   0900     IORLW     0x0                                                                                             
001d28   e10a     BNZ       0x1d3e                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d2a   d85b     RCALL     0x1de2                 ctrl_trf_session_owner = MUID_USB9;                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d2c   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == SET_FEATURE)                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d2e   0104     MOVLB     0x4                                                                                             
001d30   5d21     SUBWF     0x21,0x0,0x1                                                                                    
001d32   e103     BNZ       0x1d3a                                                                                          
001d34   0101     MOVLB     0x1                        usb_stat.RemoteWakeup = 1;                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d36   8186     BSF       0x86,0x0,0x1                                                                                    
001d38   d002     BRA       0x1d3e                 else                                                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d3a   0101     MOVLB     0x1                        usb_stat.RemoteWakeup = 0;                                           Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d3c   9186     BCF       0x86,0x0,0x1                                                                                    
                                               }//end if                                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d3e   0104     MOVLB     0x4                if((SetupPkt.bFeature == ENDPOINT_HALT)&&                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d40   5122     MOVF      0x22,0x0,0x1                                                                                    
001d42   e11c     BNZ       0x1d7c                (SetupPkt.Recipient == RCPT_EP)&&                                         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d44   5120     MOVF      0x20,0x0,0x1                                                                                    
001d46   0b1f     ANDLW     0x1f                                                                                            
001d48   0802     SUBLW     0x2                                                                                             
001d4a   e118     BNZ       0x1d7c                                                                                          
001d4c   5124     MOVF      0x24,0x0,0x1          (SetupPkt.EPNum != 0))                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d4e   0b0f     ANDLW     0xf                                                                                             
001d50   0900     IORLW     0x0                                                                                             
001d52   e014     BZ        0x1d7c                                                                                          
                                               {                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d54   d814     RCALL     0x1d7e                 ctrl_trf_session_owner = MUID_USB9;                                      Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   /* Must do address calculation here */                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d56   e001     BZ        0x1d5a                 pDst.bRam = (byte*)&ep0Bo+(SetupPkt.EPNum*8)+(SetupPkt.EPDir*4);         Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d58   0e01     MOVLW     0x1                                                                                             
001d5a   d826     RCALL     0x1da8                                                                                          
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d5c   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == SET_FEATURE)                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d5e   0104     MOVLB     0x4                                                                                             
001d60   5d21     SUBWF     0x21,0x0,0x1                                                                                    
001d62   e104     BNZ       0x1d6c                                                                                          
001d64   0e84     MOVLW     0x84                       *pDst.bRam = _USIE|_BSTALL;                                          Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d66   d838     RCALL     0x1dd8                                                                                          
001d68   6eef     MOVWF     0xef,0x0                                                                                        
001d6a   0012     RETURN    0x0                    else                                                                     Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                   {                                                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d6c   af24     BTFSS     0x24,0x7,0x1               if(SetupPkt.EPDir == 1) // IN                                        Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d6e   d003     BRA       0x1d76                                                                                          
001d70   d833     RCALL     0x1dd8                         *pDst.bRam = _UCPU;                                              Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d72   6aef     CLRF      0xef,0x0                                                                                        
001d74   0012     RETURN    0x0                        else                                                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d76   0e88     MOVLW     0x88                           *pDst.bRam = _USIE|_DAT0|_DTSEN;                                 Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d78   d82f     RCALL     0x1dd8                                                                                          
001d7a   6eef     MOVWF     0xef,0x0                                                                                        
001dd8   c176     MOVFF     0x176,0xfe9                                                                                     
001dda   ffe9                                                                                                               
001ddc   c177     MOVFF     0x177,0xfea                                                                                     
001dde   ffea                                                                                                               
001de0   0012     RETURN    0x0                                                                                             
                                                   }//end if                                                                Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                               }//end if                                                                    Z:\home\andres\u4a2\system\usb\usb9\usb9.c
001d7c   0012     RETURN    0x0            }//end USBStdFeatureReqHandler                                                   Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                                                                                                            Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /** EOF usb9.c ***************************************************************/  Z:\home\andres\u4a2\system\usb\usb9\usb9.c
                                           /** I N C L U D E S *************************************************/           Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           /** C O N S T A N T S ************************************************/          Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           #pragma romdata _device_dsc                                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           //	 Device Descriptor                                                            Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom USB_DEV_DSC device_dsc=                                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           {                                                                                Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               sizeof(USB_DEV_DSC),    // Size of this descriptor in bytes                  Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               DSC_DEV,                // DEVICE descriptor type                            Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x0200,				// USB Spec Release Number in BCD format                          Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x0,				// Class Code                                                        Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x0,				// Subclass code                                                     Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x0,				// Protocol code                                                     Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               EP0_BUFF_SIZE,				// Max packet size for EP0, see usbcfg.h                   Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x4d8,				// Vendor ID                                                       Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0xc,				// Product ID: PICDEM FS USB (DEMO Mode)                             Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x0,				// Device release number in BCD format                               Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x1,				// Manufacturer string index                                         Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x2,				// Product string index                                              Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x3,				// Device serial number string index                                 Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               0x1,				// Number of possible configurations                                 Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           };                                                                               Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           //		 Configuration 1 Descriptor                                                  Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           CFG01=                                                                           Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           {                                                                                Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               // Configuration Descriptor                                                  Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes                  Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               DSC_CFG,                // CONFIGURATION descriptor type                     Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                               sizeof(cfg01),          // Total length of data for this cfg                 Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           1,                      // Number of interfaces in this cfg                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           1,                      // Index value of this configuration                     Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0,                      // Configuration string index                            Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           _DEFAULT,               // Attributes, see usbdefs_std_dsc.h                     Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           250,                    // Max power consumption (2X mA)                         Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           // Interface Descriptor                                                          Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           DSC_INTF,               // INTERFACE descriptor type                             Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0,                      // Interface Number                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0,                      // Alternate Setting Number                              Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           6,                      // Number of endpoints in this intf                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0x0,                   // Class code                                             Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0x0,                   // Subclass code                                          Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0x0,                   // Protocol code                                          Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           0,                      // Interface string index                                Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           //				 Endpoint Descriptors                                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_EP_DSC),DSC_EP,_EP01_OUT,_BULK,64,255,                                Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_EP_DSC),DSC_EP,_EP01_IN,_BULK,64,255,                                 Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_EP_DSC),DSC_EP,_EP02_OUT,_BULK,64,255,                                Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_BULK,64,255,                                 Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_ISO,64,6,                                   Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_ISO,64,6};                                   Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[1];}sd000={                    Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(sd000),DSC_STR,0x409};                                                    Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[24];}sd001={                   Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(sd001),DSC_STR,'A','g','u','i','r','r','e',' ','F','e','r','n','a','n','d','e','z',' ','G','r','o','s','s','y'}; Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[20];}sd002={                   Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(sd002),DSC_STR,'U','S','B','4','a','l','l',' ','(','C',')','2','0','0','7',' ','F','I','N','G'}; Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[8];}sd003={                    Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           sizeof(sd003),DSC_STR,'0','0','0','0','0','0','0','2'};                          Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           //dejo estos punteros en una posicion fija de memoria                            Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           #pragma romdata _usb_cd_ptr                                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom const unsigned char *rom USB_CD_Ptr[]={(rom char*)&cfg01,(rom char*)&cfg01}; Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           #pragma romdata _usb_sd_ptr                                                      Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={(rom char*)&sd000,(rom char*)&sd001,(rom char*)&sd002,(rom char*)&sd003}; Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\usb4all\usbconf\desc\usbdsc.c
                                           /* Author               Date        Comment                                      Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                            * Rafael Fernandez    16/06/07 	Original                                        Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                            *                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                            ********************************************************************/           Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #include "system\typedefs.h"                        // Required                  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #include "system\usb\usb.h"                         // Required                  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #include "io_cfg.h"                                 // Required                  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #include "dynamicISR.h"                              // Modifiable               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           //#include "user\user.h"                                                         Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           //#include "user\handlerManager.h"                              // Modifiable    Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           volatile void ( *ISRFunction[MAX_ISR_FUNCTIONS]) (void) ;//arreglo de punteros a las funciones ISR de los modulos Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           volatile byte ISRListeners;                                                      Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001df2   d8e4     RCALL     0x1fbc         void initISRFunctions(void){                                                     Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001fbc   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
001fbe   ffe6                                                                                                               
001fc0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001fc2   ffd9                                                                                                               
001fc4   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	byte i;                                                                         Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001df4   0e05     MOVLW     0x5            	for (i=0; i<MAX_ISR_FUNCTIONS;i++){                                             Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001df6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001df8   e205     BC        0x1e04                                                                                          
001e00   2adf     INCF      0xdf,0x1,0x0                                                                                    
001e02   d7f8     BRA       0x1df4                                                                                          
001fc6   6adf     CLRF      0xdf,0x0                                                                                        
001fc8   0012     RETURN    0x0                                                                                             
001dfa   d8cc     RCALL     0x1f94         		ISRFunction[i] = 0; //supongo 0 = null                                         Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001dfc   6aee     CLRF      0xee,0x0                                                                                        
001dfe   6aed     CLRF      0xed,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e04   0101     MOVLB     0x1            	ISRListeners=0;							                                                          Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e06   6b5d     CLRF      0x5d,0x1                                                                                        
001e08   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e0a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001e0c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001e0e   ffd9                                                                                                               
001e10   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e12   d8ca     RCALL     0x1fa8         BOOL addISRFunction(volatile void (*ISRFun) (void)){                             Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001fa8   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
001faa   ffe6                                                                                                               
001fac   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001fae   ffd9                                                                                                               
001fb0   0e02     MOVLW     0x2                                                                                             
001fb2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
001fb4   6adf     CLRF      0xdf,0x0       	byte i = 0;                                                                     Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001fb6   0e01     MOVLW     0x1            	BOOL termine = FALSE;                                                           Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001fb8   6adb     CLRF      0xdb,0x0                                                                                        
001fba   0012     RETURN    0x0                                                                                             
001e14   0e05     MOVLW     0x5            	while (i<MAX_ISR_FUNCTIONS && !termine){                                        Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e16   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e18   e213     BC        0x1e40                                                                                          
001e1a   0e01     MOVLW     0x1                                                                                             
001e1c   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e1e   e110     BNZ       0x1e40                                                                                          
001e3e   d7ea     BRA       0x1e14                                                                                          
001e20   d8b9     RCALL     0x1f94         		if ( ISRFunction[i] == 0) { //TODO ojo que cambie != por ==                    Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e22   50ee     MOVF      0xee,0x0,0x0                                                                                    
001e24   10ed     IORWF     0xed,0x0,0x0                                                                                    
001e26   e10a     BNZ       0x1e3c                                                                                          
001e28   52de     MOVF      0xde,0x1,0x0   			termine = TRUE;                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e2a   0e01     MOVLW     0x1                                                                                             
001e2c   6edd     MOVWF     0xdd,0x0                                                                                        
001e2e   d8b2     RCALL     0x1f94         			ISRFunction[i] = ISRFun;                                                      Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e30   0efd     MOVLW     0xfd                                                                                            
001e32   cfdb     MOVFF     0xfdb,0xfee                                                                                     
001e34   ffee                                                                                                               
001e36   0efe     MOVLW     0xfe                                                                                            
001e38   cfdb     MOVFF     0xfdb,0xfed                                                                                     
001e3a   ffed                                                                                                               
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e3c   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e40   0e01     MOVLW     0x1            	if (!termine) return FALSE;                                                     Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e42   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e44   e102     BNZ       0x1e4a                                                                                          
001e46   0e00     MOVLW     0x0                                                                                             
001e48   d007     BRA       0x1e58                                                                                          
001e4a   0101     MOVLB     0x1            	if ((ISRListeners++)==0){                                                       Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e4c   515d     MOVF      0x5d,0x0,0x1                                                                                    
001e4e   2b5d     INCF      0x5d,0x1,0x1                                                                                    
001e50   0900     IORLW     0x0                                                                                             
001e52   e101     BNZ       0x1e56                                                                                          
001e54   8ef2     BSF       0xf2,0x7,0x0   		INTCONbits.GIE = 1; //cuando se agrega la primer funcion listener prendo ints globales  Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           		//mLED_3_On(); raro, no anda el debug                                          Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e56   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e58   6e0b     MOVWF     0xb,0x0        } 		                                                                             Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e5a   0e02     MOVLW     0x2                                                                                             
001e5c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001e5e   e202     BC        0x1e64                                                                                          
001e60   6ae1     CLRF      0xe1,0x0                                                                                        
001e62   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001e64   d0b2     BRA       0x1fca                                                                                          
001fca   6ee1     MOVWF     0xe1,0x0                                                                                        
001fcc   500b     MOVF      0xb,0x0,0x0                                                                                     
001fce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fd0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001fd2   ffd9                                                                                                               
001fd4   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e66   d8a0     RCALL     0x1fa8         BOOL removeISRFunction(volatile void (*ISRFun) (void)){                          Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	byte i=0;                                                                       Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	BOOL termine=FALSE;                                                             Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e68   0e05     MOVLW     0x5            	while (i<MAX_ISR_FUNCTIONS && !termine){                                        Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e6a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001e6c   e218     BC        0x1e9e                                                                                          
001e6e   0e01     MOVLW     0x1                                                                                             
001e70   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e72   e115     BNZ       0x1e9e                                                                                          
001e9c   d7e5     BRA       0x1e68                                                                                          
001e74   d88f     RCALL     0x1f94         		if ( ISRFunction[i] == ISRFun) {                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e76   cfee     MOVFF     0xfee,0xb                                                                                       
001e78   f00b                                                                                                               
001e7a   cfef     MOVFF     0xfef,0xc                                                                                       
001e7c   f00c                                                                                                               
001e7e   0efd     MOVLW     0xfd                                                                                            
001e80   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e82   180b     XORWF     0xb,0x0,0x0                                                                                     
001e84   e10a     BNZ       0x1e9a                                                                                          
001e86   0efe     MOVLW     0xfe                                                                                            
001e88   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e8a   180c     XORWF     0xc,0x0,0x0                                                                                     
001e8c   e106     BNZ       0x1e9a                                                                                          
001e8e   52de     MOVF      0xde,0x1,0x0   			termine = TRUE;                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e90   0e01     MOVLW     0x1                                                                                             
001e92   6edd     MOVWF     0xdd,0x0                                                                                        
001e94   d87f     RCALL     0x1f94         			ISRFunction [i] = 0;                                                          Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e96   6aee     CLRF      0xee,0x0                                                                                        
001e98   6aed     CLRF      0xed,0x0                                                                                        
001f94   6aea     CLRF      0xea,0x0                                                                                        
001f96   34df     RLCF      0xdf,0x0,0x0                                                                                    
001f98   0bfe     ANDLW     0xfe                                                                                            
001f9a   36ea     RLCF      0xea,0x1,0x0                                                                                    
001f9c   6ee9     MOVWF     0xe9,0x0                                                                                        
001f9e   0e53     MOVLW     0x53                                                                                            
001fa0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001fa2   0e01     MOVLW     0x1                                                                                             
001fa4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001fa6   0012     RETURN    0x0                                                                                             
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e9a   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001e9e   0e01     MOVLW     0x1            	if (!termine) return FALSE;                                                     Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001ea0   50db     MOVF      0xdb,0x0,0x0                                                                                    
001ea2   e102     BNZ       0x1ea8                                                                                          
001ea4   0e00     MOVLW     0x0                                                                                             
001ea6   d005     BRA       0x1eb2                                                                                          
001ea8   0101     MOVLB     0x1            	if ((--ISRListeners)==0) {                                                      Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001eaa   075d     DECF      0x5d,0x1,0x1                                                                                    
001eac   e101     BNZ       0x1eb0                                                                                          
001eae   9ef2     BCF       0xf2,0x7,0x0   		INTCONbits.GIE = 0; //si se va el ultimo listener apago ints globales          Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           		//mLED_3_Off(); raro, no anda el debug                                         Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001eb0   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001eb2   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001eb4   0e02     MOVLW     0x2                                                                                             
001eb6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001eb8   e202     BC        0x1ebe                                                                                          
001eba   6ae1     CLRF      0xe1,0x0                                                                                        
001ebc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001ebe   d085     BRA       0x1fca                                                                                          
                                           #pragma interrupt interruption save=section(".tmpdata")                          Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001ec0   cfda     MOVFF     0xfda,0xfe4    void interruption(void){                                                         Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001ec2   ffe4                                                                                                               
001ec4   cfe2     MOVFF     0xfe2,0xfda                                                                                     
001ec6   ffda                                                                                                               
001ec8   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001eca   ffe4                                                                                                               
001ecc   cfea     MOVFF     0xfea,0xfe4                                                                                     
001ece   ffe4                                                                                                               
001ed0   cff6     MOVFF     0xff6,0xfe4                                                                                     
001ed2   ffe4                                                                                                               
001ed4   cff7     MOVFF     0xff7,0xfe4                                                                                     
001ed6   ffe4                                                                                                               
001ed8   cff5     MOVFF     0xff5,0xfe4                                                                                     
001eda   ffe4                                                                                                               
001edc   cff3     MOVFF     0xff3,0xfe4                                                                                     
001ede   ffe4                                                                                                               
001ee0   cff4     MOVFF     0xff4,0xfe4                                                                                     
001ee2   ffe4                                                                                                               
001ee4   cffa     MOVFF     0xffa,0xfe4                                                                                     
001ee6   ffe4                                                                                                               
001ee8   ee00     LFSR      0x0,0x0                                                                                         
001eea   f000                                                                                                               
001eec   0e0b     MOVLW     0xb                                                                                             
001eee   04e8     DECF      0xe8,0x0,0x0                                                                                    
001ef0   e303     BNC       0x1ef8                                                                                          
001ef2   cfee     MOVFF     0xfee,0xfe4                                                                                     
001ef4   ffe4                                                                                                               
001ef6   d7fb     BRA       0x1eee                                                                                          
001ef8   ee00     LFSR      0x0,0xb                                                                                         
001efa   f00b                                                                                                               
001efc   0e06     MOVLW     0x6                                                                                             
001efe   04e8     DECF      0xe8,0x0,0x0                                                                                    
001f00   e303     BNC       0x1f08                                                                                          
001f02   cfee     MOVFF     0xfee,0xfe4                                                                                     
001f04   ffe4                                                                                                               
001f06   d7fb     BRA       0x1efe                                                                                          
001f08   52e6     MOVF      0xe6,0x1,0x0                                                                                    
001f0a   d858     RCALL     0x1fbc                                                                                          
                                           	volatile byte i=0;                                                              Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f0c   0e05     MOVLW     0x5            	while (i<MAX_ISR_FUNCTIONS){                                                    Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f0e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001f10   e219     BC        0x1f44                                                                                          
001f42   d7e4     BRA       0x1f0c                                                                                          
                                           		//mLED_4_On();                                                                 Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f12   d840     RCALL     0x1f94         		if(ISRFunction[i] != 0){ //tube que bajar esta condicion del while al if, porque cuando me remueven pueden quedar "huecos" Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f14   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f16   10ed     IORWF     0xed,0x0,0x0                                                                                    
001f18   e013     BZ        0x1f40                                                                                          
001f1a   6aea     CLRF      0xea,0x0       			ISRFunction[i]();                                                             Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f1c   34df     RLCF      0xdf,0x0,0x0                                                                                    
001f1e   0bfe     ANDLW     0xfe                                                                                            
001f20   36ea     RLCF      0xea,0x1,0x0                                                                                    
001f22   6ee9     MOVWF     0xe9,0x0                                                                                        
001f24   0e53     MOVLW     0x53                                                                                            
001f26   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001f28   0e01     MOVLW     0x1                                                                                             
001f2a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001f2c   cfee     MOVFF     0xfee,0x11                                                                                      
001f2e   f011                                                                                                               
001f30   cfef     MOVFF     0xfef,0x12                                                                                      
001f32   f012                                                                                                               
001f34   d004     BRA       0x1f3e                                                                                          
001f36   c012     MOVFF     0x12,0xffa                                                                                      
001f38   fffa                                                                                                               
001f3a   5011     MOVF      0x11,0x0,0x0                                                                                    
001f3c   6ef9     MOVWF     0xf9,0x0                                                                                        
001f3e   dffb     RCALL     0x1f36                                                                                          
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f40   2adf     INCF      0xdf,0x1,0x0   		i++;                                                                           Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f44   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
001f46   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001f48   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001f4a   ffd9                                                                                                               
001f4c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001f4e   ee00     LFSR      0x0,0x10                                                                                        
001f50   f010                                                                                                               
001f52   0e06     MOVLW     0x6                                                                                             
001f54   04e8     DECF      0xe8,0x0,0x0                                                                                    
001f56   e303     BNC       0x1f5e                                                                                          
001f58   cfe5     MOVFF     0xfe5,0xfed                                                                                     
001f5a   ffed                                                                                                               
001f5c   d7fb     BRA       0x1f54                                                                                          
001f5e   ee00     LFSR      0x0,0xa                                                                                         
001f60   f00a                                                                                                               
001f62   0e0b     MOVLW     0xb                                                                                             
001f64   04e8     DECF      0xe8,0x0,0x0                                                                                    
001f66   e303     BNC       0x1f6e                                                                                          
001f68   cfe5     MOVFF     0xfe5,0xfed                                                                                     
001f6a   ffed                                                                                                               
001f6c   d7fb     BRA       0x1f64                                                                                          
001f6e   cfe5     MOVFF     0xfe5,0xffa                                                                                     
001f70   fffa                                                                                                               
001f72   cfe5     MOVFF     0xfe5,0xff4                                                                                     
001f74   fff4                                                                                                               
001f76   cfe5     MOVFF     0xfe5,0xff3                                                                                     
001f78   fff3                                                                                                               
001f7a   cfe5     MOVFF     0xfe5,0xff5                                                                                     
001f7c   fff5                                                                                                               
001f7e   cfe5     MOVFF     0xfe5,0xff7                                                                                     
001f80   fff7                                                                                                               
001f82   cfe5     MOVFF     0xfe5,0xff6                                                                                     
001f84   fff6                                                                                                               
001f86   cfe5     MOVFF     0xfe5,0xfea                                                                                     
001f88   ffea                                                                                                               
001f8a   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
001f8c   ffe9                                                                                                               
001f8e   cfe5     MOVFF     0xfe5,0xfda                                                                                     
001f90   ffda                                                                                                               
001f92   0011     RETFIE    0x1                                                                                             
                                                                                                                            Z:\home\andres\u4a2\usb4all\dynamicISR\dynamicISR.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\userLoopBack.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Andrs Aguirre, Rafael Fernandez, Carlos Grossy       16/10/07    Original.   Z:\home\andres\u4a2\user\userLoopBack.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include "user\userLoopBack.h"                                                   Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\userLoopBack.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           byte  usrLoopbackHandler;	 // Handler number asigned to the module               Z:\home\andres\u4a2\user\userLoopBack.c
                                           byte* sendBufferUsrLoopback; // buffer to send data                              Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackProcessIO(void);                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackInit(byte i);                                                   Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackReceived(byte*, byte);                                          Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackRelease(byte i);                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackConfigure(void);                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\userLoopBack.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\userLoopBack.c
                                           uTab UserLoopBackModuleTable = {&UserLoopBackInit,&UserLoopBackRelease,&UserLoopBackConfigure,"lback"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\userLoopBack.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Function:        UserLoopBackInit(void)                                       Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\userLoopBack.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
003182   d89b     RCALL     0x32ba         void UserLoopBackInit(byte i){                                                   Z:\home\andres\u4a2\user\userLoopBack.c
003184   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\userLoopBack.c
003186   0efe     MOVLW     0xfe           	usrLoopbackHandler = i;                                                         Z:\home\andres\u4a2\user\userLoopBack.c
003188   cfdb     MOVFF     0xfdb,0x19e                                                                                     
00318a   f19e                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\userLoopBack.c
00318c   0e00     MOVLW     0x0            	setHandlerReceiveFunction(usrLoopbackHandler,&UserLoopBackReceived);            Z:\home\andres\u4a2\user\userLoopBack.c
00318e   6ee6     MOVWF     0xe6,0x0                                                                                        
003190   0e32     MOVLW     0x32                                                                                            
003192   6ee6     MOVWF     0xe6,0x0                                                                                        
003194   c19e     MOVFF     0x19e,0xfe6                                                                                     
003196   ffe6                                                                                                               
003198   ec67     CALL      0x24ce,0x0                                                                                      
00319a   f012                                                                                                               
00319c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00319e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\userLoopBack.c
0031a2   0ecc     MOVLW     0xcc           	res = addPollingFunction(&UserLoopBackProcessIO);                               Z:\home\andres\u4a2\user\userLoopBack.c
0031a4   6ee6     MOVWF     0xe6,0x0                                                                                        
0031a6   0e31     MOVLW     0x31                                                                                            
0031a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0031aa   ec44     CALL      0x1488,0x0                                                                                      
0031ac   f00a                                                                                                               
0031ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031b0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031b2   6edf     MOVWF     0xdf,0x0                                                                                        
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\userLoopBack.c
0031b4   c19e     MOVFF     0x19e,0xfe6    	sendBufferUsrLoopback = getSharedBuffer(usrLoopbackHandler);                    Z:\home\andres\u4a2\user\userLoopBack.c
0031b6   ffe6                                                                                                               
0031b8   ece4     CALL      0x29c8,0x0                                                                                      
0031ba   f014                                                                                                               
0031bc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031be   cff3     MOVFF     0xff3,0x19f                                                                                     
0031c0   f19f                                                                                                               
0031c2   cff4     MOVFF     0xff4,0x1a0                                                                                     
0031c4   f1a0                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\userLoopBack.c
0031c6   52e5     MOVF      0xe5,0x1,0x0   }//end UserLoopBackInit                                                          Z:\home\andres\u4a2\user\userLoopBack.c
0031c8   d07d     BRA       0x32c4                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Function:        UserLoopBackConfigure(void)                                  Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\userLoopBack.c
                                            *						                                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackConfigure(void){                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\userLoopBack.c
0031ca   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Function:        UserLoopBackProcessIO(void)                                  Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\userLoopBack.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           void UserLoopBackProcessIO(void){                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
0031cc   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\userLoopBack.c
0031ce   0101     MOVLB     0x1                                                                                             
0031d0   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\userLoopBack.c
                                           	                                                                                Z:\home\andres\u4a2\user\userLoopBack.c
0031d2   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Function:        UserLoopBackRelease(byte i)                                  Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\userLoopBack.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
0031d4   d872     RCALL     0x32ba         void UserLoopBackRelease(byte i){                                                Z:\home\andres\u4a2\user\userLoopBack.c
0031d6   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\userLoopBack.c
0031d8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0031da   ffe6                                                                                                               
0031dc   ec63     CALL      0x24c6,0x0                                                                                      
0031de   f012                                                                                                               
0031e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031e2   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\userLoopBack.c
0031e4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0031e6   ffe6                                                                                                               
0031e8   ec6a     CALL      0x24d4,0x0                                                                                      
0031ea   f012                                                                                                               
0031ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031ee   0ecc     MOVLW     0xcc           	removePoolingFunction(&UserLoopBackProcessIO);                                  Z:\home\andres\u4a2\user\userLoopBack.c
0031f0   6ee6     MOVWF     0xe6,0x0                                                                                        
0031f2   0e31     MOVLW     0x31                                                                                            
0031f4   6ee6     MOVWF     0xe6,0x0                                                                                        
0031f6   ec6a     CALL      0x14d4,0x0                                                                                      
0031f8   f00a                                                                                                               
0031fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0031fe   d062     BRA       0x32c4         }                                                                                Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Function:        UserLoopBackReceived(byte* recBuffPtr, byte len)             Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\userLoopBack.c
                                            *                                                                               Z:\home\andres\u4a2\user\userLoopBack.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\userLoopBack.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\userLoopBack.c
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
003200   d85c     RCALL     0x32ba         void UserLoopBackReceived(byte* recBuffPtr, byte len){                           Z:\home\andres\u4a2\user\userLoopBack.c
003202   0e0b     MOVLW     0xb                                                                                             
003204   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0032ba   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0032bc   ffe6                                                                                                               
0032be   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0032c0   ffd9                                                                                                               
0032c2   0012     RETURN    0x0                                                                                             
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\userLoopBack.c
003206   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "LBACK :)";	                                                   Z:\home\andres\u4a2\user\userLoopBack.c
003208   0f01     ADDLW     0x1                                                                                             
00320a   6ee9     MOVWF     0xe9,0x0                                                                                        
00320c   cfda     MOVFF     0xfda,0xfea                                                                                     
00320e   ffea                                                                                                               
003210   0e4c     MOVLW     0x4c                                                                                            
003212   6eee     MOVWF     0xee,0x0                                                                                        
003214   0e42     MOVLW     0x42                                                                                            
003216   6eee     MOVWF     0xee,0x0                                                                                        
003218   0e41     MOVLW     0x41                                                                                            
00321a   6eee     MOVWF     0xee,0x0                                                                                        
00321c   0e43     MOVLW     0x43                                                                                            
00321e   6eee     MOVWF     0xee,0x0                                                                                        
003220   0e4b     MOVLW     0x4b                                                                                            
003222   6eee     MOVWF     0xee,0x0                                                                                        
003224   0e20     MOVLW     0x20                                                                                            
003226   6eee     MOVWF     0xee,0x0                                                                                        
003228   0e3a     MOVLW     0x3a                                                                                            
00322a   6eee     MOVWF     0xee,0x0                                                                                        
00322c   0e29     MOVLW     0x29                                                                                            
00322e   6eee     MOVWF     0xee,0x0                                                                                        
003230   6aee     CLRF      0xee,0x0                                                                                        
003232   0e0a     MOVLW     0xa                  byte UserLoopBackCounter = 0;                                              Z:\home\andres\u4a2\user\userLoopBack.c
003234   6adb     CLRF      0xdb,0x0                                                                                        
003236   6adb     CLRF      0xdb,0x0       	  for (UserLoopBackCounter=0 ; UserLoopBackCounter < len ; UserLoopBackCounter++){ Z:\home\andres\u4a2\user\userLoopBack.c
003238   0efc     MOVLW     0xfc                                                                                            
00323a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00323c   6ef3     MOVWF     0xf3,0x0                                                                                        
00323e   0e0a     MOVLW     0xa                                                                                             
003240   cfdb     MOVFF     0xfdb,0xff4                                                                                     
003242   fff4                                                                                                               
003244   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003246   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
003248   e21d     BC        0x3284                                                                                          
00327e   0e0a     MOVLW     0xa                                                                                             
003280   2adb     INCF      0xdb,0x1,0x0                                                                                    
003282   d7da     BRA       0x3238                                                                                          
00324a   0e0a     MOVLW     0xa            	  	*(sendBufferUsrLoopback+UserLoopBackCounter)= *(recBuffPtr+UserLoopBackCounter); // TODO pensar algo mas eficiente Z:\home\andres\u4a2\user\userLoopBack.c
00324c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00324e   6ee7     MOVWF     0xe7,0x0                                                                                        
003250   0efd     MOVLW     0xfd                                                                                            
003252   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003254   ffe9                                                                                                               
003256   0efe     MOVLW     0xfe                                                                                            
003258   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00325a   ffea                                                                                                               
00325c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00325e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003260   0e00     MOVLW     0x0                                                                                             
003262   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003264   50ef     MOVF      0xef,0x0,0x0                                                                                    
003266   6ee6     MOVWF     0xe6,0x0                                                                                        
003268   0e0a     MOVLW     0xa                                                                                             
00326a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00326c   0101     MOVLB     0x1                                                                                             
00326e   6aea     CLRF      0xea,0x0                                                                                        
003270   259f     ADDWF     0x9f,0x0,0x1                                                                                    
003272   6ee9     MOVWF     0xe9,0x0                                                                                        
003274   51a0     MOVF      0xa0,0x0,0x1                                                                                    
003276   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003278   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00327a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00327c   6eef     MOVWF     0xef,0x0                                                                                        
                                           	  }                                                                             Z:\home\andres\u4a2\user\userLoopBack.c
003284   0efc     MOVLW     0xfc           	  UserLoopBackCounter=len; //por las dudas                                      Z:\home\andres\u4a2\user\userLoopBack.c
003286   50db     MOVF      0xdb,0x0,0x0                                                                                    
003288   6ee7     MOVWF     0xe7,0x0                                                                                        
00328a   0e0a     MOVLW     0xa                                                                                             
00328c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00328e   ffdb                                                                                                               
                                           	  /*                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           	  //para que devuelva el doble de lo que recibe                                 Z:\home\andres\u4a2\user\userLoopBack.c
                                           	  for (UserLoopBackCounter=0 ; UserLoopBackCounter < len ; UserLoopBackCounter++){ Z:\home\andres\u4a2\user\userLoopBack.c
                                           	  	*(sendBufferUsrLoopback+(UserLoopBackCounter+len))= *(recBuffPtr+UserLoopBackCounter); // TODO pensar algo mas eficiente Z:\home\andres\u4a2\user\userLoopBack.c
                                           	  }                                                                             Z:\home\andres\u4a2\user\userLoopBack.c
                                                 UserLoopBackCounter=len*2; //por las dudas                                 Z:\home\andres\u4a2\user\userLoopBack.c
                                           	  */                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           	                                                                                Z:\home\andres\u4a2\user\userLoopBack.c
003290   50db     MOVF      0xdb,0x0,0x0         if(UserLoopBackCounter != 0)                                               Z:\home\andres\u4a2\user\userLoopBack.c
003292   e00c     BZ        0x32ac                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\userLoopBack.c
003294   0104     MOVLB     0x4                      if(!mUSBGenTxIsBusy())                                                 Z:\home\andres\u4a2\user\userLoopBack.c
003296   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
003298   d009     BRA       0x32ac                                                                                          
00329a   0e0a     MOVLW     0xa                          USBGenWrite2(usrLoopbackHandler, UserLoopBackCounter);             Z:\home\andres\u4a2\user\userLoopBack.c
00329c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00329e   ffe6                                                                                                               
0032a0   c19e     MOVFF     0x19e,0xfe6                                                                                     
0032a2   ffe6                                                                                                               
0032a4   ec31     CALL      0x2662,0x0                                                                                      
0032a6   f013                                                                                                               
0032a8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if  	  	                                                            Z:\home\andres\u4a2\user\userLoopBack.c
0032ac   0e0b     MOVLW     0xb            }//end UserLoopBackReceived                                                      Z:\home\andres\u4a2\user\userLoopBack.c
0032ae   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0032b0   e202     BC        0x32b6                                                                                          
0032b2   6ae1     CLRF      0xe1,0x0                                                                                        
0032b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032b6   6ee1     MOVWF     0xe1,0x0                                                                                        
0032b8   d005     BRA       0x32c4                                                                                          
0032c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032c6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0032c8   ffd9                                                                                                               
0032ca   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\userLoopBack.c
                                           /** EOF usr_skeleton.c ***************************************************************/ Z:\home\andres\u4a2\user\userLoopBack.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *Santiago Reyes					       03/07/09    Original.                                Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include <delays.h>                                                              Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include "user\usr_buzzer.h"                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           byte  usrBuzzerHandler;	 // Handler number asigned to the module                 Z:\home\andres\u4a2\user\usr_buzzer.c
                                           byte* sendBufferUsrBuzzer; // buffer to send data                                Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerProcessIO(void);                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerInit(byte i);                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerReceived(byte*, byte);                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerRelease(byte i);                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerConfigure(void);                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                           uTab userBuzzerModuleTable = {&UserBuzzerInit,&UserBuzzerRelease,&UserBuzzerConfigure,"buzzer"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Function:        UseBuzzerInit(void)                                          Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
0032cc   d9b9     RCALL     0x3640         void UserBuzzerInit(byte i){                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
0032ce   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
0032d0   0efe     MOVLW     0xfe           	usrBuzzerHandler = i;                                                           Z:\home\andres\u4a2\user\usr_buzzer.c
0032d2   cfdb     MOVFF     0xfdb,0x19b                                                                                     
0032d4   f19b                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_buzzer.c
0032d6   0ed8     MOVLW     0xd8           	setHandlerReceiveFunction(usrBuzzerHandler,&UserBuzzerReceived);                Z:\home\andres\u4a2\user\usr_buzzer.c
0032d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0032da   0e33     MOVLW     0x33                                                                                            
0032dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0032de   c19b     MOVFF     0x19b,0xfe6                                                                                     
0032e0   ffe6                                                                                                               
0032e2   ec67     CALL      0x24ce,0x0                                                                                      
0032e4   f012                                                                                                               
0032e6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032ea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           	//res = addPollingFunction(&UserLedAmarilloProcessIO);                          Z:\home\andres\u4a2\user\usr_buzzer.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_buzzer.c
0032ec   c19b     MOVFF     0x19b,0xfe6    	sendBufferUsrBuzzer = getSharedBuffer(usrBuzzerHandler);                        Z:\home\andres\u4a2\user\usr_buzzer.c
0032ee   ffe6                                                                                                               
0032f0   ece4     CALL      0x29c8,0x0                                                                                      
0032f2   f014                                                                                                               
0032f4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032f6   cff3     MOVFF     0xff3,0x19c                                                                                     
0032f8   f19c                                                                                                               
0032fa   cff4     MOVFF     0xff4,0x19d                                                                                     
0032fc   f19d                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
0032fe   9a93     BCF       0x93,0x5,0x0   	mInitBuzzer(); /*Inicializo el puerto del buzzer*/                              Z:\home\andres\u4a2\user\usr_buzzer.c
003300   9a8a     BCF       0x8a,0x5,0x0                                                                                    
003302   52e5     MOVF      0xe5,0x1,0x0   }//end UserLedAmarilloInit                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
003304   d1a2     BRA       0x364a                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /* Function:        UserBuzzerConfigure(void)                                    Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerConfigure(void){                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_buzzer.c
003306   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Function:        UserBuzzerProcessIO(void)                                    Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           void UserBuzzerProcessIO(void){                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
003308   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\usr_buzzer.c
00330a   0101     MOVLB     0x1                                                                                             
00330c   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\usr_buzzer.c
00330e   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Function:        UserBuzzerRelease(byte i)                                    Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
003310   d997     RCALL     0x3640         void UserBuzzerRelease(byte i){                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
003312   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_buzzer.c
003314   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003316   ffe6                                                                                                               
003318   ec63     CALL      0x24c6,0x0                                                                                      
00331a   f012                                                                                                               
00331c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00331e   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
003320   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003322   ffe6                                                                                                               
003324   ec6a     CALL      0x24d4,0x0                                                                                      
003326   f012                                                                                                               
003328   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00332a   0e08     MOVLW     0x8            	removePoolingFunction(&UserBuzzerProcessIO);                                    Z:\home\andres\u4a2\user\usr_buzzer.c
00332c   6ee6     MOVWF     0xe6,0x0                                                                                        
00332e   0e33     MOVLW     0x33                                                                                            
003330   6ee6     MOVWF     0xe6,0x0                                                                                        
003332   ec6a     CALL      0x14d4,0x0                                                                                      
003334   f00a                                                                                                               
003336   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003338   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00333a   d187     BRA       0x364a         }                                                                                Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
00333c   d981     RCALL     0x3640         void prender_corto(byte i){                                                      Z:\home\andres\u4a2\user\usr_buzzer.c
00333e   0e02     MOVLW     0x2                                                                                             
003340   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
003640   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
003642   ffe6                                                                                                               
003644   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003646   ffd9                                                                                                               
003648   0012     RETURN    0x0                                                                                             
                                           	byte tiempo_decimas;                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           	byte tiempo_unidades;                                                           Z:\home\andres\u4a2\user\usr_buzzer.c
003342   0efe     MOVLW     0xfe           	switch (i){                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
003344   50db     MOVF      0xdb,0x0,0x0                                                                                    
003346   0a09     XORLW     0x9                                                                                             
003348   e029     BZ        0x339c                                                                                          
00334a   0a01     XORLW     0x1                                                                                             
00334c   e022     BZ        0x3392                                                                                          
00334e   0a0f     XORLW     0xf                                                                                             
003350   e01b     BZ        0x3388                                                                                          
003352   0a01     XORLW     0x1                                                                                             
003354   e014     BZ        0x337e                                                                                          
003356   0a03     XORLW     0x3                                                                                             
003358   e010     BZ        0x337a                                                                                          
00335a   0a01     XORLW     0x1                                                                                             
00335c   e00c     BZ        0x3376                                                                                          
00335e   0a07     XORLW     0x7                                                                                             
003360   e008     BZ        0x3372                                                                                          
003362   0a01     XORLW     0x1                                                                                             
003364   e004     BZ        0x336e                                                                                          
003366   0a03     XORLW     0x3                                                                                             
003368   e11f     BNZ       0x33a8                                                                                          
                                           		case 0x01:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
00336a   0e32     MOVLW     0x32           			tiempo_decimas = 0x32; /* para que lo prenda por 1 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           			tiempo_unidades = 0x00;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
00336c   d01e     BRA       0x33aa         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x02:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
00336e   0e64     MOVLW     0x64           			tiempo_decimas = 0x64; /* para que lo prenda por 2 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           			tiempo_unidades = 0x00;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
003370   d01c     BRA       0x33aa         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x03:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
003372   0e96     MOVLW     0x96           			tiempo_decimas = 0x96; /* para que lo prenda por 3 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           			tiempo_unidades = 0x00;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
003374   d01a     BRA       0x33aa         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x04:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
003376   0ec8     MOVLW     0xc8           			tiempo_decimas = 0xC8; /* para que lo prenda por 4 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           			tiempo_unidades = 0x00;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
003378   d018     BRA       0x33aa         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x05:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
00337a   0efa     MOVLW     0xfa           			tiempo_decimas = 0xFA; /* para que lo prenda por 5 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
                                           			tiempo_unidades = 0x00;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
00337c   d016     BRA       0x33aa         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x06:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
00337e   0efa     MOVLW     0xfa           			tiempo_decimas = 0xFA; /* para que lo prenda por 6 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
003380   6edf     MOVWF     0xdf,0x0                                                                                        
003382   52de     MOVF      0xde,0x1,0x0   			tiempo_unidades = 0x32;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
003384   0e32     MOVLW     0x32                                                                                            
003386   d00e     BRA       0x33a4         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x07:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
003388   0efa     MOVLW     0xfa           			tiempo_decimas = 0xFA; /* para que lo prenda por 7 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
00338a   6edf     MOVWF     0xdf,0x0                                                                                        
00338c   52de     MOVF      0xde,0x1,0x0   			tiempo_unidades = 0x64;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
00338e   0e64     MOVLW     0x64                                                                                            
003390   d009     BRA       0x33a4         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x08:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
003392   0efa     MOVLW     0xfa           			tiempo_decimas = 0xFA; /* para que lo prenda por 8 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
003394   6edf     MOVWF     0xdf,0x0                                                                                        
003396   52de     MOVF      0xde,0x1,0x0   			tiempo_unidades = 0x96;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
003398   0e96     MOVLW     0x96                                                                                            
00339a   d004     BRA       0x33a4         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case 0x09:                                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
00339c   0efa     MOVLW     0xfa           			tiempo_decimas = 0xFA; /* para que lo prenda por 9 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
00339e   6edf     MOVWF     0xdf,0x0                                                                                        
0033a0   52de     MOVF      0xde,0x1,0x0   			tiempo_unidades = 0xC8;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
0033a2   0ec8     MOVLW     0xc8                                                                                            
0033a4   6edd     MOVWF     0xdd,0x0                                                                                        
0033a6   d004     BRA       0x33b0         		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		default:                                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
0033a8   0e32     MOVLW     0x32           			tiempo_decimas = 0x32; /* para que lo prenda por 1 seg */                     Z:\home\andres\u4a2\user\usr_buzzer.c
0033aa   6edf     MOVWF     0xdf,0x0                                                                                        
0033ac   0e01     MOVLW     0x1            			tiempo_unidades = 0x00;                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
0033ae   6adb     CLRF      0xdb,0x0                                                                                        
                                           		break;                                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                           	}                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
0033b0   8a8a     BSF       0x8a,0x5,0x0   	buzzer_on();                                                                    Z:\home\andres\u4a2\user\usr_buzzer.c
0033b2   cfdf     MOVFF     0xfdf,0xfe6    		Delay10KTCYx(tiempo_decimas);                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
0033b4   ffe6                                                                                                               
0033b6   ec11     CALL      0x2c22,0x0                                                                                      
0033b8   f016                                                                                                               
0033ba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033bc   0e01     MOVLW     0x1            		Delay10KTCYx(tiempo_unidades);                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
0033be   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0033c0   ffe6                                                                                                               
0033c2   ec11     CALL      0x2c22,0x0                                                                                      
0033c4   f016                                                                                                               
0033c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033c8   9a8a     BCF       0x8a,0x5,0x0   	buzzer_off();                                                                   Z:\home\andres\u4a2\user\usr_buzzer.c
0033ca   0e02     MOVLW     0x2            }                                                                                Z:\home\andres\u4a2\user\usr_buzzer.c
0033cc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0033ce   e202     BC        0x33d4                                                                                          
0033d0   6ae1     CLRF      0xe1,0x0                                                                                        
0033d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0033d4   6ee1     MOVWF     0xe1,0x0                                                                                        
0033d6   d139     BRA       0x364a                                                                                          
00364a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00364c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00364e   ffd9                                                                                                               
003650   0012     RETURN    0x0                                                                                             
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Function:        UserBuzzerReceived(byte* recBuffPtr, byte len)               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_buzzer.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
0033d8   cfd9     MOVFF     0xfd9,0xfe6    void UserBuzzerReceived(byte* recBuffPtr, byte len){                             Z:\home\andres\u4a2\user\usr_buzzer.c
0033da   ffe6                                                                                                               
0033dc   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0033de   ffd9                                                                                                               
0033e0   0e0c     MOVLW     0xc                                                                                             
0033e2   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\usr_buzzer.c
0033e4   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "BUZZER";	                                                     Z:\home\andres\u4a2\user\usr_buzzer.c
0033e6   0f01     ADDLW     0x1                                                                                             
0033e8   6ee9     MOVWF     0xe9,0x0                                                                                        
0033ea   cfda     MOVFF     0xfda,0xfea                                                                                     
0033ec   ffea                                                                                                               
0033ee   0e42     MOVLW     0x42                                                                                            
0033f0   6eee     MOVWF     0xee,0x0                                                                                        
0033f2   0e55     MOVLW     0x55                                                                                            
0033f4   6eee     MOVWF     0xee,0x0                                                                                        
0033f6   0e5a     MOVLW     0x5a                                                                                            
0033f8   6eee     MOVWF     0xee,0x0                                                                                        
0033fa   0e5a     MOVLW     0x5a                                                                                            
0033fc   6eee     MOVWF     0xee,0x0                                                                                        
0033fe   0e45     MOVLW     0x45                                                                                            
003400   6eee     MOVWF     0xee,0x0                                                                                        
003402   0e52     MOVLW     0x52                                                                                            
003404   6eee     MOVWF     0xee,0x0                                                                                        
003406   6aee     CLRF      0xee,0x0                                                                                        
003408   6aee     CLRF      0xee,0x0                                                                                        
00340a   6aee     CLRF      0xee,0x0                                                                                        
00340c   0e0a     MOVLW     0xa                  byte userBuzzerCounter = 0;                                                Z:\home\andres\u4a2\user\usr_buzzer.c
00340e   6adb     CLRF      0xdb,0x0                                                                                        
                                           	  byte tiempo;                                                                  Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
003410   0efd     MOVLW     0xfd                 switch(((BUZZER_DATA_PACKET*)recBuffPtr)->CMD)                             Z:\home\andres\u4a2\user\usr_buzzer.c
003412   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003414   ffe9                                                                                                               
003416   0efe     MOVLW     0xfe                                                                                            
003418   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00341a   ffea                                                                                                               
00341c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00341e   0a05     XORLW     0x5                                                                                             
003420   e101     BNZ       0x3424                                                                                          
003422   d0e6     BRA       0x35f0                                                                                          
003424   0afa     XORLW     0xfa                                                                                            
003426   e101     BNZ       0x342a                                                                                          
003428   d0e1     BRA       0x35ec                                                                                          
00342a   0afc     XORLW     0xfc                                                                                            
00342c   e101     BNZ       0x3430                                                                                          
00342e   d0a0     BRA       0x3570                                                                                          
003430   0a01     XORLW     0x1                                                                                             
003432   e071     BZ        0x3516                                                                                          
003434   0a03     XORLW     0x3                                                                                             
003436   e042     BZ        0x34bc                                                                                          
003438   0a01     XORLW     0x1                                                                                             
00343a   e001     BZ        0x343e                                                                                          
00343c   d0e7     BRA       0x360c                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_buzzer.c
                                                   case READ_VERSION:                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
                                                         //dataPacket._byte[1] is len                                       Z:\home\andres\u4a2\user\usr_buzzer.c
00343e   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[0] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_buzzer.c
003440   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003442   ffe9                                                                                                               
003444   0efe     MOVLW     0xfe                                                                                            
003446   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003448   ffea                                                                                                               
00344a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00344c   6ee6     MOVWF     0xe6,0x0                                                                                        
00344e   c19c     MOVFF     0x19c,0xfe9                                                                                     
003450   ffe9                                                                                                               
003452   c19d     MOVFF     0x19d,0xfea                                                                                     
003454   ffea                                                                                                               
003456   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003458   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00345a   6eef     MOVWF     0xef,0x0                                                                                        
00345c   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[1] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_buzzer.c
00345e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003460   ffe9                                                                                                               
003462   0efe     MOVLW     0xfe                                                                                            
003464   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003466   ffea                                                                                                               
003468   0e01     MOVLW     0x1                                                                                             
00346a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00346c   0e00     MOVLW     0x0                                                                                             
00346e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003470   50ef     MOVF      0xef,0x0,0x0                                                                                    
003472   6ee6     MOVWF     0xe6,0x0                                                                                        
003474   c19c     MOVFF     0x19c,0xfe9                                                                                     
003476   ffe9                                                                                                               
003478   c19d     MOVFF     0x19d,0xfea                                                                                     
00347a   ffea                                                                                                               
00347c   0e01     MOVLW     0x1                                                                                             
00347e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003480   0e00     MOVLW     0x0                                                                                             
003482   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003484   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003486   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003488   6eef     MOVWF     0xef,0x0                                                                                        
00348a   c19c     MOVFF     0x19c,0xfe9                  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[2] = BUZZER_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_buzzer.c
00348c   ffe9                                                                                                               
00348e   c19d     MOVFF     0x19d,0xfea                                                                                     
003490   ffea                                                                                                               
003492   0e02     MOVLW     0x2                                                                                             
003494   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003496   0e00     MOVLW     0x0                                                                                             
003498   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00349a   0e02     MOVLW     0x2                                                                                             
00349c   6eef     MOVWF     0xef,0x0                                                                                        
00349e   c19c     MOVFF     0x19c,0xfe9                  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[3] = BUZZER_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_buzzer.c
0034a0   ffe9                                                                                                               
0034a2   c19d     MOVFF     0x19d,0xfea                                                                                     
0034a4   ffea                                                                                                               
0034a6   0e03     MOVLW     0x3                                                                                             
0034a8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0034aa   0e00     MOVLW     0x0                                                                                             
0034ac   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0034ae   6aef     CLRF      0xef,0x0                                                                                        
0034b0   0e04     MOVLW     0x4                          userBuzzerCounter = 0x04;                                          Z:\home\andres\u4a2\user\usr_buzzer.c
0034b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0034b4   0e0a     MOVLW     0xa                                                                                             
0034b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0034b8   ffdb                                                                                                               
0034ba   d0a9     BRA       0x360e                       break;                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                           	                                                                                Z:\home\andres\u4a2\user\usr_buzzer.c
                                                   case PRENDER:                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
0034bc   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[0] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_buzzer.c
0034be   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0034c0   ffe9                                                                                                               
0034c2   0efe     MOVLW     0xfe                                                                                            
0034c4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0034c6   ffea                                                                                                               
0034c8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0034ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0034cc   c19c     MOVFF     0x19c,0xfe9                                                                                     
0034ce   ffe9                                                                                                               
0034d0   c19d     MOVFF     0x19d,0xfea                                                                                     
0034d2   ffea                                                                                                               
0034d4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0034d6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0034d8   6eef     MOVWF     0xef,0x0                                                                                        
0034da   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[1] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_buzzer.c
0034dc   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0034de   ffe9                                                                                                               
0034e0   0efe     MOVLW     0xfe                                                                                            
0034e2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0034e4   ffea                                                                                                               
0034e6   0e01     MOVLW     0x1                                                                                             
0034e8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0034ea   0e00     MOVLW     0x0                                                                                             
0034ec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0034ee   50ef     MOVF      0xef,0x0,0x0                                                                                    
0034f0   6ee6     MOVWF     0xe6,0x0                                                                                        
0034f2   c19c     MOVFF     0x19c,0xfe9                                                                                     
0034f4   ffe9                                                                                                               
0034f6   c19d     MOVFF     0x19d,0xfea                                                                                     
0034f8   ffea                                                                                                               
0034fa   0e01     MOVLW     0x1                                                                                             
0034fc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0034fe   0e00     MOVLW     0x0                                                                                             
003500   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003502   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003504   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003506   6eef     MOVWF     0xef,0x0                                                                                        
003508   8a8a     BSF       0x8a,0x5,0x0                 buzzer_on();                                                       Z:\home\andres\u4a2\user\usr_buzzer.c
00350a   0e02     MOVLW     0x2                          userBuzzerCounter = 0x02;                                          Z:\home\andres\u4a2\user\usr_buzzer.c
00350c   6ef3     MOVWF     0xf3,0x0                                                                                        
00350e   0e0a     MOVLW     0xa                                                                                             
003510   cff3     MOVFF     0xff3,0xfdb                                                                                     
003512   ffdb                                                                                                               
003514   d07c     BRA       0x360e                       break;                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case APAGAR:                                                                   Z:\home\andres\u4a2\user\usr_buzzer.c
003516   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[0] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_buzzer.c
003518   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00351a   ffe9                                                                                                               
00351c   0efe     MOVLW     0xfe                                                                                            
00351e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003520   ffea                                                                                                               
003522   50ef     MOVF      0xef,0x0,0x0                                                                                    
003524   6ee6     MOVWF     0xe6,0x0                                                                                        
003526   c19c     MOVFF     0x19c,0xfe9                                                                                     
003528   ffe9                                                                                                               
00352a   c19d     MOVFF     0x19d,0xfea                                                                                     
00352c   ffea                                                                                                               
00352e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003530   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003532   6eef     MOVWF     0xef,0x0                                                                                        
003534   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[1] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_buzzer.c
003536   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003538   ffe9                                                                                                               
00353a   0efe     MOVLW     0xfe                                                                                            
00353c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00353e   ffea                                                                                                               
003540   0e01     MOVLW     0x1                                                                                             
003542   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003544   0e00     MOVLW     0x0                                                                                             
003546   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003548   50ef     MOVF      0xef,0x0,0x0                                                                                    
00354a   6ee6     MOVWF     0xe6,0x0                                                                                        
00354c   c19c     MOVFF     0x19c,0xfe9                                                                                     
00354e   ffe9                                                                                                               
003550   c19d     MOVFF     0x19d,0xfea                                                                                     
003552   ffea                                                                                                               
003554   0e01     MOVLW     0x1                                                                                             
003556   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003558   0e00     MOVLW     0x0                                                                                             
00355a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00355c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00355e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003560   6eef     MOVWF     0xef,0x0                                                                                        
003562   9a8a     BCF       0x8a,0x5,0x0                 buzzer_off();                                                      Z:\home\andres\u4a2\user\usr_buzzer.c
003564   0e02     MOVLW     0x2            			  userBuzzerCounter = 0x02;                                                   Z:\home\andres\u4a2\user\usr_buzzer.c
003566   6ef3     MOVWF     0xf3,0x0                                                                                        
003568   0e0a     MOVLW     0xa                                                                                             
00356a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00356c   ffdb                                                                                                               
00356e   d04f     BRA       0x360e                       break;                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		case BUZZER_CORTO:                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
003570   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[0] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_buzzer.c
003572   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003574   ffe9                                                                                                               
003576   0efe     MOVLW     0xfe                                                                                            
003578   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00357a   ffea                                                                                                               
00357c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00357e   6ee6     MOVWF     0xe6,0x0                                                                                        
003580   c19c     MOVFF     0x19c,0xfe9                                                                                     
003582   ffe9                                                                                                               
003584   c19d     MOVFF     0x19d,0xfea                                                                                     
003586   ffea                                                                                                               
003588   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00358a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00358c   6eef     MOVWF     0xef,0x0                                                                                        
00358e   0efd     MOVLW     0xfd           			  ((BUZZER_DATA_PACKET*)sendBufferUsrBuzzer)->_byte[1] = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_buzzer.c
003590   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003592   ffe9                                                                                                               
003594   0efe     MOVLW     0xfe                                                                                            
003596   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003598   ffea                                                                                                               
00359a   0e01     MOVLW     0x1                                                                                             
00359c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00359e   0e00     MOVLW     0x0                                                                                             
0035a0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0035a2   50ef     MOVF      0xef,0x0,0x0                                                                                    
0035a4   6ee6     MOVWF     0xe6,0x0                                                                                        
0035a6   c19c     MOVFF     0x19c,0xfe9                                                                                     
0035a8   ffe9                                                                                                               
0035aa   c19d     MOVFF     0x19d,0xfea                                                                                     
0035ac   ffea                                                                                                               
0035ae   0e01     MOVLW     0x1                                                                                             
0035b0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0035b2   0e00     MOVLW     0x0                                                                                             
0035b4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0035b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0035b8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0035ba   6eef     MOVWF     0xef,0x0                                                                                        
0035bc   0efd     MOVLW     0xfd           				tiempo = ((BUZZER_DATA_PACKET*)recBuffPtr)->_byte[2];                        Z:\home\andres\u4a2\user\usr_buzzer.c
0035be   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0035c0   ffe9                                                                                                               
0035c2   0efe     MOVLW     0xfe                                                                                            
0035c4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0035c6   ffea                                                                                                               
0035c8   0e02     MOVLW     0x2                                                                                             
0035ca   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0035cc   0e00     MOVLW     0x0                                                                                             
0035ce   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0035d0   0e0b     MOVLW     0xb                                                                                             
0035d2   cfef     MOVFF     0xfef,0xfdb                                                                                     
0035d4   ffdb                                                                                                               
0035d6   0e0b     MOVLW     0xb                          prender_corto(tiempo);                                             Z:\home\andres\u4a2\user\usr_buzzer.c
0035d8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0035da   ffe6                                                                                                               
0035dc   deaf     RCALL     0x333c                                                                                          
0035de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0035e0   0e02     MOVLW     0x2            			  userBuzzerCounter = 0x02;                                                   Z:\home\andres\u4a2\user\usr_buzzer.c
0035e2   6ef3     MOVWF     0xf3,0x0                                                                                        
0035e4   0e0a     MOVLW     0xa                                                                                             
0035e6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0035e8   ffdb                                                                                                               
0035ea   d011     BRA       0x360e                       break;		                                                           Z:\home\andres\u4a2\user\usr_buzzer.c
                                                   case RESET:                                                              Z:\home\andres\u4a2\user\usr_buzzer.c
0035ec   00ff     RESET                                  Reset();                                                           Z:\home\andres\u4a2\user\usr_buzzer.c
0035ee   d00f     BRA       0x360e         			  break;                                                                      Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		                                                                               Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		 case MESS:                                                                    Z:\home\andres\u4a2\user\usr_buzzer.c
0035f0   0e09     MOVLW     0x9            				sendMes(mens, sizeof(mens));                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
0035f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0035f4   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0035f6   0f01     ADDLW     0x1                                                                                             
0035f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0035fa   0e00     MOVLW     0x0                                                                                             
0035fc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0035fe   6ee6     MOVWF     0xe6,0x0                                                                                        
003600   ec5c     CALL      0x10b8,0x0                                                                                      
003602   f008                                                                                                               
003604   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003606   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003608   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00360a   d001     BRA       0x360e                       break;                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           		 default:                                                                      Z:\home\andres\u4a2\user\usr_buzzer.c
00360c   d000     BRA       0x360e                       break;                                                             Z:\home\andres\u4a2\user\usr_buzzer.c
                                                 }//end switch(s)                                                           Z:\home\andres\u4a2\user\usr_buzzer.c
00360e   0e0a     MOVLW     0xa                  if(userBuzzerCounter != 0)                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
003610   50db     MOVF      0xdb,0x0,0x0                                                                                    
003612   e00c     BZ        0x362c                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_buzzer.c
003614   0104     MOVLB     0x4                      if(!mUSBGenTxIsBusy())                                                 Z:\home\andres\u4a2\user\usr_buzzer.c
003616   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
003618   d009     BRA       0x362c                                                                                          
00361a   0e0a     MOVLW     0xa                          USBGenWrite2(usrBuzzerHandler, userBuzzerCounter);                 Z:\home\andres\u4a2\user\usr_buzzer.c
00361c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00361e   ffe6                                                                                                               
003620   c19b     MOVFF     0x19b,0xfe6                                                                                     
003622   ffe6                                                                                                               
003624   ec31     CALL      0x2662,0x0                                                                                      
003626   f013                                                                                                               
003628   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00362a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if  	  	                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
00362c   0e0c     MOVLW     0xc            }//end UserBuzzerReceived                                                        Z:\home\andres\u4a2\user\usr_buzzer.c
00362e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003630   e202     BC        0x3636                                                                                          
003632   6ae1     CLRF      0xe1,0x0                                                                                        
003634   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003636   6ee1     MOVWF     0xe1,0x0                                                                                        
003638   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00363a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00363c   ffd9                                                                                                               
00363e   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /** EOF usr_Buzzer.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_buzzer.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *Santiago Reyes					       03/07/09    Original.                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *Andres Aguirre					       30/07/10    Interaccion con timmer y debugeo         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "user\usr_led_amarillo.h"                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #include "usb4all\proxys\T0Service.h"                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           byte  usrLedAmarilloHandler;	 // Handler number asigned to the module            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           byte* sendBufferUsrLedAmarillo;  // buffer to send data                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           byte  blinkFrecuency = 10;                                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloProcessIO(void);                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloInit(byte i);                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloReceived(byte*, byte);                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloRelease(byte i);                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloConfigure(void);                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           uTab userLedAmarilloModuleTable = {&UserLedAmarilloInit,&UserLedAmarilloRelease,&UserLedAmarilloConfigure,"ledA"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Function:        UseLedAmarilloInit(void)                                     Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
003652   cfd9     MOVFF     0xfd9,0xfe6    void UserLedAmarilloInit(byte i){                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
003654   ffe6                                                                                                               
003656   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003658   ffd9                                                                                                               
00365a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
00365c   0efe     MOVLW     0xfe           	usrLedAmarilloHandler = i;                                                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
00365e   cfdb     MOVFF     0xfdb,0x195                                                                                     
003660   f195                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_led_amarillo.c
003662   0efe     MOVLW     0xfe           	setHandlerReceiveFunction(usrLedAmarilloHandler,&UserLedAmarilloReceived);      Z:\home\andres\u4a2\user\usr_led_amarillo.c
003664   6ee6     MOVWF     0xe6,0x0                                                                                        
003666   0e36     MOVLW     0x36                                                                                            
003668   6ee6     MOVWF     0xe6,0x0                                                                                        
00366a   c195     MOVFF     0x195,0xfe6                                                                                     
00366c   ffe6                                                                                                               
00366e   ec67     CALL      0x24ce,0x0                                                                                      
003670   f012                                                                                                               
003672   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003674   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003676   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           	//res = addPollingFunction(&UserLedAmarilloProcessIO);                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
003678   c195     MOVFF     0x195,0xfe6    	sendBufferUsrLedAmarillo = getSharedBuffer(usrLedAmarilloHandler);              Z:\home\andres\u4a2\user\usr_led_amarillo.c
00367a   ffe6                                                                                                               
00367c   ece4     CALL      0x29c8,0x0                                                                                      
00367e   f014                                                                                                               
003680   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003682   cff3     MOVFF     0xff3,0x196                                                                                     
003684   f196                                                                                                               
003686   cff4     MOVFF     0xff4,0x197                                                                                     
003688   f197                                                                                                               
00368a   9c93     BCF       0x93,0x6,0x0   	mInitLed3();                                                                    Z:\home\andres\u4a2\user\usr_led_amarillo.c
00368c   9c8a     BCF       0x8a,0x6,0x0                                                                                    
00368e   ec48     CALL      0x2090,0x0     	initT0Service();                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
003690   f010                                                                                                               
003692   52e5     MOVF      0xe5,0x1,0x0   }//end UserLedAmarilloInit                                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
003694   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003696   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003698   ffd9                                                                                                               
00369a   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /* Function:        UserAmarilloConfigure(void)                                  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloConfigure(void){                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
00369c   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Function:        UserLedAmarilloProcessIO(void)                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void UserLedAmarilloProcessIO(void){                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
00369e   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036a0   0101     MOVLB     0x1                                                                                             
0036a2   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036a4   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Function:        UserLedAmarilloRelease(byte i)                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036a6   cfd9     MOVFF     0xfd9,0xfe6    void UserLedAmarilloRelease(byte i){                                             Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036a8   ffe6                                                                                                               
0036aa   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0036ac   ffd9                                                                                                               
0036ae   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036b0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0036b2   ffe6                                                                                                               
0036b4   ec63     CALL      0x24c6,0x0                                                                                      
0036b6   f012                                                                                                               
0036b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036ba   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036bc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0036be   ffe6                                                                                                               
0036c0   ec6a     CALL      0x24d4,0x0                                                                                      
0036c2   f012                                                                                                               
0036c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036c6   0e9e     MOVLW     0x9e           	removePoolingFunction(&UserLedAmarilloProcessIO);                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036c8   6ee6     MOVWF     0xe6,0x0                                                                                        
0036ca   0e36     MOVLW     0x36                                                                                            
0036cc   6ee6     MOVWF     0xe6,0x0                                                                                        
0036ce   ec6a     CALL      0x14d4,0x0                                                                                      
0036d0   f00a                                                                                                               
0036d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036d4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036d6   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036d8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0036da   ffd9                                                                                                               
0036dc   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /***********************************************************************         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           *                                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           * Callback function to execute periodicaly by te Timmer interrupt ISR            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           *                                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           ************************************************************************/        Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           void blinkEvent(void) {                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036de   7c8a     BTG       0x8a,0x6,0x0   	mLED_3_Toggle();                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036e0   0ede     MOVLW     0xde           	registerT0eventInEvent(2000, &blinkEvent);                                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036e2   6ee6     MOVWF     0xe6,0x0                                                                                        
0036e4   0e36     MOVLW     0x36                                                                                            
0036e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0036e8   0ed0     MOVLW     0xd0                                                                                            
0036ea   6ee6     MOVWF     0xe6,0x0                                                                                        
0036ec   0e07     MOVLW     0x7                                                                                             
0036ee   6ee6     MOVWF     0xe6,0x0                                                                                        
0036f0   ecc7     CALL      0x218e,0x0                                                                                      
0036f2   f010                                                                                                               
0036f4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0036fc   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Function:        UserLedAmarilloReceived(byte* recBuffPtr, byte len)          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
0036fe   cfd9     MOVFF     0xfd9,0xfe6    void UserLedAmarilloReceived(byte* recBuffPtr, byte len){                        Z:\home\andres\u4a2\user\usr_led_amarillo.c
003700   ffe6                                                                                                               
003702   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003704   ffd9                                                                                                               
003706   0e0b     MOVLW     0xb                                                                                             
003708   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\usr_led_amarillo.c
00370a   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "User Skeleton is alive";	                                     Z:\home\andres\u4a2\user\usr_led_amarillo.c
00370c   0f01     ADDLW     0x1                                                                                             
00370e   6ee9     MOVWF     0xe9,0x0                                                                                        
003710   cfda     MOVFF     0xfda,0xfea                                                                                     
003712   ffea                                                                                                               
003714   0e55     MOVLW     0x55                                                                                            
003716   6eee     MOVWF     0xee,0x0                                                                                        
003718   0e73     MOVLW     0x73                                                                                            
00371a   6eee     MOVWF     0xee,0x0                                                                                        
00371c   0e65     MOVLW     0x65                                                                                            
00371e   6eee     MOVWF     0xee,0x0                                                                                        
003720   0e72     MOVLW     0x72                                                                                            
003722   6eee     MOVWF     0xee,0x0                                                                                        
003724   0e20     MOVLW     0x20                                                                                            
003726   6eee     MOVWF     0xee,0x0                                                                                        
003728   0e53     MOVLW     0x53                                                                                            
00372a   6eee     MOVWF     0xee,0x0                                                                                        
00372c   0e6b     MOVLW     0x6b                                                                                            
00372e   6eee     MOVWF     0xee,0x0                                                                                        
003730   0e65     MOVLW     0x65                                                                                            
003732   6eee     MOVWF     0xee,0x0                                                                                        
003734   0e6c     MOVLW     0x6c                                                                                            
003736   6eee     MOVWF     0xee,0x0                                                                                        
003738   0e0a     MOVLW     0xa                  byte userLedAmarilloCounter = 0;                                           Z:\home\andres\u4a2\user\usr_led_amarillo.c
00373a   6adb     CLRF      0xdb,0x0                                                                                        
00373c   0efd     MOVLW     0xfd                 switch(((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->CMD)                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
00373e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003740   ffe9                                                                                                               
003742   0efe     MOVLW     0xfe                                                                                            
003744   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003746   ffea                                                                                                               
003748   50ef     MOVF      0xef,0x0,0x0                                                                                    
00374a   0a05     XORLW     0x5                                                                                             
00374c   e101     BNZ       0x3750                                                                                          
00374e   d116     BRA       0x397c                                                                                          
003750   0afa     XORLW     0xfa                                                                                            
003752   e101     BNZ       0x3756                                                                                          
003754   d0e6     BRA       0x3922                                                                                          
003756   0afd     XORLW     0xfd                                                                                            
003758   e101     BNZ       0x375c                                                                                          
00375a   d0ae     BRA       0x38b8                                                                                          
00375c   0a03     XORLW     0x3                                                                                             
00375e   e101     BNZ       0x3762                                                                                          
003760   d07e     BRA       0x385e                                                                                          
003762   0a02     XORLW     0x2                                                                                             
003764   e042     BZ        0x37ea                                                                                          
003766   0a03     XORLW     0x3                                                                                             
003768   e001     BZ        0x376c                                                                                          
00376a   d141     BRA       0x39ee                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                   case READ_VERSION:                                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                         //dataPacket._byte[1] is len                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
00376c   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[0] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_led_amarillo.c
00376e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003770   ffe9                                                                                                               
003772   0efe     MOVLW     0xfe                                                                                            
003774   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003776   ffea                                                                                                               
003778   50ef     MOVF      0xef,0x0,0x0                                                                                    
00377a   6ee6     MOVWF     0xe6,0x0                                                                                        
00377c   c196     MOVFF     0x196,0xfe9                                                                                     
00377e   ffe9                                                                                                               
003780   c197     MOVFF     0x197,0xfea                                                                                     
003782   ffea                                                                                                               
003784   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003786   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003788   6eef     MOVWF     0xef,0x0                                                                                        
00378a   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[1] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_amarillo.c
00378c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00378e   ffe9                                                                                                               
003790   0efe     MOVLW     0xfe                                                                                            
003792   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003794   ffea                                                                                                               
003796   0e01     MOVLW     0x1                                                                                             
003798   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00379a   0e00     MOVLW     0x0                                                                                             
00379c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00379e   50ef     MOVF      0xef,0x0,0x0                                                                                    
0037a0   6ee6     MOVWF     0xe6,0x0                                                                                        
0037a2   c196     MOVFF     0x196,0xfe9                                                                                     
0037a4   ffe9                                                                                                               
0037a6   c197     MOVFF     0x197,0xfea                                                                                     
0037a8   ffea                                                                                                               
0037aa   0e01     MOVLW     0x1                                                                                             
0037ac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0037ae   0e00     MOVLW     0x0                                                                                             
0037b0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0037b2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0037b4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0037b6   6eef     MOVWF     0xef,0x0                                                                                        
0037b8   c196     MOVFF     0x196,0xfe9    		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[2] = LED_AMARILLO_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_led_amarillo.c
0037ba   ffe9                                                                                                               
0037bc   c197     MOVFF     0x197,0xfea                                                                                     
0037be   ffea                                                                                                               
0037c0   0e02     MOVLW     0x2                                                                                             
0037c2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0037c4   0e00     MOVLW     0x0                                                                                             
0037c6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0037c8   0e02     MOVLW     0x2                                                                                             
0037ca   6eef     MOVWF     0xef,0x0                                                                                        
0037cc   c196     MOVFF     0x196,0xfe9    		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[3] = LED_AMARILLO_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_led_amarillo.c
0037ce   ffe9                                                                                                               
0037d0   c197     MOVFF     0x197,0xfea                                                                                     
0037d2   ffea                                                                                                               
0037d4   0e03     MOVLW     0x3                                                                                             
0037d6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0037d8   0e00     MOVLW     0x0                                                                                             
0037da   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0037dc   6aef     CLRF      0xef,0x0                                                                                        
0037de   0e04     MOVLW     0x4            		userLedAmarilloCounter = 0x04;                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
0037e0   6ef3     MOVWF     0xf3,0x0                                                                                        
0037e2   0e0a     MOVLW     0xa                                                                                             
0037e4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0037e6   ffdb                                                                                                               
0037e8   d103     BRA       0x39f0         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                   case BLINK:                                                              Z:\home\andres\u4a2\user\usr_led_amarillo.c
0037ea   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[0] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_led_amarillo.c
0037ec   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0037ee   ffe9                                                                                                               
0037f0   0efe     MOVLW     0xfe                                                                                            
0037f2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0037f4   ffea                                                                                                               
0037f6   50ef     MOVF      0xef,0x0,0x0                                                                                    
0037f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0037fa   c196     MOVFF     0x196,0xfe9                                                                                     
0037fc   ffe9                                                                                                               
0037fe   c197     MOVFF     0x197,0xfea                                                                                     
003800   ffea                                                                                                               
003802   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003804   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003806   6eef     MOVWF     0xef,0x0                                                                                        
003808   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[1] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[1]; 		 Z:\home\andres\u4a2\user\usr_led_amarillo.c
00380a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00380c   ffe9                                                                                                               
00380e   0efe     MOVLW     0xfe                                                                                            
003810   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003812   ffea                                                                                                               
003814   0e01     MOVLW     0x1                                                                                             
003816   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003818   0e00     MOVLW     0x0                                                                                             
00381a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00381c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00381e   6ee6     MOVWF     0xe6,0x0                                                                                        
003820   c196     MOVFF     0x196,0xfe9                                                                                     
003822   ffe9                                                                                                               
003824   c197     MOVFF     0x197,0xfea                                                                                     
003826   ffea                                                                                                               
003828   0e01     MOVLW     0x1                                                                                             
00382a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00382c   0e00     MOVLW     0x0                                                                                             
00382e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003830   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003832   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003834   6eef     MOVWF     0xef,0x0                                                                                        
003836   0ede     MOVLW     0xde           		registerT0event(2000, &blinkEvent);                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
003838   6ee6     MOVWF     0xe6,0x0                                                                                        
00383a   0e36     MOVLW     0x36                                                                                            
00383c   6ee6     MOVWF     0xe6,0x0                                                                                        
00383e   0ed0     MOVLW     0xd0                                                                                            
003840   6ee6     MOVWF     0xe6,0x0                                                                                        
003842   0e07     MOVLW     0x7                                                                                             
003844   6ee6     MOVWF     0xe6,0x0                                                                                        
003846   ec63     CALL      0x20c6,0x0                                                                                      
003848   f010                                                                                                               
00384a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00384c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00384e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003850   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003852   0e02     MOVLW     0x2            		userLedAmarilloCounter = 0x02;                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
003854   6ef3     MOVWF     0xf3,0x0                                                                                        
003856   0e0a     MOVLW     0xa                                                                                             
003858   cff3     MOVFF     0xff3,0xfdb                                                                                     
00385a   ffdb                                                                                                               
00385c   d0c9     BRA       0x39f0         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           	case PRENDER:                                                                   Z:\home\andres\u4a2\user\usr_led_amarillo.c
00385e   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[0] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_led_amarillo.c
003860   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003862   ffe9                                                                                                               
003864   0efe     MOVLW     0xfe                                                                                            
003866   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003868   ffea                                                                                                               
00386a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00386c   6ee6     MOVWF     0xe6,0x0                                                                                        
00386e   c196     MOVFF     0x196,0xfe9                                                                                     
003870   ffe9                                                                                                               
003872   c197     MOVFF     0x197,0xfea                                                                                     
003874   ffea                                                                                                               
003876   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003878   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00387a   6eef     MOVWF     0xef,0x0                                                                                        
00387c   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[1] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_amarillo.c
00387e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003880   ffe9                                                                                                               
003882   0efe     MOVLW     0xfe                                                                                            
003884   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003886   ffea                                                                                                               
003888   0e01     MOVLW     0x1                                                                                             
00388a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00388c   0e00     MOVLW     0x0                                                                                             
00388e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003890   50ef     MOVF      0xef,0x0,0x0                                                                                    
003892   6ee6     MOVWF     0xe6,0x0                                                                                        
003894   c196     MOVFF     0x196,0xfe9                                                                                     
003896   ffe9                                                                                                               
003898   c197     MOVFF     0x197,0xfea                                                                                     
00389a   ffea                                                                                                               
00389c   0e01     MOVLW     0x1                                                                                             
00389e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0038a0   0e00     MOVLW     0x0                                                                                             
0038a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0038a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038a6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0038a8   6eef     MOVWF     0xef,0x0                                                                                        
0038aa   8c8a     BSF       0x8a,0x6,0x0   		mLED_3_On();                                                                   Z:\home\andres\u4a2\user\usr_led_amarillo.c
0038ac   0e02     MOVLW     0x2            		userLedAmarilloCounter = 0x02;                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
0038ae   6ef3     MOVWF     0xf3,0x0                                                                                        
0038b0   0e0a     MOVLW     0xa                                                                                             
0038b2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0038b4   ffdb                                                                                                               
0038b6   d09c     BRA       0x39f0         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           	case APAGAR:                                                                    Z:\home\andres\u4a2\user\usr_led_amarillo.c
0038b8   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[0] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_led_amarillo.c
0038ba   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0038bc   ffe9                                                                                                               
0038be   0efe     MOVLW     0xfe                                                                                            
0038c0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0038c2   ffea                                                                                                               
0038c4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0038c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0038c8   c196     MOVFF     0x196,0xfe9                                                                                     
0038ca   ffe9                                                                                                               
0038cc   c197     MOVFF     0x197,0xfea                                                                                     
0038ce   ffea                                                                                                               
0038d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0038d2   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0038d4   6eef     MOVWF     0xef,0x0                                                                                        
0038d6   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[1] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_amarillo.c
0038d8   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0038da   ffe9                                                                                                               
0038dc   0efe     MOVLW     0xfe                                                                                            
0038de   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0038e0   ffea                                                                                                               
0038e2   0e01     MOVLW     0x1                                                                                             
0038e4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0038e6   0e00     MOVLW     0x0                                                                                             
0038e8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0038ea   50ef     MOVF      0xef,0x0,0x0                                                                                    
0038ec   6ee6     MOVWF     0xe6,0x0                                                                                        
0038ee   c196     MOVFF     0x196,0xfe9                                                                                     
0038f0   ffe9                                                                                                               
0038f2   c197     MOVFF     0x197,0xfea                                                                                     
0038f4   ffea                                                                                                               
0038f6   0e01     MOVLW     0x1                                                                                             
0038f8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0038fa   0e00     MOVLW     0x0                                                                                             
0038fc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0038fe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003900   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003902   6eef     MOVWF     0xef,0x0                                                                                        
003904   9c8a     BCF       0x8a,0x6,0x0   		mLED_3_Off();                                                                  Z:\home\andres\u4a2\user\usr_led_amarillo.c
003906   0ede     MOVLW     0xde           		unregisterT0event(&blinkEvent);                                                Z:\home\andres\u4a2\user\usr_led_amarillo.c
003908   6ee6     MOVWF     0xe6,0x0                                                                                        
00390a   0e36     MOVLW     0x36                                                                                            
00390c   6ee6     MOVWF     0xe6,0x0                                                                                        
00390e   ecfb     CALL      0x21f6,0x0                                                                                      
003910   f010                                                                                                               
003912   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003914   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003916   0e02     MOVLW     0x2            		userLedAmarilloCounter = 0x02;                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
003918   6ef3     MOVWF     0xf3,0x0                                                                                        
00391a   0e0a     MOVLW     0xa                                                                                             
00391c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00391e   ffdb                                                                                                               
003920   d067     BRA       0x39f0         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                   case RESET:                                                              Z:\home\andres\u4a2\user\usr_led_amarillo.c
003922   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[0] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_led_amarillo.c
003924   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003926   ffe9                                                                                                               
003928   0efe     MOVLW     0xfe                                                                                            
00392a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00392c   ffea                                                                                                               
00392e   50ef     MOVF      0xef,0x0,0x0                                                                                    
003930   6ee6     MOVWF     0xe6,0x0                                                                                        
003932   c196     MOVFF     0x196,0xfe9                                                                                     
003934   ffe9                                                                                                               
003936   c197     MOVFF     0x197,0xfea                                                                                     
003938   ffea                                                                                                               
00393a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00393c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00393e   6eef     MOVWF     0xef,0x0                                                                                        
003940   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[1] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_amarillo.c
003942   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003944   ffe9                                                                                                               
003946   0efe     MOVLW     0xfe                                                                                            
003948   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00394a   ffea                                                                                                               
00394c   0e01     MOVLW     0x1                                                                                             
00394e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003950   0e00     MOVLW     0x0                                                                                             
003952   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003954   50ef     MOVF      0xef,0x0,0x0                                                                                    
003956   6ee6     MOVWF     0xe6,0x0                                                                                        
003958   c196     MOVFF     0x196,0xfe9                                                                                     
00395a   ffe9                                                                                                               
00395c   c197     MOVFF     0x197,0xfea                                                                                     
00395e   ffea                                                                                                               
003960   0e01     MOVLW     0x1                                                                                             
003962   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003964   0e00     MOVLW     0x0                                                                                             
003966   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003968   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00396a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00396c   6eef     MOVWF     0xef,0x0                                                                                        
00396e   00ff     RESET                    		Reset();                                                                       Z:\home\andres\u4a2\user\usr_led_amarillo.c
003970   0e02     MOVLW     0x2            		userLedAmarilloCounter = 0x02;                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
003972   6ef3     MOVWF     0xf3,0x0                                                                                        
003974   0e0a     MOVLW     0xa                                                                                             
003976   cff3     MOVFF     0xff3,0xfdb                                                                                     
003978   ffdb                                                                                                               
00397a   d03a     BRA       0x39f0         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           	case MESS:                                                                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
00397c   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[0] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_led_amarillo.c
00397e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003980   ffe9                                                                                                               
003982   0efe     MOVLW     0xfe                                                                                            
003984   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003986   ffea                                                                                                               
003988   50ef     MOVF      0xef,0x0,0x0                                                                                    
00398a   6ee6     MOVWF     0xe6,0x0                                                                                        
00398c   c196     MOVFF     0x196,0xfe9                                                                                     
00398e   ffe9                                                                                                               
003990   c197     MOVFF     0x197,0xfea                                                                                     
003992   ffea                                                                                                               
003994   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003996   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003998   6eef     MOVWF     0xef,0x0                                                                                        
00399a   0efd     MOVLW     0xfd           		((LED_AMARILLO_DATA_PACKET*)sendBufferUsrLedAmarillo)->_byte[1] = ((LED_AMARILLO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_amarillo.c
00399c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00399e   ffe9                                                                                                               
0039a0   0efe     MOVLW     0xfe                                                                                            
0039a2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0039a4   ffea                                                                                                               
0039a6   0e01     MOVLW     0x1                                                                                             
0039a8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039aa   0e00     MOVLW     0x0                                                                                             
0039ac   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0039ae   50ef     MOVF      0xef,0x0,0x0                                                                                    
0039b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0039b2   c196     MOVFF     0x196,0xfe9                                                                                     
0039b4   ffe9                                                                                                               
0039b6   c197     MOVFF     0x197,0xfea                                                                                     
0039b8   ffea                                                                                                               
0039ba   0e01     MOVLW     0x1                                                                                             
0039bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0039be   0e00     MOVLW     0x0                                                                                             
0039c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0039c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0039c4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0039c6   6eef     MOVWF     0xef,0x0                                                                                        
0039c8   0e09     MOVLW     0x9            		sendMes(mens, sizeof(mens));                                                   Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0039cc   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0039ce   0f01     ADDLW     0x1                                                                                             
0039d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0039d2   0e00     MOVLW     0x0                                                                                             
0039d4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0039d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0039d8   ec5c     CALL      0x10b8,0x0                                                                                      
0039da   f008                                                                                                               
0039dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0039de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0039e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0039e2   0e02     MOVLW     0x2            		userLedAmarilloCounter = 0x02;                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039e4   6ef3     MOVWF     0xf3,0x0                                                                                        
0039e6   0e0a     MOVLW     0xa                                                                                             
0039e8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0039ea   ffdb                                                                                                               
0039ec   d001     BRA       0x39f0         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           	default:                                                                        Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039ee   d000     BRA       0x39f0                 break;                                                                   Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                                 }//end switch(s)                                                           Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039f0   0e0a     MOVLW     0xa                  if(userLedAmarilloCounter != 0)                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039f2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0039f4   e00c     BZ        0x3a0e                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039f6   0104     MOVLB     0x4                      if(!mUSBGenTxIsBusy())                                                 Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039f8   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
0039fa   d009     BRA       0x3a0e                                                                                          
0039fc   0e0a     MOVLW     0xa                          USBGenWrite2(usrLedAmarilloHandler, userLedAmarilloCounter);       Z:\home\andres\u4a2\user\usr_led_amarillo.c
0039fe   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003a00   ffe6                                                                                                               
003a02   c195     MOVFF     0x195,0xfe6                                                                                     
003a04   ffe6                                                                                                               
003a06   ec31     CALL      0x2662,0x0                                                                                      
003a08   f013                                                                                                               
003a0a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a0c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if  	  	                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
003a0e   0e0b     MOVLW     0xb            }//end UserAmarilloReceived                                                      Z:\home\andres\u4a2\user\usr_led_amarillo.c
003a10   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003a12   e202     BC        0x3a18                                                                                          
003a14   6ae1     CLRF      0xe1,0x0                                                                                        
003a16   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a18   6ee1     MOVWF     0xe1,0x0                                                                                        
003a1a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a1c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003a1e   ffd9                                                                                                               
003a20   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /** EOF usr_led_amarillo.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_led_amarillo.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *Santiago Reyes					       03/07/09    Original.                                Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *Andres Aguirre					       30/07/10    Interaccion con timmer y debugeo         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include "user\usr_led_rojo.h"                                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           byte  usrLedRojoHandler;	 // Handler number asigned to the module                Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           byte* sendBufferUsrLedRojo; // buffer to send data                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoProcessIO(void);                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoInit(byte i);                                                    Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoReceived(byte*, byte);                                           Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoRelease(byte i);                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoConfigure(void);                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           uTab userLedRojoModuleTable = {&UserLedRojoInit,&UserLedRojoRelease,&UserLedRojoConfigure,"ledR"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Function:        UseLedRojoInit(void)                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003a22   cfd9     MOVFF     0xfd9,0xfe6    void UserLedRojoInit(byte i){                                                    Z:\home\andres\u4a2\user\usr_led_rojo.c
003a24   ffe6                                                                                                               
003a26   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003a28   ffd9                                                                                                               
003a2a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_led_rojo.c
003a2c   0efe     MOVLW     0xfe           	usrLedRojoHandler = i;                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
003a2e   cfdb     MOVFF     0xfdb,0x192                                                                                     
003a30   f192                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_led_rojo.c
003a32   0eaa     MOVLW     0xaa           	setHandlerReceiveFunction(usrLedRojoHandler,&UserLedRojoReceived);              Z:\home\andres\u4a2\user\usr_led_rojo.c
003a34   6ee6     MOVWF     0xe6,0x0                                                                                        
003a36   0e3a     MOVLW     0x3a                                                                                            
003a38   6ee6     MOVWF     0xe6,0x0                                                                                        
003a3a   c192     MOVFF     0x192,0xfe6                                                                                     
003a3c   ffe6                                                                                                               
003a3e   ec67     CALL      0x24ce,0x0                                                                                      
003a40   f012                                                                                                               
003a42   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a44   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a46   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           	//res = addPollingFunction(&UserLedRojoProcessIO);                              Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_led_rojo.c
003a48   c192     MOVFF     0x192,0xfe6    	sendBufferUsrLedRojo = getSharedBuffer(usrLedRojoHandler);                      Z:\home\andres\u4a2\user\usr_led_rojo.c
003a4a   ffe6                                                                                                               
003a4c   ece4     CALL      0x29c8,0x0                                                                                      
003a4e   f014                                                                                                               
003a50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a52   cff3     MOVFF     0xff3,0x193                                                                                     
003a54   f193                                                                                                               
003a56   cff4     MOVFF     0xff4,0x194                                                                                     
003a58   f194                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
003a5a   9093     BCF       0x93,0x0,0x0   	mInitLed1();                                                                    Z:\home\andres\u4a2\user\usr_led_rojo.c
003a5c   908a     BCF       0x8a,0x0,0x0                                                                                    
003a5e   52e5     MOVF      0xe5,0x1,0x0   }//end UserLedRojoInit                                                           Z:\home\andres\u4a2\user\usr_led_rojo.c
003a60   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a62   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003a64   ffd9                                                                                                               
003a66   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /* Function:        UserRojoConfigure(void)                                      Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoConfigure(void){                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
003a68   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Function:        UserLedRojoProcessIO(void)                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           void UserLedRojoProcessIO(void){                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003a6a   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\usr_led_rojo.c
003a6c   0101     MOVLB     0x1                                                                                             
003a6e   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\usr_led_rojo.c
003a70   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Function:        UserLedRojoRelease(byte i)                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003a72   cfd9     MOVFF     0xfd9,0xfe6    void UserLedRojoRelease(byte i){                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
003a74   ffe6                                                                                                               
003a76   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003a78   ffd9                                                                                                               
003a7a   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
003a7c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003a7e   ffe6                                                                                                               
003a80   ec63     CALL      0x24c6,0x0                                                                                      
003a82   f012                                                                                                               
003a84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a86   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
003a88   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003a8a   ffe6                                                                                                               
003a8c   ec6a     CALL      0x24d4,0x0                                                                                      
003a8e   f012                                                                                                               
003a90   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003a92   0e6a     MOVLW     0x6a           	removePoolingFunction(&UserLedRojoProcessIO);                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
003a94   6ee6     MOVWF     0xe6,0x0                                                                                        
003a96   0e3a     MOVLW     0x3a                                                                                            
003a98   6ee6     MOVWF     0xe6,0x0                                                                                        
003a9a   ec6a     CALL      0x14d4,0x0                                                                                      
003a9c   f00a                                                                                                               
003a9e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003aa0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003aa2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\usr_led_rojo.c
003aa4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003aa6   ffd9                                                                                                               
003aa8   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Function:        UserLedRojoReceived(byte* recBuffPtr, byte len)              Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003aaa   cfd9     MOVFF     0xfd9,0xfe6    void UserLedRojoReceived(byte* recBuffPtr, byte len){                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003aac   ffe6                                                                                                               
003aae   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003ab0   ffd9                                                                                                               
003ab2   0e0b     MOVLW     0xb                                                                                             
003ab4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
003ab6   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "User Skeleton is alive";	                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
003ab8   0f01     ADDLW     0x1                                                                                             
003aba   6ee9     MOVWF     0xe9,0x0                                                                                        
003abc   cfda     MOVFF     0xfda,0xfea                                                                                     
003abe   ffea                                                                                                               
003ac0   0e55     MOVLW     0x55                                                                                            
003ac2   6eee     MOVWF     0xee,0x0                                                                                        
003ac4   0e73     MOVLW     0x73                                                                                            
003ac6   6eee     MOVWF     0xee,0x0                                                                                        
003ac8   0e65     MOVLW     0x65                                                                                            
003aca   6eee     MOVWF     0xee,0x0                                                                                        
003acc   0e72     MOVLW     0x72                                                                                            
003ace   6eee     MOVWF     0xee,0x0                                                                                        
003ad0   0e20     MOVLW     0x20                                                                                            
003ad2   6eee     MOVWF     0xee,0x0                                                                                        
003ad4   0e53     MOVLW     0x53                                                                                            
003ad6   6eee     MOVWF     0xee,0x0                                                                                        
003ad8   0e6b     MOVLW     0x6b                                                                                            
003ada   6eee     MOVWF     0xee,0x0                                                                                        
003adc   0e65     MOVLW     0x65                                                                                            
003ade   6eee     MOVWF     0xee,0x0                                                                                        
003ae0   0e6c     MOVLW     0x6c                                                                                            
003ae2   6eee     MOVWF     0xee,0x0                                                                                        
003ae4   0e0a     MOVLW     0xa                  byte userLedRojoCounter = 0;                                               Z:\home\andres\u4a2\user\usr_led_rojo.c
003ae6   6adb     CLRF      0xdb,0x0                                                                                        
003ae8   0efd     MOVLW     0xfd                 switch(((LED_ROJO_DATA_PACKET*)recBuffPtr)->CMD)                           Z:\home\andres\u4a2\user\usr_led_rojo.c
003aea   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003aec   ffe9                                                                                                               
003aee   0efe     MOVLW     0xfe                                                                                            
003af0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003af2   ffea                                                                                                               
003af4   50ef     MOVF      0xef,0x0,0x0                                                                                    
003af6   0a05     XORLW     0x5                                                                                             
003af8   e101     BNZ       0x3afc                                                                                          
003afa   d0d0     BRA       0x3c9c                                                                                          
003afc   0afa     XORLW     0xfa                                                                                            
003afe   e101     BNZ       0x3b02                                                                                          
003b00   d0a0     BRA       0x3c42                                                                                          
003b02   0afd     XORLW     0xfd                                                                                            
003b04   e071     BZ        0x3be8                                                                                          
003b06   0a03     XORLW     0x3                                                                                             
003b08   e042     BZ        0x3b8e                                                                                          
003b0a   0a01     XORLW     0x1                                                                                             
003b0c   e001     BZ        0x3b10                                                                                          
003b0e   d0ff     BRA       0x3d0e                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                   case READ_VERSION:                                                       Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                         //dataPacket._byte[1] is len                                       Z:\home\andres\u4a2\user\usr_led_rojo.c
003b10   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[0] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003b12   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003b14   ffe9                                                                                                               
003b16   0efe     MOVLW     0xfe                                                                                            
003b18   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003b1a   ffea                                                                                                               
003b1c   50ef     MOVF      0xef,0x0,0x0                                                                                    
003b1e   6ee6     MOVWF     0xe6,0x0                                                                                        
003b20   c193     MOVFF     0x193,0xfe9                                                                                     
003b22   ffe9                                                                                                               
003b24   c194     MOVFF     0x194,0xfea                                                                                     
003b26   ffea                                                                                                               
003b28   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b2a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003b2c   6eef     MOVWF     0xef,0x0                                                                                        
003b2e   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[1] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003b30   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003b32   ffe9                                                                                                               
003b34   0efe     MOVLW     0xfe                                                                                            
003b36   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003b38   ffea                                                                                                               
003b3a   0e01     MOVLW     0x1                                                                                             
003b3c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003b3e   0e00     MOVLW     0x0                                                                                             
003b40   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003b42   50ef     MOVF      0xef,0x0,0x0                                                                                    
003b44   6ee6     MOVWF     0xe6,0x0                                                                                        
003b46   c193     MOVFF     0x193,0xfe9                                                                                     
003b48   ffe9                                                                                                               
003b4a   c194     MOVFF     0x194,0xfea                                                                                     
003b4c   ffea                                                                                                               
003b4e   0e01     MOVLW     0x1                                                                                             
003b50   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003b52   0e00     MOVLW     0x0                                                                                             
003b54   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003b56   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003b58   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003b5a   6eef     MOVWF     0xef,0x0                                                                                        
003b5c   c193     MOVFF     0x193,0xfe9    		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[2] = LED_ROJO_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_led_rojo.c
003b5e   ffe9                                                                                                               
003b60   c194     MOVFF     0x194,0xfea                                                                                     
003b62   ffea                                                                                                               
003b64   0e02     MOVLW     0x2                                                                                             
003b66   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003b68   0e00     MOVLW     0x0                                                                                             
003b6a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003b6c   0e02     MOVLW     0x2                                                                                             
003b6e   6eef     MOVWF     0xef,0x0                                                                                        
003b70   c193     MOVFF     0x193,0xfe9    		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[3] = LED_ROJO_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_led_rojo.c
003b72   ffe9                                                                                                               
003b74   c194     MOVFF     0x194,0xfea                                                                                     
003b76   ffea                                                                                                               
003b78   0e03     MOVLW     0x3                                                                                             
003b7a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003b7c   0e00     MOVLW     0x0                                                                                             
003b7e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003b80   6aef     CLRF      0xef,0x0                                                                                        
003b82   0e04     MOVLW     0x4            		userLedRojoCounter = 0x04;                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
003b84   6ef3     MOVWF     0xf3,0x0                                                                                        
003b86   0e0a     MOVLW     0xa                                                                                             
003b88   cff3     MOVFF     0xff3,0xfdb                                                                                     
003b8a   ffdb                                                                                                               
003b8c   d0c1     BRA       0x3d10         		break;                                                                         Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                   case PRENDER:                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003b8e   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[0] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003b90   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003b92   ffe9                                                                                                               
003b94   0efe     MOVLW     0xfe                                                                                            
003b96   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003b98   ffea                                                                                                               
003b9a   50ef     MOVF      0xef,0x0,0x0                                                                                    
003b9c   6ee6     MOVWF     0xe6,0x0                                                                                        
003b9e   c193     MOVFF     0x193,0xfe9                                                                                     
003ba0   ffe9                                                                                                               
003ba2   c194     MOVFF     0x194,0xfea                                                                                     
003ba4   ffea                                                                                                               
003ba6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ba8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003baa   6eef     MOVWF     0xef,0x0                                                                                        
003bac   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[1] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003bae   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003bb0   ffe9                                                                                                               
003bb2   0efe     MOVLW     0xfe                                                                                            
003bb4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003bb6   ffea                                                                                                               
003bb8   0e01     MOVLW     0x1                                                                                             
003bba   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003bbc   0e00     MOVLW     0x0                                                                                             
003bbe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003bc0   50ef     MOVF      0xef,0x0,0x0                                                                                    
003bc2   6ee6     MOVWF     0xe6,0x0                                                                                        
003bc4   c193     MOVFF     0x193,0xfe9                                                                                     
003bc6   ffe9                                                                                                               
003bc8   c194     MOVFF     0x194,0xfea                                                                                     
003bca   ffea                                                                                                               
003bcc   0e01     MOVLW     0x1                                                                                             
003bce   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003bd0   0e00     MOVLW     0x0                                                                                             
003bd2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003bd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003bd6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003bd8   6eef     MOVWF     0xef,0x0                                                                                        
003bda   808a     BSF       0x8a,0x0,0x0   		mLED_1_On();                                                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
003bdc   0e02     MOVLW     0x2            		userLedRojoCounter = 0x02;                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
003bde   6ef3     MOVWF     0xf3,0x0                                                                                        
003be0   0e0a     MOVLW     0xa                                                                                             
003be2   cff3     MOVFF     0xff3,0xfdb                                                                                     
003be4   ffdb                                                                                                               
003be6   d094     BRA       0x3d10         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           	case APAGAR:                                                                    Z:\home\andres\u4a2\user\usr_led_rojo.c
003be8   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[0] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003bea   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003bec   ffe9                                                                                                               
003bee   0efe     MOVLW     0xfe                                                                                            
003bf0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003bf2   ffea                                                                                                               
003bf4   50ef     MOVF      0xef,0x0,0x0                                                                                    
003bf6   6ee6     MOVWF     0xe6,0x0                                                                                        
003bf8   c193     MOVFF     0x193,0xfe9                                                                                     
003bfa   ffe9                                                                                                               
003bfc   c194     MOVFF     0x194,0xfea                                                                                     
003bfe   ffea                                                                                                               
003c00   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003c02   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003c04   6eef     MOVWF     0xef,0x0                                                                                        
003c06   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[1] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003c08   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003c0a   ffe9                                                                                                               
003c0c   0efe     MOVLW     0xfe                                                                                            
003c0e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003c10   ffea                                                                                                               
003c12   0e01     MOVLW     0x1                                                                                             
003c14   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003c16   0e00     MOVLW     0x0                                                                                             
003c18   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c1a   50ef     MOVF      0xef,0x0,0x0                                                                                    
003c1c   6ee6     MOVWF     0xe6,0x0                                                                                        
003c1e   c193     MOVFF     0x193,0xfe9                                                                                     
003c20   ffe9                                                                                                               
003c22   c194     MOVFF     0x194,0xfea                                                                                     
003c24   ffea                                                                                                               
003c26   0e01     MOVLW     0x1                                                                                             
003c28   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003c2a   0e00     MOVLW     0x0                                                                                             
003c2c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c2e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003c30   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003c32   6eef     MOVWF     0xef,0x0                                                                                        
003c34   908a     BCF       0x8a,0x0,0x0   		mLED_1_Off();                                                                  Z:\home\andres\u4a2\user\usr_led_rojo.c
003c36   0e02     MOVLW     0x2            		userLedRojoCounter = 0x02;                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
003c38   6ef3     MOVWF     0xf3,0x0                                                                                        
003c3a   0e0a     MOVLW     0xa                                                                                             
003c3c   cff3     MOVFF     0xff3,0xfdb                                                                                     
003c3e   ffdb                                                                                                               
003c40   d067     BRA       0x3d10         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                   case RESET:                                                              Z:\home\andres\u4a2\user\usr_led_rojo.c
003c42   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[0] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003c44   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003c46   ffe9                                                                                                               
003c48   0efe     MOVLW     0xfe                                                                                            
003c4a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003c4c   ffea                                                                                                               
003c4e   50ef     MOVF      0xef,0x0,0x0                                                                                    
003c50   6ee6     MOVWF     0xe6,0x0                                                                                        
003c52   c193     MOVFF     0x193,0xfe9                                                                                     
003c54   ffe9                                                                                                               
003c56   c194     MOVFF     0x194,0xfea                                                                                     
003c58   ffea                                                                                                               
003c5a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003c5c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003c5e   6eef     MOVWF     0xef,0x0                                                                                        
003c60   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[1] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003c62   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003c64   ffe9                                                                                                               
003c66   0efe     MOVLW     0xfe                                                                                            
003c68   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003c6a   ffea                                                                                                               
003c6c   0e01     MOVLW     0x1                                                                                             
003c6e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003c70   0e00     MOVLW     0x0                                                                                             
003c72   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c74   50ef     MOVF      0xef,0x0,0x0                                                                                    
003c76   6ee6     MOVWF     0xe6,0x0                                                                                        
003c78   c193     MOVFF     0x193,0xfe9                                                                                     
003c7a   ffe9                                                                                                               
003c7c   c194     MOVFF     0x194,0xfea                                                                                     
003c7e   ffea                                                                                                               
003c80   0e01     MOVLW     0x1                                                                                             
003c82   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003c84   0e00     MOVLW     0x0                                                                                             
003c86   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003c88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003c8a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003c8c   6eef     MOVWF     0xef,0x0                                                                                        
003c8e   00ff     RESET                    		Reset();                                                                       Z:\home\andres\u4a2\user\usr_led_rojo.c
003c90   0e02     MOVLW     0x2            		userLedRojoCounter = 0x02;                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
003c92   6ef3     MOVWF     0xf3,0x0                                                                                        
003c94   0e0a     MOVLW     0xa                                                                                             
003c96   cff3     MOVFF     0xff3,0xfdb                                                                                     
003c98   ffdb                                                                                                               
003c9a   d03a     BRA       0x3d10         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           	case MESS:                                                                      Z:\home\andres\u4a2\user\usr_led_rojo.c
003c9c   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[0] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003c9e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003ca0   ffe9                                                                                                               
003ca2   0efe     MOVLW     0xfe                                                                                            
003ca4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003ca6   ffea                                                                                                               
003ca8   50ef     MOVF      0xef,0x0,0x0                                                                                    
003caa   6ee6     MOVWF     0xe6,0x0                                                                                        
003cac   c193     MOVFF     0x193,0xfe9                                                                                     
003cae   ffe9                                                                                                               
003cb0   c194     MOVFF     0x194,0xfea                                                                                     
003cb2   ffea                                                                                                               
003cb4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003cb6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003cb8   6eef     MOVWF     0xef,0x0                                                                                        
003cba   0efd     MOVLW     0xfd           		((LED_ROJO_DATA_PACKET*)sendBufferUsrLedRojo)->_byte[1] = ((LED_ROJO_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_rojo.c
003cbc   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003cbe   ffe9                                                                                                               
003cc0   0efe     MOVLW     0xfe                                                                                            
003cc2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003cc4   ffea                                                                                                               
003cc6   0e01     MOVLW     0x1                                                                                             
003cc8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003cca   0e00     MOVLW     0x0                                                                                             
003ccc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003cce   50ef     MOVF      0xef,0x0,0x0                                                                                    
003cd0   6ee6     MOVWF     0xe6,0x0                                                                                        
003cd2   c193     MOVFF     0x193,0xfe9                                                                                     
003cd4   ffe9                                                                                                               
003cd6   c194     MOVFF     0x194,0xfea                                                                                     
003cd8   ffea                                                                                                               
003cda   0e01     MOVLW     0x1                                                                                             
003cdc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003cde   0e00     MOVLW     0x0                                                                                             
003ce0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003ce2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ce4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003ce6   6eef     MOVWF     0xef,0x0                                                                                        
003ce8   0e09     MOVLW     0x9            		sendMes(mens, sizeof(mens));                                                   Z:\home\andres\u4a2\user\usr_led_rojo.c
003cea   6ee6     MOVWF     0xe6,0x0                                                                                        
003cec   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003cee   0f01     ADDLW     0x1                                                                                             
003cf0   6ee6     MOVWF     0xe6,0x0                                                                                        
003cf2   0e00     MOVLW     0x0                                                                                             
003cf4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003cf6   6ee6     MOVWF     0xe6,0x0                                                                                        
003cf8   ec5c     CALL      0x10b8,0x0                                                                                      
003cfa   f008                                                                                                               
003cfc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003cfe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d00   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d02   0e02     MOVLW     0x2            		userLedRojoCounter = 0x02;                                                     Z:\home\andres\u4a2\user\usr_led_rojo.c
003d04   6ef3     MOVWF     0xf3,0x0                                                                                        
003d06   0e0a     MOVLW     0xa                                                                                             
003d08   cff3     MOVFF     0xff3,0xfdb                                                                                     
003d0a   ffdb                                                                                                               
003d0c   d001     BRA       0x3d10         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           	default:                                                                        Z:\home\andres\u4a2\user\usr_led_rojo.c
003d0e   d000     BRA       0x3d10         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
                                                 }//end switch(s)                                                           Z:\home\andres\u4a2\user\usr_led_rojo.c
003d10   0e0a     MOVLW     0xa                  if(userLedRojoCounter != 0)                                                Z:\home\andres\u4a2\user\usr_led_rojo.c
003d12   50db     MOVF      0xdb,0x0,0x0                                                                                    
003d14   e00c     BZ        0x3d2e                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
003d16   0104     MOVLB     0x4                      if(!mUSBGenTxIsBusy())                                                 Z:\home\andres\u4a2\user\usr_led_rojo.c
003d18   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
003d1a   d009     BRA       0x3d2e                                                                                          
003d1c   0e0a     MOVLW     0xa                          USBGenWrite2(usrLedRojoHandler, userLedRojoCounter);               Z:\home\andres\u4a2\user\usr_led_rojo.c
003d1e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003d20   ffe6                                                                                                               
003d22   c192     MOVFF     0x192,0xfe6                                                                                     
003d24   ffe6                                                                                                               
003d26   ec31     CALL      0x2662,0x0                                                                                      
003d28   f013                                                                                                               
003d2a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d2c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if  	  	                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
003d2e   0e0b     MOVLW     0xb            }//end UserSkelReceived                                                          Z:\home\andres\u4a2\user\usr_led_rojo.c
003d30   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003d32   e202     BC        0x3d38                                                                                          
003d34   6ae1     CLRF      0xe1,0x0                                                                                        
003d36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d38   6ee1     MOVWF     0xe1,0x0                                                                                        
003d3a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d3c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003d3e   ffd9                                                                                                               
003d40   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /** EOF usr_led_rojo.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_led_rojo.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *Santiago Reyes					       03/07/09    Original.                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *Andres Aguirre					       30/07/10    Interaccion con timmer y debugeo         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include "user\usr_led_verde.h"                                                  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           byte  usrLedVerdeHandler;	 // Handler number asigned to the module               Z:\home\andres\u4a2\user\usr_led_verde.c
                                           byte* sendBufferUsrLedVerde; // buffer to send data                              Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeProcessIO(void);                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeInit(byte i);                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeReceived(byte*, byte);                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeRelease(byte i);                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeConfigure(void);                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_led_verde.c
                                           uTab userLedVerdeModuleTable = {&UserLedVerdeInit,&UserLedVerdeRelease,&UserLedVerdeConfigure,"ledV"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Function:        UseLedVerdeInit(void)                                        Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
003d42   cfd9     MOVFF     0xfd9,0xfe6    void UserLedVerdeInit(byte i){                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
003d44   ffe6                                                                                                               
003d46   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003d48   ffd9                                                                                                               
003d4a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_led_verde.c
003d4c   0efe     MOVLW     0xfe           	usrLedVerdeHandler = i;                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
003d4e   cfdb     MOVFF     0xfdb,0x18f                                                                                     
003d50   f18f                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_led_verde.c
003d52   0eca     MOVLW     0xca           	setHandlerReceiveFunction(usrLedVerdeHandler,&UserLedVerdeReceived);            Z:\home\andres\u4a2\user\usr_led_verde.c
003d54   6ee6     MOVWF     0xe6,0x0                                                                                        
003d56   0e3d     MOVLW     0x3d                                                                                            
003d58   6ee6     MOVWF     0xe6,0x0                                                                                        
003d5a   c18f     MOVFF     0x18f,0xfe6                                                                                     
003d5c   ffe6                                                                                                               
003d5e   ec67     CALL      0x24ce,0x0                                                                                      
003d60   f012                                                                                                               
003d62   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d64   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           	//res = addPollingFunction(&UserLedVerdeProcessIO);                             Z:\home\andres\u4a2\user\usr_led_verde.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_led_verde.c
003d68   c18f     MOVFF     0x18f,0xfe6    	sendBufferUsrLedVerde = getSharedBuffer(usrLedVerdeHandler);                    Z:\home\andres\u4a2\user\usr_led_verde.c
003d6a   ffe6                                                                                                               
003d6c   ece4     CALL      0x29c8,0x0                                                                                      
003d6e   f014                                                                                                               
003d70   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d72   cff3     MOVFF     0xff3,0x190                                                                                     
003d74   f190                                                                                                               
003d76   cff4     MOVFF     0xff4,0x191                                                                                     
003d78   f191                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
003d7a   9293     BCF       0x93,0x1,0x0   	mInitLed2();                                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
003d7c   928a     BCF       0x8a,0x1,0x0                                                                                    
003d7e   52e5     MOVF      0xe5,0x1,0x0   }//end UserLedVerdeInit                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
003d80   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003d82   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003d84   ffd9                                                                                                               
003d86   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /* Function:        UserVerdeConfigure(void)                                     Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeConfigure(void){                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
003d88   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Function:        UserLedVerdeProcessIO(void)                                  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           void UserLedVerdeProcessIO(void){                                                Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
003d8a   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\usr_led_verde.c
003d8c   0101     MOVLB     0x1                                                                                             
003d8e   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\usr_led_verde.c
003d90   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Function:        UserLedVerdeRelease(byte i)                                  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
003d92   cfd9     MOVFF     0xfd9,0xfe6    void UserLedVerdeRelease(byte i){                                                Z:\home\andres\u4a2\user\usr_led_verde.c
003d94   ffe6                                                                                                               
003d96   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003d98   ffd9                                                                                                               
003d9a   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
003d9c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003d9e   ffe6                                                                                                               
003da0   ec63     CALL      0x24c6,0x0                                                                                      
003da2   f012                                                                                                               
003da4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003da6   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_led_verde.c
003da8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003daa   ffe6                                                                                                               
003dac   ec6a     CALL      0x24d4,0x0                                                                                      
003dae   f012                                                                                                               
003db0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003db2   0e8a     MOVLW     0x8a           	removePoolingFunction(&UserLedVerdeProcessIO);                                  Z:\home\andres\u4a2\user\usr_led_verde.c
003db4   6ee6     MOVWF     0xe6,0x0                                                                                        
003db6   0e3d     MOVLW     0x3d                                                                                            
003db8   6ee6     MOVWF     0xe6,0x0                                                                                        
003dba   ec6a     CALL      0x14d4,0x0                                                                                      
003dbc   f00a                                                                                                               
003dbe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003dc0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003dc2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\usr_led_verde.c
003dc4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003dc6   ffd9                                                                                                               
003dc8   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Function:        UserLedVerdeReceived(byte* recBuffPtr, byte len)             Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_led_verde.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_led_verde.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
003dca   cfd9     MOVFF     0xfd9,0xfe6    void UserLedVerdeReceived(byte* recBuffPtr, byte len){                           Z:\home\andres\u4a2\user\usr_led_verde.c
003dcc   ffe6                                                                                                               
003dce   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003dd0   ffd9                                                                                                               
003dd2   0e0b     MOVLW     0xb                                                                                             
003dd4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
003dd6   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "LDV is on";	                                                  Z:\home\andres\u4a2\user\usr_led_verde.c
003dd8   0f01     ADDLW     0x1                                                                                             
003dda   6ee9     MOVWF     0xe9,0x0                                                                                        
003ddc   cfda     MOVFF     0xfda,0xfea                                                                                     
003dde   ffea                                                                                                               
003de0   0e4c     MOVLW     0x4c                                                                                            
003de2   6eee     MOVWF     0xee,0x0                                                                                        
003de4   0e44     MOVLW     0x44                                                                                            
003de6   6eee     MOVWF     0xee,0x0                                                                                        
003de8   0e56     MOVLW     0x56                                                                                            
003dea   6eee     MOVWF     0xee,0x0                                                                                        
003dec   0e20     MOVLW     0x20                                                                                            
003dee   6eee     MOVWF     0xee,0x0                                                                                        
003df0   0e69     MOVLW     0x69                                                                                            
003df2   6eee     MOVWF     0xee,0x0                                                                                        
003df4   0e73     MOVLW     0x73                                                                                            
003df6   6eee     MOVWF     0xee,0x0                                                                                        
003df8   0e20     MOVLW     0x20                                                                                            
003dfa   6eee     MOVWF     0xee,0x0                                                                                        
003dfc   0e6f     MOVLW     0x6f                                                                                            
003dfe   6eee     MOVWF     0xee,0x0                                                                                        
003e00   0e6e     MOVLW     0x6e                                                                                            
003e02   6eee     MOVWF     0xee,0x0                                                                                        
003e04   0e0a     MOVLW     0xa                  byte userLedVerdeCounter = 0;                                              Z:\home\andres\u4a2\user\usr_led_verde.c
003e06   6adb     CLRF      0xdb,0x0                                                                                        
003e08   0efd     MOVLW     0xfd                 switch(((LED_VERDE_DATA_PACKET*)recBuffPtr)->CMD)                          Z:\home\andres\u4a2\user\usr_led_verde.c
003e0a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003e0c   ffe9                                                                                                               
003e0e   0efe     MOVLW     0xfe                                                                                            
003e10   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003e12   ffea                                                                                                               
003e14   50ef     MOVF      0xef,0x0,0x0                                                                                    
003e16   0a05     XORLW     0x5                                                                                             
003e18   e101     BNZ       0x3e1c                                                                                          
003e1a   d0d0     BRA       0x3fbc                                                                                          
003e1c   0afa     XORLW     0xfa                                                                                            
003e1e   e101     BNZ       0x3e22                                                                                          
003e20   d0a0     BRA       0x3f62                                                                                          
003e22   0afd     XORLW     0xfd                                                                                            
003e24   e071     BZ        0x3f08                                                                                          
003e26   0a03     XORLW     0x3                                                                                             
003e28   e042     BZ        0x3eae                                                                                          
003e2a   0a01     XORLW     0x1                                                                                             
003e2c   e001     BZ        0x3e30                                                                                          
003e2e   d0ff     BRA       0x402e                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                                   case READ_VERSION:                                                       Z:\home\andres\u4a2\user\usr_led_verde.c
                                           		//dataPacket._byte[1] is len                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
003e30   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[0] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_verde.c
003e32   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003e34   ffe9                                                                                                               
003e36   0efe     MOVLW     0xfe                                                                                            
003e38   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003e3a   ffea                                                                                                               
003e3c   50ef     MOVF      0xef,0x0,0x0                                                                                    
003e3e   6ee6     MOVWF     0xe6,0x0                                                                                        
003e40   c190     MOVFF     0x190,0xfe9                                                                                     
003e42   ffe9                                                                                                               
003e44   c191     MOVFF     0x191,0xfea                                                                                     
003e46   ffea                                                                                                               
003e48   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003e4a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003e4c   6eef     MOVWF     0xef,0x0                                                                                        
003e4e   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[1] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_verde.c
003e50   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003e52   ffe9                                                                                                               
003e54   0efe     MOVLW     0xfe                                                                                            
003e56   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003e58   ffea                                                                                                               
003e5a   0e01     MOVLW     0x1                                                                                             
003e5c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003e5e   0e00     MOVLW     0x0                                                                                             
003e60   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e62   50ef     MOVF      0xef,0x0,0x0                                                                                    
003e64   6ee6     MOVWF     0xe6,0x0                                                                                        
003e66   c190     MOVFF     0x190,0xfe9                                                                                     
003e68   ffe9                                                                                                               
003e6a   c191     MOVFF     0x191,0xfea                                                                                     
003e6c   ffea                                                                                                               
003e6e   0e01     MOVLW     0x1                                                                                             
003e70   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003e72   0e00     MOVLW     0x0                                                                                             
003e74   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003e78   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003e7a   6eef     MOVWF     0xef,0x0                                                                                        
003e7c   c190     MOVFF     0x190,0xfe9    		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[2] = LED_VERDE_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_led_verde.c
003e7e   ffe9                                                                                                               
003e80   c191     MOVFF     0x191,0xfea                                                                                     
003e82   ffea                                                                                                               
003e84   0e02     MOVLW     0x2                                                                                             
003e86   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003e88   0e00     MOVLW     0x0                                                                                             
003e8a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e8c   0e02     MOVLW     0x2                                                                                             
003e8e   6eef     MOVWF     0xef,0x0                                                                                        
003e90   c190     MOVFF     0x190,0xfe9    		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[3] = LED_VERDE_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_led_verde.c
003e92   ffe9                                                                                                               
003e94   c191     MOVFF     0x191,0xfea                                                                                     
003e96   ffea                                                                                                               
003e98   0e03     MOVLW     0x3                                                                                             
003e9a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003e9c   0e00     MOVLW     0x0                                                                                             
003e9e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003ea0   6aef     CLRF      0xef,0x0                                                                                        
003ea2   0e04     MOVLW     0x4            		userLedVerdeCounter = 0x04;                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
003ea4   6ef3     MOVWF     0xf3,0x0                                                                                        
003ea6   0e0a     MOVLW     0xa                                                                                             
003ea8   cff3     MOVFF     0xff3,0xfdb                                                                                     
003eaa   ffdb                                                                                                               
003eac   d0c1     BRA       0x4030         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                                   case PRENDER:                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
003eae   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[0] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_verde.c
003eb0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003eb2   ffe9                                                                                                               
003eb4   0efe     MOVLW     0xfe                                                                                            
003eb6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003eb8   ffea                                                                                                               
003eba   50ef     MOVF      0xef,0x0,0x0                                                                                    
003ebc   6ee6     MOVWF     0xe6,0x0                                                                                        
003ebe   c190     MOVFF     0x190,0xfe9                                                                                     
003ec0   ffe9                                                                                                               
003ec2   c191     MOVFF     0x191,0xfea                                                                                     
003ec4   ffea                                                                                                               
003ec6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ec8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003eca   6eef     MOVWF     0xef,0x0                                                                                        
003ecc   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[1] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_verde.c
003ece   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003ed0   ffe9                                                                                                               
003ed2   0efe     MOVLW     0xfe                                                                                            
003ed4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003ed6   ffea                                                                                                               
003ed8   0e01     MOVLW     0x1                                                                                             
003eda   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003edc   0e00     MOVLW     0x0                                                                                             
003ede   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003ee0   50ef     MOVF      0xef,0x0,0x0                                                                                    
003ee2   6ee6     MOVWF     0xe6,0x0                                                                                        
003ee4   c190     MOVFF     0x190,0xfe9                                                                                     
003ee6   ffe9                                                                                                               
003ee8   c191     MOVFF     0x191,0xfea                                                                                     
003eea   ffea                                                                                                               
003eec   0e01     MOVLW     0x1                                                                                             
003eee   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003ef0   0e00     MOVLW     0x0                                                                                             
003ef2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003ef4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ef6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003ef8   6eef     MOVWF     0xef,0x0                                                                                        
003efa   828a     BSF       0x8a,0x1,0x0   		mLED_2_On();                                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
003efc   0e02     MOVLW     0x2            		userLedVerdeCounter = 0x02;                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
003efe   6ef3     MOVWF     0xf3,0x0                                                                                        
003f00   0e0a     MOVLW     0xa                                                                                             
003f02   cff3     MOVFF     0xff3,0xfdb                                                                                     
003f04   ffdb                                                                                                               
003f06   d094     BRA       0x4030         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                           	case APAGAR:                                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
003f08   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[0] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_verde.c
003f0a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003f0c   ffe9                                                                                                               
003f0e   0efe     MOVLW     0xfe                                                                                            
003f10   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003f12   ffea                                                                                                               
003f14   50ef     MOVF      0xef,0x0,0x0                                                                                    
003f16   6ee6     MOVWF     0xe6,0x0                                                                                        
003f18   c190     MOVFF     0x190,0xfe9                                                                                     
003f1a   ffe9                                                                                                               
003f1c   c191     MOVFF     0x191,0xfea                                                                                     
003f1e   ffea                                                                                                               
003f20   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f22   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003f24   6eef     MOVWF     0xef,0x0                                                                                        
003f26   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[1] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_verde.c
003f28   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003f2a   ffe9                                                                                                               
003f2c   0efe     MOVLW     0xfe                                                                                            
003f2e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003f30   ffea                                                                                                               
003f32   0e01     MOVLW     0x1                                                                                             
003f34   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003f36   0e00     MOVLW     0x0                                                                                             
003f38   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003f3a   50ef     MOVF      0xef,0x0,0x0                                                                                    
003f3c   6ee6     MOVWF     0xe6,0x0                                                                                        
003f3e   c190     MOVFF     0x190,0xfe9                                                                                     
003f40   ffe9                                                                                                               
003f42   c191     MOVFF     0x191,0xfea                                                                                     
003f44   ffea                                                                                                               
003f46   0e01     MOVLW     0x1                                                                                             
003f48   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003f4a   0e00     MOVLW     0x0                                                                                             
003f4c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003f4e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f50   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003f52   6eef     MOVWF     0xef,0x0                                                                                        
003f54   928a     BCF       0x8a,0x1,0x0   		mLED_2_Off();                                                                  Z:\home\andres\u4a2\user\usr_led_verde.c
003f56   0e02     MOVLW     0x2            		userLedVerdeCounter = 0x02;                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
003f58   6ef3     MOVWF     0xf3,0x0                                                                                        
003f5a   0e0a     MOVLW     0xa                                                                                             
003f5c   cff3     MOVFF     0xff3,0xfdb                                                                                     
003f5e   ffdb                                                                                                               
003f60   d067     BRA       0x4030         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                                   case RESET:                                                              Z:\home\andres\u4a2\user\usr_led_verde.c
003f62   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[0] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_verde.c
003f64   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003f66   ffe9                                                                                                               
003f68   0efe     MOVLW     0xfe                                                                                            
003f6a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003f6c   ffea                                                                                                               
003f6e   50ef     MOVF      0xef,0x0,0x0                                                                                    
003f70   6ee6     MOVWF     0xe6,0x0                                                                                        
003f72   c190     MOVFF     0x190,0xfe9                                                                                     
003f74   ffe9                                                                                                               
003f76   c191     MOVFF     0x191,0xfea                                                                                     
003f78   ffea                                                                                                               
003f7a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003f7c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003f7e   6eef     MOVWF     0xef,0x0                                                                                        
003f80   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[1] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_verde.c
003f82   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003f84   ffe9                                                                                                               
003f86   0efe     MOVLW     0xfe                                                                                            
003f88   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003f8a   ffea                                                                                                               
003f8c   0e01     MOVLW     0x1                                                                                             
003f8e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003f90   0e00     MOVLW     0x0                                                                                             
003f92   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003f94   50ef     MOVF      0xef,0x0,0x0                                                                                    
003f96   6ee6     MOVWF     0xe6,0x0                                                                                        
003f98   c190     MOVFF     0x190,0xfe9                                                                                     
003f9a   ffe9                                                                                                               
003f9c   c191     MOVFF     0x191,0xfea                                                                                     
003f9e   ffea                                                                                                               
003fa0   0e01     MOVLW     0x1                                                                                             
003fa2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003fa4   0e00     MOVLW     0x0                                                                                             
003fa6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003fa8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003faa   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003fac   6eef     MOVWF     0xef,0x0                                                                                        
003fae   00ff     RESET                    		Reset();                                                                       Z:\home\andres\u4a2\user\usr_led_verde.c
003fb0   0e02     MOVLW     0x2            		userLedVerdeCounter = 0x02;                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
003fb2   6ef3     MOVWF     0xf3,0x0                                                                                        
003fb4   0e0a     MOVLW     0xa                                                                                             
003fb6   cff3     MOVFF     0xff3,0xfdb                                                                                     
003fb8   ffdb                                                                                                               
003fba   d03a     BRA       0x4030         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                           	case MESS:                                                                      Z:\home\andres\u4a2\user\usr_led_verde.c
003fbc   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[0] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_led_verde.c
003fbe   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003fc0   ffe9                                                                                                               
003fc2   0efe     MOVLW     0xfe                                                                                            
003fc4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003fc6   ffea                                                                                                               
003fc8   50ef     MOVF      0xef,0x0,0x0                                                                                    
003fca   6ee6     MOVWF     0xe6,0x0                                                                                        
003fcc   c190     MOVFF     0x190,0xfe9                                                                                     
003fce   ffe9                                                                                                               
003fd0   c191     MOVFF     0x191,0xfea                                                                                     
003fd2   ffea                                                                                                               
003fd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003fd6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
003fd8   6eef     MOVWF     0xef,0x0                                                                                        
003fda   0efd     MOVLW     0xfd           		((LED_VERDE_DATA_PACKET*)sendBufferUsrLedVerde)->_byte[1] = ((LED_VERDE_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_led_verde.c
003fdc   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
003fde   ffe9                                                                                                               
003fe0   0efe     MOVLW     0xfe                                                                                            
003fe2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
003fe4   ffea                                                                                                               
003fe6   0e01     MOVLW     0x1                                                                                             
003fe8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003fea   0e00     MOVLW     0x0                                                                                             
003fec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003fee   50ef     MOVF      0xef,0x0,0x0                                                                                    
003ff0   6ee6     MOVWF     0xe6,0x0                                                                                        
003ff2   c190     MOVFF     0x190,0xfe9                                                                                     
003ff4   ffe9                                                                                                               
003ff6   c191     MOVFF     0x191,0xfea                                                                                     
003ff8   ffea                                                                                                               
003ffa   0e01     MOVLW     0x1                                                                                             
003ffc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003ffe   0e00     MOVLW     0x0                                                                                             
004000   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004002   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004004   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004006   6eef     MOVWF     0xef,0x0                                                                                        
004008   0e09     MOVLW     0x9            		sendMes(mens, sizeof(mens));                                                   Z:\home\andres\u4a2\user\usr_led_verde.c
00400a   6ee6     MOVWF     0xe6,0x0                                                                                        
00400c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00400e   0f01     ADDLW     0x1                                                                                             
004010   6ee6     MOVWF     0xe6,0x0                                                                                        
004012   0e00     MOVLW     0x0                                                                                             
004014   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004016   6ee6     MOVWF     0xe6,0x0                                                                                        
004018   ec5c     CALL      0x10b8,0x0                                                                                      
00401a   f008                                                                                                               
00401c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00401e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004020   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004022   0e02     MOVLW     0x2            		userLedVerdeCounter = 0x02;                                                    Z:\home\andres\u4a2\user\usr_led_verde.c
004024   6ef3     MOVWF     0xf3,0x0                                                                                        
004026   0e0a     MOVLW     0xa                                                                                             
004028   cff3     MOVFF     0xff3,0xfdb                                                                                     
00402a   ffdb                                                                                                               
00402c   d001     BRA       0x4030         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                           	default:                                                                        Z:\home\andres\u4a2\user\usr_led_verde.c
00402e   d000     BRA       0x4030         	break;                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
                                                 }//end switch(s)                                                           Z:\home\andres\u4a2\user\usr_led_verde.c
004030   0e0a     MOVLW     0xa                  if(userLedVerdeCounter != 0)                                               Z:\home\andres\u4a2\user\usr_led_verde.c
004032   50db     MOVF      0xdb,0x0,0x0                                                                                    
004034   e00c     BZ        0x404e                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_led_verde.c
004036   0104     MOVLB     0x4                      if(!mUSBGenTxIsBusy())                                                 Z:\home\andres\u4a2\user\usr_led_verde.c
004038   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
00403a   d009     BRA       0x404e                                                                                          
00403c   0e0a     MOVLW     0xa                          USBGenWrite2(usrLedVerdeHandler, userLedVerdeCounter);             Z:\home\andres\u4a2\user\usr_led_verde.c
00403e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004040   ffe6                                                                                                               
004042   c18f     MOVFF     0x18f,0xfe6                                                                                     
004044   ffe6                                                                                                               
004046   ec31     CALL      0x2662,0x0                                                                                      
004048   f013                                                                                                               
00404a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00404c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if  	  	                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
00404e   0e0b     MOVLW     0xb            }//end UserVerdeReceived                                                         Z:\home\andres\u4a2\user\usr_led_verde.c
004050   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004052   e202     BC        0x4058                                                                                          
004054   6ae1     CLRF      0xe1,0x0                                                                                        
004056   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004058   6ee1     MOVWF     0xe1,0x0                                                                                        
00405a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00405c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00405e   ffd9                                                                                                               
004060   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /** EOF usr_led_verde.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_led_verde.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\usr_puerta.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\usr_puerta.c
                                            *Santiago Reyes					       03/07/09    Original.                                Z:\home\andres\u4a2\user\usr_puerta.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include <delays.h>                                                              Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include "user\usr_puerta.h"                                                     Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_puerta.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           byte  usrPuertaHandler;	 // Handler number asigned to the module                 Z:\home\andres\u4a2\user\usr_puerta.c
                                           byte* sendBufferUsrPuerta; // buffer to send data                                Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaProcessIO(void);                                                  Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaInit(byte i);                                                     Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaReceived(byte*, byte);                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaRelease(byte i);                                                  Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaConfigure(void);                                                  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_puerta.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_puerta.c
                                           uTab userPuertaModuleTable = {&UserPuertaInit,&UserPuertaRelease,&UserPuertaConfigure,"puerta"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\usr_puerta.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Function:        UsePuertaInit(void)                                          Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_puerta.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
004062   cfd9     MOVFF     0xfd9,0xfe6    void UserPuertaInit(byte i){                                                     Z:\home\andres\u4a2\user\usr_puerta.c
004064   ffe6                                                                                                               
004066   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004068   ffd9                                                                                                               
00406a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_puerta.c
00406c   0efe     MOVLW     0xfe           	usrPuertaHandler = i;                                                           Z:\home\andres\u4a2\user\usr_puerta.c
00406e   cfdb     MOVFF     0xfdb,0x18c                                                                                     
004070   f18c                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_puerta.c
004072   0eea     MOVLW     0xea           	setHandlerReceiveFunction(usrPuertaHandler,&UserPuertaReceived);                Z:\home\andres\u4a2\user\usr_puerta.c
004074   6ee6     MOVWF     0xe6,0x0                                                                                        
004076   0e40     MOVLW     0x40                                                                                            
004078   6ee6     MOVWF     0xe6,0x0                                                                                        
00407a   c18c     MOVFF     0x18c,0xfe6                                                                                     
00407c   ffe6                                                                                                               
00407e   ec67     CALL      0x24ce,0x0                                                                                      
004080   f012                                                                                                               
004082   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004084   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004086   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_puerta.c
                                           	//res = addPollingFunction(&UserPuertaProcessIO);                               Z:\home\andres\u4a2\user\usr_puerta.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_puerta.c
004088   c18c     MOVFF     0x18c,0xfe6    	sendBufferUsrPuerta = getSharedBuffer(usrPuertaHandler);                        Z:\home\andres\u4a2\user\usr_puerta.c
00408a   ffe6                                                                                                               
00408c   ece4     CALL      0x29c8,0x0                                                                                      
00408e   f014                                                                                                               
004090   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004092   cff3     MOVFF     0xff3,0x18d                                                                                     
004094   f18d                                                                                                               
004096   cff4     MOVFF     0xff4,0x18e                                                                                     
004098   f18e                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\usr_puerta.c
00409a   9e93     BCF       0x93,0x7,0x0   	mInitPuerta();                                                                  Z:\home\andres\u4a2\user\usr_puerta.c
00409c   9e8a     BCF       0x8a,0x7,0x0   	puerta_off();                                                                   Z:\home\andres\u4a2\user\usr_puerta.c
00409e   52e5     MOVF      0xe5,0x1,0x0   }//end UserPuertaInit                                                            Z:\home\andres\u4a2\user\usr_puerta.c
0040a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040a2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0040a4   ffd9                                                                                                               
0040a6   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_puerta.c
                                           /* Function:        UserPuertaConfigure(void)                                    Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_puerta.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaConfigure(void){                                                  Z:\home\andres\u4a2\user\usr_puerta.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_puerta.c
0040a8   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Function:        UserPuertaProcessIO(void)                                    Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\usr_puerta.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           void UserPuertaProcessIO(void){                                                  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
0040aa   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\usr_puerta.c
0040ac   0101     MOVLB     0x1                                                                                             
0040ae   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\usr_puerta.c
0040b0   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Function:        UserPuertaRelease(byte i)                                    Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_puerta.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
0040b2   cfd9     MOVFF     0xfd9,0xfe6    void UserPuertaRelease(byte i){                                                  Z:\home\andres\u4a2\user\usr_puerta.c
0040b4   ffe6                                                                                                               
0040b6   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0040b8   ffd9                                                                                                               
0040ba   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_puerta.c
0040bc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0040be   ffe6                                                                                                               
0040c0   ec63     CALL      0x24c6,0x0                                                                                      
0040c2   f012                                                                                                               
0040c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040c6   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_puerta.c
0040c8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0040ca   ffe6                                                                                                               
0040cc   ec6a     CALL      0x24d4,0x0                                                                                      
0040ce   f012                                                                                                               
0040d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040d2   0eaa     MOVLW     0xaa           	removePoolingFunction(&UserPuertaProcessIO);                                    Z:\home\andres\u4a2\user\usr_puerta.c
0040d4   6ee6     MOVWF     0xe6,0x0                                                                                        
0040d6   0e40     MOVLW     0x40                                                                                            
0040d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0040da   ec6a     CALL      0x14d4,0x0                                                                                      
0040dc   f00a                                                                                                               
0040de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040e2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\usr_puerta.c
0040e4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0040e6   ffd9                                                                                                               
0040e8   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Function:        UserPuertaReceived(byte* recBuffPtr, byte len)               Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_puerta.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_puerta.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
0040ea   cfd9     MOVFF     0xfd9,0xfe6    void UserPuertaReceived(byte* recBuffPtr, byte len){                             Z:\home\andres\u4a2\user\usr_puerta.c
0040ec   ffe6                                                                                                               
0040ee   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0040f0   ffd9                                                                                                               
0040f2   0e0b     MOVLW     0xb                                                                                             
0040f4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\usr_puerta.c
0040f6   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "puerta";	                                                     Z:\home\andres\u4a2\user\usr_puerta.c
0040f8   0f01     ADDLW     0x1                                                                                             
0040fa   6ee9     MOVWF     0xe9,0x0                                                                                        
0040fc   cfda     MOVFF     0xfda,0xfea                                                                                     
0040fe   ffea                                                                                                               
004100   0e70     MOVLW     0x70                                                                                            
004102   6eee     MOVWF     0xee,0x0                                                                                        
004104   0e75     MOVLW     0x75                                                                                            
004106   6eee     MOVWF     0xee,0x0                                                                                        
004108   0e65     MOVLW     0x65                                                                                            
00410a   6eee     MOVWF     0xee,0x0                                                                                        
00410c   0e72     MOVLW     0x72                                                                                            
00410e   6eee     MOVWF     0xee,0x0                                                                                        
004110   0e74     MOVLW     0x74                                                                                            
004112   6eee     MOVWF     0xee,0x0                                                                                        
004114   0e61     MOVLW     0x61                                                                                            
004116   6eee     MOVWF     0xee,0x0                                                                                        
004118   6aee     CLRF      0xee,0x0                                                                                        
00411a   6aee     CLRF      0xee,0x0                                                                                        
00411c   6aee     CLRF      0xee,0x0                                                                                        
00411e   0e0a     MOVLW     0xa                  byte userPuertaCounter = 0;                                                Z:\home\andres\u4a2\user\usr_puerta.c
004120   6adb     CLRF      0xdb,0x0                                                                                        
004122   0efd     MOVLW     0xfd                 switch(((PUERTA_DATA_PACKET*)recBuffPtr)->CMD)                             Z:\home\andres\u4a2\user\usr_puerta.c
004124   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004126   ffe9                                                                                                               
004128   0efe     MOVLW     0xfe                                                                                            
00412a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00412c   ffea                                                                                                               
00412e   50ef     MOVF      0xef,0x0,0x0                                                                                    
004130   0a05     XORLW     0x5                                                                                             
004132   e052     BZ        0x41d8                                                                                          
004134   0afa     XORLW     0xfa                                                                                            
004136   e04e     BZ        0x41d4                                                                                          
004138   0afe     XORLW     0xfe                                                                                            
00413a   e042     BZ        0x41c0                                                                                          
00413c   0a01     XORLW     0x1                                                                                             
00413e   e001     BZ        0x4142                                                                                          
004140   d059     BRA       0x41f4                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_puerta.c
                                                   case READ_VERSION:                                                       Z:\home\andres\u4a2\user\usr_puerta.c
                                                         //dataPacket._byte[1] is len                                       Z:\home\andres\u4a2\user\usr_puerta.c
004142   0efd     MOVLW     0xfd           			  ((PUERTA_DATA_PACKET*)sendBufferUsrPuerta)->_byte[0] = ((PUERTA_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_puerta.c
004144   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004146   ffe9                                                                                                               
004148   0efe     MOVLW     0xfe                                                                                            
00414a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00414c   ffea                                                                                                               
00414e   50ef     MOVF      0xef,0x0,0x0                                                                                    
004150   6ee6     MOVWF     0xe6,0x0                                                                                        
004152   c18d     MOVFF     0x18d,0xfe9                                                                                     
004154   ffe9                                                                                                               
004156   c18e     MOVFF     0x18e,0xfea                                                                                     
004158   ffea                                                                                                               
00415a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00415c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00415e   6eef     MOVWF     0xef,0x0                                                                                        
004160   0efd     MOVLW     0xfd           			  ((PUERTA_DATA_PACKET*)sendBufferUsrPuerta)->_byte[1] = ((PUERTA_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_puerta.c
004162   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004164   ffe9                                                                                                               
004166   0efe     MOVLW     0xfe                                                                                            
004168   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00416a   ffea                                                                                                               
00416c   0e01     MOVLW     0x1                                                                                             
00416e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004170   0e00     MOVLW     0x0                                                                                             
004172   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004174   50ef     MOVF      0xef,0x0,0x0                                                                                    
004176   6ee6     MOVWF     0xe6,0x0                                                                                        
004178   c18d     MOVFF     0x18d,0xfe9                                                                                     
00417a   ffe9                                                                                                               
00417c   c18e     MOVFF     0x18e,0xfea                                                                                     
00417e   ffea                                                                                                               
004180   0e01     MOVLW     0x1                                                                                             
004182   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004184   0e00     MOVLW     0x0                                                                                             
004186   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004188   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00418a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00418c   6eef     MOVWF     0xef,0x0                                                                                        
00418e   c18d     MOVFF     0x18d,0xfe9                  ((PUERTA_DATA_PACKET*)sendBufferUsrPuerta)->_byte[2] = PUERTA_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_puerta.c
004190   ffe9                                                                                                               
004192   c18e     MOVFF     0x18e,0xfea                                                                                     
004194   ffea                                                                                                               
004196   0e02     MOVLW     0x2                                                                                             
004198   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00419a   0e00     MOVLW     0x0                                                                                             
00419c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00419e   0e02     MOVLW     0x2                                                                                             
0041a0   6eef     MOVWF     0xef,0x0                                                                                        
0041a2   c18d     MOVFF     0x18d,0xfe9                  ((PUERTA_DATA_PACKET*)sendBufferUsrPuerta)->_byte[3] = PUERTA_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_puerta.c
0041a4   ffe9                                                                                                               
0041a6   c18e     MOVFF     0x18e,0xfea                                                                                     
0041a8   ffea                                                                                                               
0041aa   0e03     MOVLW     0x3                                                                                             
0041ac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0041ae   0e00     MOVLW     0x0                                                                                             
0041b0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0041b2   6aef     CLRF      0xef,0x0                                                                                        
0041b4   0e04     MOVLW     0x4                          userPuertaCounter = 0x04;                                          Z:\home\andres\u4a2\user\usr_puerta.c
0041b6   6ef3     MOVWF     0xf3,0x0                                                                                        
0041b8   0e0a     MOVLW     0xa                                                                                             
0041ba   cff3     MOVFF     0xff3,0xfdb                                                                                     
0041bc   ffdb                                                                                                               
0041be   d01b     BRA       0x41f6                       break;                                                             Z:\home\andres\u4a2\user\usr_puerta.c
                                           	                                                                                Z:\home\andres\u4a2\user\usr_puerta.c
                                                   case ABRIR:                                                              Z:\home\andres\u4a2\user\usr_puerta.c
0041c0   8e8a     BSF       0x8a,0x7,0x0                 		puerta_on();                                                     Z:\home\andres\u4a2\user\usr_puerta.c
0041c2   0e96     MOVLW     0x96           					Delay10KTCYx(150);                                                          Z:\home\andres\u4a2\user\usr_puerta.c
0041c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0041c6   ec11     CALL      0x2c22,0x0                                                                                      
0041c8   f016                                                                                                               
0041ca   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041cc   9e8a     BCF       0x8a,0x7,0x0   					puerta_off();                                                               Z:\home\andres\u4a2\user\usr_puerta.c
0041ce   0e0a     MOVLW     0xa            					userPuertaCounter = 0x00;                                                   Z:\home\andres\u4a2\user\usr_puerta.c
0041d0   6adb     CLRF      0xdb,0x0                                                                                        
0041d2   d011     BRA       0x41f6         			   break;                                                                     Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           	  case RESET:                                                                   Z:\home\andres\u4a2\user\usr_puerta.c
0041d4   00ff     RESET                                  Reset();                                                           Z:\home\andres\u4a2\user\usr_puerta.c
0041d6   d00f     BRA       0x41f6         			  break;                                                                      Z:\home\andres\u4a2\user\usr_puerta.c
                                           		                                                                               Z:\home\andres\u4a2\user\usr_puerta.c
                                           		 case MESS:                                                                    Z:\home\andres\u4a2\user\usr_puerta.c
0041d8   0e09     MOVLW     0x9            				sendMes(mens, sizeof(mens));                                                 Z:\home\andres\u4a2\user\usr_puerta.c
0041da   6ee6     MOVWF     0xe6,0x0                                                                                        
0041dc   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0041de   0f01     ADDLW     0x1                                                                                             
0041e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0041e2   0e00     MOVLW     0x0                                                                                             
0041e4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0041e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0041e8   ec5c     CALL      0x10b8,0x0                                                                                      
0041ea   f008                                                                                                               
0041ec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041f2   d001     BRA       0x41f6                       break;                                                             Z:\home\andres\u4a2\user\usr_puerta.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           		 default:                                                                      Z:\home\andres\u4a2\user\usr_puerta.c
0041f4   d000     BRA       0x41f6                       break;                                                             Z:\home\andres\u4a2\user\usr_puerta.c
                                                 }//end switch(s)                                                           Z:\home\andres\u4a2\user\usr_puerta.c
0041f6   0e0a     MOVLW     0xa                  if(userPuertaCounter != 0)                                                 Z:\home\andres\u4a2\user\usr_puerta.c
0041f8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0041fa   e00c     BZ        0x4214                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_puerta.c
0041fc   0104     MOVLB     0x4                      if(!mUSBGenTxIsBusy())                                                 Z:\home\andres\u4a2\user\usr_puerta.c
0041fe   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
004200   d009     BRA       0x4214                                                                                          
004202   0e0a     MOVLW     0xa                          USBGenWrite2(usrPuertaHandler, userPuertaCounter);                 Z:\home\andres\u4a2\user\usr_puerta.c
004204   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004206   ffe6                                                                                                               
004208   c18c     MOVFF     0x18c,0xfe6                                                                                     
00420a   ffe6                                                                                                               
00420c   ec31     CALL      0x2662,0x0                                                                                      
00420e   f013                                                                                                               
004210   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004212   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if  	  	                                                            Z:\home\andres\u4a2\user\usr_puerta.c
004214   0e0b     MOVLW     0xb            }//end UserPuertaReceived                                                        Z:\home\andres\u4a2\user\usr_puerta.c
004216   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004218   e202     BC        0x421e                                                                                          
00421a   6ae1     CLRF      0xe1,0x0                                                                                        
00421c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00421e   6ee1     MOVWF     0xe1,0x0                                                                                        
004220   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004222   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004224   ffd9                                                                                                               
004226   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_puerta.c
                                           /** EOF usr_puerta.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_puerta.c
                                           /*                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	jvisca@fing.edu.uy                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           */                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include "system\typedefs.h"                        // Required                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include "system\usb\usb.h"                         // Required                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include "io_cfg.h"                                 // Required                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //#include "usb4all\dynamicISR\dynamicISR.h"                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include "usb4all\dynamicISR\dynamicISR.h"                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include "t0Service.h"                              // Modifiable                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //#include "user\user.h"                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //#include "user\handlerManager.h"                              // Modifiable    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #define NULL 0                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #define TMR0 (unsigned int)(TMR0L | (unsigned int)(TMR0H)<<8)                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //This struct contains a registration                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           typedef struct  {                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	unsigned int timestamp;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	void (*callback)(void);                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           } Entry;                                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //storage for the registrations                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           volatile Entry queue[MAX_T0CALLS];                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //sliding circular window                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           volatile byte first = 0;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           volatile byte next = 0;                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           void interrupt_handler(void);                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           #pragma code sys                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /////////////////////////////////////////////////////////////////                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //index of the next entry in the array                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001fd6   d9ca     RCALL     0x236c         byte next_entry(byte n) {                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001fd8   0efe     MOVLW     0xfe           	n++;                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001fda   2adb     INCF      0xdb,0x1,0x0                                                                                    
001fdc   50db     MOVF      0xdb,0x0,0x0   	if (n==MAX_T0CALLS) n=0;                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001fde   080a     SUBLW     0xa                                                                                             
001fe0   e102     BNZ       0x1fe6                                                                                          
001fe2   0efe     MOVLW     0xfe                                                                                            
001fe4   6adb     CLRF      0xdb,0x0                                                                                        
001fe6   0efe     MOVLW     0xfe           	return n;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001fe8   50db     MOVF      0xdb,0x0,0x0                                                                                    
001fea   d1c5     BRA       0x2376         }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //index of the previous entry in the array                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001fec   d9bf     RCALL     0x236c         byte prev_entry(byte n) {                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00236c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00236e   ffe6                                                                                                               
002370   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002372   ffd9                                                                                                               
002374   0012     RETURN    0x0                                                                                             
001fee   0efe     MOVLW     0xfe           	if (n==0) n=MAX_T0CALLS;                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
001ff0   50db     MOVF      0xdb,0x0,0x0                                                                                    
001ff2   e105     BNZ       0x1ffe                                                                                          
001ff4   0e0a     MOVLW     0xa                                                                                             
001ff6   6ef3     MOVWF     0xf3,0x0                                                                                        
001ff8   0efe     MOVLW     0xfe                                                                                            
001ffa   cff3     MOVFF     0xff3,0xfdb                                                                                     
001ffc   ffdb                                                                                                               
001ffe   0efe     MOVLW     0xfe           	n--;                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002000   06db     DECF      0xdb,0x1,0x0                                                                                    
002002   50db     MOVF      0xdb,0x0,0x0   	return n;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002004   d1b8     BRA       0x2376         }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //wether the queue is empty                                                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           byte is_empty(void) {                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002006   0101     MOVLB     0x1            	return (first == next);                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002008   51a2     MOVF      0xa2,0x0,0x1                                                                                    
00200a   5da1     SUBWF     0xa1,0x0,0x1                                                                                    
00200c   e001     BZ        0x2010                                                                                          
00200e   0c00     RETLW     0x0                                                                                             
002010   0c01     RETLW     0x1            }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //index of the first entry in the queue, or NULL if empty                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           Entry *get_first(void) {                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002012   dff9     RCALL     0x2006         	if (is_empty()) {                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002014   0900     IORLW     0x0                                                                                             
002016   e003     BZ        0x201e                                                                                          
002018   6af3     CLRF      0xf3,0x0       		return NULL;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00201a   6af4     CLRF      0xf4,0x0                                                                                        
00201c   0012     RETURN    0x0                                                                                             
                                           	} else {                                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00201e   0101     MOVLB     0x1            		return &(queue[first]);                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002020   51a1     MOVF      0xa1,0x0,0x1                                                                                    
002022   d9ce     RCALL     0x23c0                                                                                          
002024   c00b     MOVFF     0xb,0xff3                                                                                       
002026   fff3                                                                                                               
002028   c00c     MOVFF     0xc,0xff4                                                                                       
00202a   fff4                                                                                                               
0023c0   0d04     MULLW     0x4                                                                                             
0023c2   cff3     MOVFF     0xff3,0xb                                                                                       
0023c4   f00b                                                                                                               
0023c6   cff4     MOVFF     0xff4,0xc                                                                                       
0023c8   f00c                                                                                                               
0023ca   0e00     MOVLW     0x0                                                                                             
0023cc   260b     ADDWF     0xb,0x1,0x0                                                                                     
0023ce   0e01     MOVLW     0x1                                                                                             
0023d0   220c     ADDWFC    0xc,0x1,0x0                                                                                     
0023d2   0012     RETURN    0x0                                                                                             
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00202c   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //Removes the first entrye in the queue (doesn't check for empty)                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           void pop_first(void) {                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00202e   c1a1     MOVFF     0x1a1,0xfe6    	first=next_entry(first);                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002030   ffe6                                                                                                               
002032   dfd1     RCALL     0x1fd6                                                                                          
002034   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002036   0101     MOVLB     0x1                                                                                             
002038   6fa1     MOVWF     0xa1,0x1                                                                                        
00203a   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //Adds a element to the end of the queue, and returns a pointer to it            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //(or NULL, if the queue was full)                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00203c   d997     RCALL     0x236c         Entry *push_end(void) {                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00203e   0e03     MOVLW     0x3                                                                                             
002040   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
002042   c1a2     MOVFF     0x1a2,0xfe6    	byte next1=next_entry(next);                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002044   ffe6                                                                                                               
002046   dfc7     RCALL     0x1fd6                                                                                          
002048   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00204a   6edf     MOVWF     0xdf,0x0                                                                                        
00204c   0101     MOVLB     0x1            	Entry *entry=&(queue[next]);                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00204e   51a2     MOVF      0xa2,0x0,0x1                                                                                    
002050   d9b7     RCALL     0x23c0                                                                                          
002052   0e01     MOVLW     0x1                                                                                             
002054   c00b     MOVFF     0xb,0xfdb                                                                                       
002056   ffdb                                                                                                               
002058   0e02     MOVLW     0x2                                                                                             
00205a   c00c     MOVFF     0xc,0xfdb                                                                                       
00205c   ffdb                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00205e   51a1     MOVF      0xa1,0x0,0x1   	if (next1==first) return NULL; //buffer full                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002060   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
002062   e103     BNZ       0x206a                                                                                          
002064   6af3     CLRF      0xf3,0x0                                                                                        
002066   6af4     CLRF      0xf4,0x0                                                                                        
002068   d00c     BRA       0x2082                                                                                          
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00206a   cfdf     MOVFF     0xfdf,0x1a2    	next=next1;                                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00206c   f1a2                                                                                                               
00206e   0e01     MOVLW     0x1            	return entry;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002070   cfdb     MOVFF     0xfdb,0xb                                                                                       
002072   f00b                                                                                                               
002074   0e02     MOVLW     0x2                                                                                             
002076   cfdb     MOVFF     0xfdb,0xc                                                                                       
002078   f00c                                                                                                               
00207a   c00b     MOVFF     0xb,0xff3                                                                                       
00207c   fff3                                                                                                               
00207e   c00c     MOVFF     0xc,0xff4                                                                                       
002080   fff4                                                                                                               
002082   0e03     MOVLW     0x3            }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002084   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002086   e202     BC        0x208c                                                                                          
002088   6ae1     CLRF      0xe1,0x0                                                                                        
00208a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00208c   6ee1     MOVWF     0xe1,0x0                                                                                        
00208e   d173     BRA       0x2376                                                                                          
                                           /////////////////////////////////////////////////////////////////                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //initializes the service                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002090   d96d     RCALL     0x236c         void initT0Service(void){                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002092   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	byte i;                                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //mLED_2_On();                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002094   6adf     CLRF      0xdf,0x0       	for (i=0; i<MAX_T0CALLS;i++){                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002096   0e0a     MOVLW     0xa                                                                                             
002098   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00209a   e209     BC        0x20ae                                                                                          
0020aa   2adf     INCF      0xdf,0x1,0x0                                                                                    
0020ac   d7f4     BRA       0x2096                                                                                          
00209c   50df     MOVF      0xdf,0x0,0x0   		queue[i].timestamp = 0;                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00209e   d91e     RCALL     0x22dc                                                                                          
0020a0   6aee     CLRF      0xee,0x0                                                                                        
0020a2   6aed     CLRF      0xed,0x0                                                                                        
0020a4   50df     MOVF      0xdf,0x0,0x0   		queue[i].callback = 0;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020a6   d91a     RCALL     0x22dc                                                                                          
0020a8   d995     RCALL     0x23d4                                                                                          
0023d4   d854     RCALL     0x247e                                                                                          
0023d6   6aee     CLRF      0xee,0x0                                                                                        
0023d8   6aed     CLRF      0xed,0x0                                                                                        
0023da   0012     RETURN    0x0                                                                                             
00247e   0e02     MOVLW     0x2                                                                                             
002480   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
002482   0e00     MOVLW     0x0                                                                                             
002484   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
002486   0012     RETURN    0x0                                                                                             
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//optional clock optimization (see T0Service.h)                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	#ifdef DEFAULT_CLOCK_CONFIG                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020ae   0e07     MOVLW     0x7            	T0CON = DEFAULT_CLOCK_CONFIG;                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020b0   6ed5     MOVWF     0xd5,0x0                                                                                        
                                           	#endif                                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//register the ISR interrupt handler (we're waiting for clock interrupts)       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020b2   0e36     MOVLW     0x36           	addISRFunction(&interrupt_handler);                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020b4   6ee6     MOVWF     0xe6,0x0                                                                                        
0020b6   0e22     MOVLW     0x22                                                                                            
0020b8   6ee6     MOVWF     0xe6,0x0                                                                                        
0020ba   ec09     CALL      0x1e12,0x0                                                                                      
0020bc   f00f                                                                                                               
0020be   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0020c0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0020c2   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020c4   d158     BRA       0x2376                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /*                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	Registers a new event callback, to be called t time units in the future.        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	This function must not be called from a callback handler.                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           */                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020c6   d952     RCALL     0x236c         BOOL registerT0event(unsigned int t, void (*callback)(void)) {                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020c8   0e0c     MOVLW     0xc                                                                                             
0020ca   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	unsigned int timestamp;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	unsigned int currtime;                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	byte pos;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	byte prevpos;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	Entry *entry;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//stop clock.                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//TODO este servicio atrasa cada vez que se registra o procesa un evento.       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020cc   9ed5     BCF       0xd5,0x7,0x0   	T0CONbits.TMR0ON  = FALSE;                                                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//we will calculate                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020ce   df9b     RCALL     0x2006         	if (is_empty()) {                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020d0   0900     IORLW     0x0                                                                                             
0020d2   e128     BNZ       0x2124                                                                                          
                                            		// first in queue, nobody counting                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		timestamp=t;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	} else {                                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//there's someone counting, must count from "now".                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//(0xFFFF-TMR0) is the remaining time in clock to queue[first] event.          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020d4   50d7     MOVF      0xd7,0x0,0x0   		currtime  = queue[first].timestamp - (0xFFFF-TMR0);                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0020d6   6e10     MOVWF     0x10,0x0                                                                                        
0020d8   6a0f     CLRF      0xf,0x0                                                                                         
0020da   50d6     MOVF      0xd6,0x0,0x0                                                                                    
0020dc   100f     IORWF     0xf,0x0,0x0                                                                                     
0020de   6e0d     MOVWF     0xd,0x0                                                                                         
0020e0   c010     MOVFF     0x10,0xe                                                                                        
0020e2   f00e                                                                                                               
0020e4   0eff     MOVLW     0xff                                                                                            
0020e6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0020e8   560d     SUBFWB    0xd,0x1,0x0                                                                                     
0020ea   560e     SUBFWB    0xe,0x1,0x0                                                                                     
0020ec   0101     MOVLB     0x1                                                                                             
0020ee   51a1     MOVF      0xa1,0x0,0x1                                                                                    
0020f0   d8f5     RCALL     0x22dc                                                                                          
0020f2   500d     MOVF      0xd,0x0,0x0                                                                                     
0020f4   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0020f6   6e0b     MOVWF     0xb,0x0                                                                                         
0020f8   500e     MOVF      0xe,0x0,0x0                                                                                     
0020fa   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0020fc   6e0c     MOVWF     0xc,0x0                                                                                         
0020fe   0e02     MOVLW     0x2                                                                                             
002100   c00b     MOVFF     0xb,0xfdb                                                                                       
002102   ffdb                                                                                                               
002104   0e03     MOVLW     0x3                                                                                             
002106   c00c     MOVFF     0xc,0xfdb                                                                                       
002108   ffdb                                                                                                               
00210a   d947     RCALL     0x239a         		timestamp = currtime + t;                                                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00210c   6e0c     MOVWF     0xc,0x0                                                                                         
00210e   d91f     RCALL     0x234e                                                                                          
00234e   c00b     MOVFF     0xb,0xfde                                                                                       
002350   ffde                                                                                                               
002352   6edd     MOVWF     0xdd,0x0                                                                                        
00239a   0efd     MOVLW     0xfd                                                                                            
00239c   cfdb     MOVFF     0xfdb,0xd                                                                                       
00239e   f00d                                                                                                               
0023a0   0efe     MOVLW     0xfe                                                                                            
0023a2   cfdb     MOVFF     0xfdb,0xe                                                                                       
0023a4   f00e                                                                                                               
0023a6   0e02     MOVLW     0x2                                                                                             
0023a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0023aa   240d     ADDWF     0xd,0x0,0x0                                                                                     
0023ac   6e0b     MOVWF     0xb,0x0                                                                                         
0023ae   0e03     MOVLW     0x3                                                                                             
0023b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0023b2   200e     ADDWFC    0xe,0x0,0x0                                                                                     
0023b4   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//As we advance the clock marks, we will finally reach the max int. Then we must reduce  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//all the marks down.                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002110   e20e     BC        0x212e         		if (timestamp < currtime) { // overflow!                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002354   d8a8     RCALL     0x24a6                                                                                          
002356   0e02     MOVLW     0x2                                                                                             
002358   cfdb     MOVFF     0xfdb,0xd                                                                                       
00235a   f00d                                                                                                               
00235c   0e03     MOVLW     0x3                                                                                             
00235e   cfdb     MOVFF     0xfdb,0xe                                                                                       
002360   f00e                                                                                                               
002362   500d     MOVF      0xd,0x0,0x0                                                                                     
002364   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
002366   500e     MOVF      0xe,0x0,0x0                                                                                     
002368   580c     SUBWFB    0xc,0x0,0x0                                                                                     
00236a   0012     RETURN    0x0                                                                                             
0024a6   cfde     MOVFF     0xfde,0xb                                                                                       
0024a8   f00b                                                                                                               
0024aa   cfdd     MOVFF     0xfdd,0xc                                                                                       
0024ac   f00c                                                                                                               
0024ae   0012     RETURN    0x0                                                                                             
002112   0e04     MOVLW     0x4            			pos=first;                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002114   c1a1     MOVFF     0x1a1,0xfdb                                                                                     
002116   ffdb                                                                                                               
002118   50db     MOVF      0xdb,0x0,0x0   			while (pos!=next) {                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00211a   0101     MOVLB     0x1                                                                                             
00211c   5da2     SUBWF     0xa2,0x0,0x1                                                                                    
00211e   e002     BZ        0x2124                                                                                          
002122   d7fa     BRA       0x2118                                                                                          
002120   d99c     RCALL     0x245a         				queue[pos].timestamp -= currtime;                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00237e   500b     MOVF      0xb,0x0,0x0                                                                                     
002380   5eee     SUBWF     0xee,0x1,0x0                                                                                    
002382   500c     MOVF      0xc,0x0,0x0                                                                                     
002384   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
00245a   0e02     MOVLW     0x2                                                                                             
00245c   cfdb     MOVFF     0xfdb,0xb                                                                                       
00245e   f00b                                                                                                               
002460   0e03     MOVLW     0x3                                                                                             
002462   cfdb     MOVFF     0xfdb,0xc                                                                                       
002464   f00c                                                                                                               
002466   d824     RCALL     0x24b0                                                                                          
002468   efbf     GOTO      0x237e                                                                                          
00246a   f011                                                                                                               
0024b0   0e04     MOVLW     0x4                                                                                             
0024b2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0024b4   ef6e     GOTO      0x22dc                                                                                          
0024b6   f011                                                                                                               
002386   0e04     MOVLW     0x4            				pos=next_entry(pos);                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002388   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00238a   ffe6                                                                                                               
00238c   de24     RCALL     0x1fd6                                                                                          
00238e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002390   6ee7     MOVWF     0xe7,0x0                                                                                        
002392   0e04     MOVLW     0x4                                                                                             
002394   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002396   ffdb                                                                                                               
002398   0012     RETURN    0x0                                                                                             
                                           			}                                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002124   0efd     MOVLW     0xfd           			timestamp=t;                                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002126   cfdb     MOVFF     0xfdb,0xfde                                                                                     
002128   ffde                                                                                                               
00212a   cfdb     MOVFF     0xfdb,0xfdd                                                                                     
00212c   ffdd                                                                                                               
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//we will insert the new event at the end, and then reorder up until it find    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//it's place in the queue                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//add new event                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00212e   d8e0     RCALL     0x22f0         	pos=next;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022f0   0e04     MOVLW     0x4                                                                                             
0022f2   c1a2     MOVFF     0x1a2,0xfdb                                                                                     
0022f4   ffdb                                                                                                               
0022f6   d8ba     RCALL     0x246c         	prevpos=prev_entry(pos);                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00246c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00246e   ffe6                                                                                                               
002470   ddbd     RCALL     0x1fec                                                                                          
002472   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002474   6ee7     MOVWF     0xe7,0x0                                                                                        
002476   0e05     MOVLW     0x5                                                                                             
002478   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00247a   ffdb                                                                                                               
00247c   0012     RETURN    0x0                                                                                             
0022f8   dea1     RCALL     0x203c         	entry=push_end();                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022fa   0e06     MOVLW     0x6                                                                                             
0022fc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0022fe   ffdb                                                                                                               
002300   0e07     MOVLW     0x7                                                                                             
002302   cff4     MOVFF     0xff4,0xfdb                                                                                     
002304   ffdb                                                                                                               
002130   e102     BNZ       0x2136         	if (entry==NULL) { return FALSE; } //error adding an entry                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002132   0e00     MOVLW     0x0                                                                                             
002134   d023     BRA       0x217c                                                                                          
002306   ef44     GOTO      0x2488                                                                                          
002308   f012                                                                                                               
002136   d8fd     RCALL     0x2332         	entry->timestamp=timestamp;                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002332   d8b2     RCALL     0x2498                                                                                          
002334   cfde     MOVFF     0xfde,0xfee                                                                                     
002336   ffee                                                                                                               
002338   cfdd     MOVFF     0xfdd,0xfed                                                                                     
00233a   ffed                                                                                                               
002498   0e06     MOVLW     0x6                                                                                             
00249a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00249c   ffe9                                                                                                               
00249e   0e07     MOVLW     0x7                                                                                             
0024a0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0024a2   ffea                                                                                                               
0024a4   0012     RETURN    0x0                                                                                             
00233c   d8ad     RCALL     0x2498         	entry->callback=callback;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00233e   d89f     RCALL     0x247e                                                                                          
002340   0efb     MOVLW     0xfb                                                                                            
002342   cfdb     MOVFF     0xfdb,0xfee                                                                                     
002344   ffee                                                                                                               
002346   0efc     MOVLW     0xfc                                                                                            
002348   cfdb     MOVFF     0xfdb,0xfed                                                                                     
00234a   ffed                                                                                                               
00234c   0012     RETURN    0x0                                                                                             
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//"buble-up" while out of order.                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002138   0e04     MOVLW     0x4            	while (pos!=first && queue[pos].timestamp < queue[prevpos].timestamp) {         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00213a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00213c   0101     MOVLB     0x1                                                                                             
00213e   5da1     SUBWF     0xa1,0x0,0x1                                                                                    
002140   e004     BZ        0x214a                                                                                          
002142   d982     RCALL     0x2448                                                                                          
002144   e202     BC        0x214a                                                                                          
002148   d7f7     BRA       0x2138                                                                                          
002448   d833     RCALL     0x24b0                                                                                          
00244a   dfd5     RCALL     0x23f6                                                                                          
00244c   d835     RCALL     0x24b8                                                                                          
00244e   dfb3     RCALL     0x23b6                                                                                          
002450   500d     MOVF      0xd,0x0,0x0                                                                                     
002452   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
002454   500e     MOVF      0xe,0x0,0x0                                                                                     
002456   580c     SUBWFB    0xc,0x0,0x0                                                                                     
002458   0012     RETURN    0x0                                                                                             
0024b8   0e05     MOVLW     0x5                                                                                             
0024ba   50db     MOVF      0xdb,0x0,0x0                                                                                    
0024bc   ef6e     GOTO      0x22dc                                                                                          
0024be   f011                                                                                                               
                                           		//swap                                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002146   d961     RCALL     0x240a         		Entry t_entry=queue[prevpos];                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00240a   d856     RCALL     0x24b8                                                                                          
00240c   0e08     MOVLW     0x8                                                                                             
00240e   cfee     MOVFF     0xfee,0xfdb                                                                                     
002410   ffdb                                                                                                               
002412   0e09     MOVLW     0x9                                                                                             
002414   cfee     MOVFF     0xfee,0xfdb                                                                                     
002416   ffdb                                                                                                               
002418   0e0a     MOVLW     0xa                                                                                             
00241a   cfee     MOVFF     0xfee,0xfdb                                                                                     
00241c   ffdb                                                                                                               
00241e   0e0b     MOVLW     0xb                                                                                             
002420   cfee     MOVFF     0xfee,0xfdb                                                                                     
002422   ffdb                                                                                                               
002424   d845     RCALL     0x24b0         		queue[prevpos]=queue[pos];                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002426   cfee     MOVFF     0xfee,0xb                                                                                       
002428   f00b                                                                                                               
00242a   cfee     MOVFF     0xfee,0xc                                                                                       
00242c   f00c                                                                                                               
00242e   dfc3     RCALL     0x23b6                                                                                          
002430   d843     RCALL     0x24b8                                                                                          
002432   c00b     MOVFF     0xb,0xfee                                                                                       
002434   ffee                                                                                                               
002436   c00c     MOVFF     0xc,0xfee                                                                                       
002438   ffee                                                                                                               
00243a   c00d     MOVFF     0xd,0xfee                                                                                       
00243c   ffee                                                                                                               
00243e   c00e     MOVFF     0xe,0xfee                                                                                       
002440   ffee                                                                                                               
00230a   0e08     MOVLW     0x8            		queue[pos]=t_entry;                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00230c   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00230e   ffee                                                                                                               
002310   0e09     MOVLW     0x9                                                                                             
002312   cfdb     MOVFF     0xfdb,0xfee                                                                                     
002314   ffee                                                                                                               
002316   0e0a     MOVLW     0xa                                                                                             
002318   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00231a   ffee                                                                                                               
00231c   0e0b     MOVLW     0xb                                                                                             
00231e   cfdb     MOVFF     0xfdb,0xfee                                                                                     
002320   ffee                                                                                                               
002442   d836     RCALL     0x24b0                                                                                          
002444   ef85     GOTO      0x230a                                                                                          
002446   f011                                                                                                               
                                           		                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//go back 1                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002322   0e05     MOVLW     0x5            		pos=prevpos;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002324   50db     MOVF      0xdb,0x0,0x0                                                                                    
002326   6ee7     MOVWF     0xe7,0x0                                                                                        
002328   0e04     MOVLW     0x4                                                                                             
00232a   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00232c   ffdb                                                                                                               
00232e   ef36     GOTO      0x246c         		prevpos=prev_entry(pos);                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002330   f012                                                                                                               
                                           	} ;                                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//the new entry is the first in the queue.                                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//this runs for either a new event that replaces a current event already        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//in queue,or the first event in an empty queue.                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00214a   0e04     MOVLW     0x4            	if (pos==first) {                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00214c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00214e   5da1     SUBWF     0xa1,0x0,0x1                                                                                    
002150   e113     BNZ       0x2178                                                                                          
                                           		//configure interrupt for the (new) head event                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002152   94f2     BCF       0xf2,0x2,0x0   		INTCONbits.TMR0IF = 0; //apago bandera de interrupcion de timer0 por las dudas Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002154   8af2     BSF       0xf2,0x5,0x0   		INTCONbits.TMR0IE = 1; //cuando se agrega la primer funcion listener prendo ints de Timer0  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002156   d9a7     RCALL     0x24a6         		timestamp=0xFFFF-timestamp;                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002158   0eff     MOVLW     0xff                                                                                            
00215a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00215c   560b     SUBFWB    0xb,0x1,0x0                                                                                     
00215e   560c     SUBFWB    0xc,0x1,0x0                                                                                     
002160   c00b     MOVFF     0xb,0xfde                                                                                       
002162   ffde                                                                                                               
002164   c00c     MOVFF     0xc,0xfdd                                                                                       
002166   ffdd                                                                                                               
002168   d99e     RCALL     0x24a6         		TMR0H = (byte)(timestamp>>8);                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00216a   c00c     MOVFF     0xc,0xb                                                                                         
00216c   f00b                                                                                                               
00216e   6a0c     CLRF      0xc,0x0                                                                                         
002170   500b     MOVF      0xb,0x0,0x0                                                                                     
002172   6ed7     MOVWF     0xd7,0x0                                                                                        
002174   50df     MOVF      0xdf,0x0,0x0   		TMR0L = (byte)timestamp;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002176   6ed6     MOVWF     0xd6,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//(re)start clock                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002178   8ed5     BSF       0xd5,0x7,0x0   	T0CONbits.TMR0ON  = TRUE;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00217a   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00217c   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00217e   0e0c     MOVLW     0xc                                                                                             
002180   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002182   e202     BC        0x2188                                                                                          
002184   6ae1     CLRF      0xe1,0x0                                                                                        
002186   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002188   6ee1     MOVWF     0xe1,0x0                                                                                        
00218a   500b     MOVF      0xb,0x0,0x0                                                                                     
00218c   d0f4     BRA       0x2376                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /*                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	Registers a new event callback, to be called t time units in the future.        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	This function only can be called from a callback handler.                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           */                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00218e   d8ee     RCALL     0x236c         BOOL registerT0eventInEvent(unsigned int t, void (*callback)(void)) {            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002190   0e0c     MOVLW     0xc                                                                                             
002192   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	unsigned int timestamp;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	unsigned int currtime;                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	byte pos;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	byte prevpos;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	Entry *entry;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//this is called from an event handler, so the head event is the one being processed, Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//and it timestamp is the current time.                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002194   0101     MOVLB     0x1            	currtime = queue[first].timestamp;                                              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002196   51a1     MOVF      0xa1,0x0,0x1                                                                                    
002198   d8a1     RCALL     0x22dc                                                                                          
00219a   d920     RCALL     0x23dc                                                                                          
0023dc   0e02     MOVLW     0x2                                                                                             
0023de   cfee     MOVFF     0xfee,0xfdb                                                                                     
0023e0   ffdb                                                                                                               
0023e2   0e03     MOVLW     0x3                                                                                             
0023e4   cfed     MOVFF     0xfed,0xfdb                                                                                     
0023e6   ffdb                                                                                                               
0023e8   0012     RETURN    0x0                                                                                             
00219c   d8fe     RCALL     0x239a         	timestamp = currtime+t;//we're in the fist event handler                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00219e   d8d7     RCALL     0x234e                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//As we advance the clock marks, we will finally reach the max int. Then we must reduce  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//all the marks down.                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//TODO hacer esto en el register normal                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021a0   e20e     BC        0x21be         	if (timestamp < currtime) { // overflow!                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021a2   0e04     MOVLW     0x4            		pos=first;                                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021a4   c1a1     MOVFF     0x1a1,0xfdb                                                                                     
0021a6   ffdb                                                                                                               
0021a8   50db     MOVF      0xdb,0x0,0x0   		while (pos!=next) {                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021aa   0101     MOVLB     0x1                                                                                             
0021ac   5da2     SUBWF     0xa2,0x0,0x1                                                                                    
0021ae   e002     BZ        0x21b4                                                                                          
0021b2   d7fa     BRA       0x21a8                                                                                          
0021b0   d954     RCALL     0x245a         			queue[pos].timestamp -= currtime;                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           			pos=next_entry(pos);                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021b4   0efd     MOVLW     0xfd           		timestamp=t;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021b6   cfdb     MOVFF     0xfdb,0xfde                                                                                     
0021b8   ffde                                                                                                               
0021ba   cfdb     MOVFF     0xfdb,0xfdd                                                                                     
0021bc   ffdd                                                                                                               
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//we will insert the new event at the end, and then reorder up until it find    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//it's place in the queue                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//add new event                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021be   d898     RCALL     0x22f0         	pos=next;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	prevpos=prev_entry(pos);                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	entry=push_end();                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021c0   e102     BNZ       0x21c6         	if (entry==NULL) { return FALSE; } //error adding an entry                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021c2   0e00     MOVLW     0x0                                                                                             
0021c4   d00f     BRA       0x21e4                                                                                          
0021c6   d8b5     RCALL     0x2332         	entry->timestamp=timestamp;                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	entry->callback=callback;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//"buble-up" while out of order. stop before replacing the first event (the one being Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//from whose handler called us)                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021c8   0e05     MOVLW     0x5            	while (prevpos!=first && pos!=first && queue[pos].timestamp < queue[prevpos].timestamp) { Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021ca   50db     MOVF      0xdb,0x0,0x0                                                                                    
0021cc   0101     MOVLB     0x1                                                                                             
0021ce   5da1     SUBWF     0xa1,0x0,0x1                                                                                    
0021d0   e008     BZ        0x21e2                                                                                          
0021d2   0e04     MOVLW     0x4                                                                                             
0021d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0021d6   5da1     SUBWF     0xa1,0x0,0x1                                                                                    
0021d8   e004     BZ        0x21e2                                                                                          
0021da   d936     RCALL     0x2448                                                                                          
0021dc   e202     BC        0x21e2                                                                                          
0021e0   d7f3     BRA       0x21c8                                                                                          
0023b6   cfee     MOVFF     0xfee,0xd                                                                                       
0023b8   f00d                                                                                                               
0023ba   cfef     MOVFF     0xfef,0xe                                                                                       
0023bc   f00e                                                                                                               
0023be   0012     RETURN    0x0                                                                                             
0023f6   cfee     MOVFF     0xfee,0xb                                                                                       
0023f8   f00b                                                                                                               
0023fa   cfef     MOVFF     0xfef,0xc                                                                                       
0023fc   f00c                                                                                                               
0023fe   0012     RETURN    0x0                                                                                             
                                           		//swap                                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021de   d915     RCALL     0x240a         		Entry t_entry=queue[prevpos];                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		queue[prevpos]=queue[pos];                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		queue[pos]=t_entry;                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//go back 1                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		pos=prevpos;                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		prevpos=prev_entry(pos);                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	} ;                                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021e2   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021e4   6e0b     MOVWF     0xb,0x0        }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021e6   0e0c     MOVLW     0xc                                                                                             
0021e8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0021ea   e202     BC        0x21f0                                                                                          
0021ec   6ae1     CLRF      0xe1,0x0                                                                                        
0021ee   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0021f0   6ee1     MOVWF     0xe1,0x0                                                                                        
0021f2   500b     MOVF      0xb,0x0,0x0                                                                                     
0021f4   d0c0     BRA       0x2376                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           /*                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	Unregister a event callback. No pending event(s) will invoke it.                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           */                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021f6   d8ba     RCALL     0x236c         BOOL unregisterT0event(void (*callback)(void)) {                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021f8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
0021fa   c1a1     MOVFF     0x1a1,0xfdf    	byte pos=first;                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021fc   ffdf                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//iterate all events, NULLying all instances of given callback.                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//we don't actually remove anything here, the entries will be processed normally Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//and theyr calbacks calls simply skipped when theyr turn arrives.              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0021fe   0101     MOVLB     0x1            	while (pos!=next) {                                                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002200   51a2     MOVF      0xa2,0x0,0x1                                                                                    
002202   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
002204   e015     BZ        0x2230                                                                                          
00222e   d7e7     BRA       0x21fe                                                                                          
002206   50df     MOVF      0xdf,0x0,0x0   		if (queue[pos].callback==callback) {                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002208   d869     RCALL     0x22dc                                                                                          
00220a   d939     RCALL     0x247e                                                                                          
00220c   d8f4     RCALL     0x23f6                                                                                          
00220e   0efd     MOVLW     0xfd                                                                                            
002210   50db     MOVF      0xdb,0x0,0x0                                                                                    
002212   180b     XORWF     0xb,0x0,0x0                                                                                     
002214   e107     BNZ       0x2224                                                                                          
002216   0efe     MOVLW     0xfe                                                                                            
002218   50db     MOVF      0xdb,0x0,0x0                                                                                    
00221a   180c     XORWF     0xc,0x0,0x0                                                                                     
00221c   e103     BNZ       0x2224                                                                                          
00221e   50df     MOVF      0xdf,0x0,0x0   			queue[pos].callback=NULL;                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002220   d85d     RCALL     0x22dc                                                                                          
002222   d8d8     RCALL     0x23d4                                                                                          
0022dc   0d04     MULLW     0x4                                                                                             
0022de   cff3     MOVFF     0xff3,0xfe9                                                                                     
0022e0   ffe9                                                                                                               
0022e2   cff4     MOVFF     0xff4,0xfea                                                                                     
0022e4   ffea                                                                                                               
0022e6   0e00     MOVLW     0x0                                                                                             
0022e8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0022ea   0e01     MOVLW     0x1                                                                                             
0022ec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0022ee   0012     RETURN    0x0                                                                                             
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002224   cfdf     MOVFF     0xfdf,0xfe6    		pos=next_entry(pos);                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002226   ffe6                                                                                                               
002228   ded6     RCALL     0x1fd6                                                                                          
00222a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00222c   6edf     MOVWF     0xdf,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002230   0e01     MOVLW     0x1            	return TRUE;                                                                    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002232   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002234   d0a0     BRA       0x2376                                                                                          
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //interrupt handler to be registered in ISR.                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002236   d89a     RCALL     0x236c         void interrupt_handler(void) {                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002238   0e08     MOVLW     0x8                                                                                             
00223a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	Entry *e;                                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	unsigned int currtime;                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	unsigned int nexttime;                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	void (*callback)(void);                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           //mLED_2_Off();                                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	//we need ckock interrupts                                                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00223c   a4f2     BTFSS     0xf2,0x2,0x0   	if (INTCONbits.TMR0IF){	                                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00223e   d047     BRA       0x22ce                                                                                          
                                           		//TODO este servicio atrasa cada vez que se registra o procesa un evento.      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//disable interrupts                                                           Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002240   9ed5     BCF       0xd5,0x7,0x0   		T0CONbits.TMR0ON  = FALSE;                                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002242   94f2     BCF       0xf2,0x2,0x0   		INTCONbits.TMR0IF = 0; //reset overflow                                        Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//get head event in queue and process the callback                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002244   d8d2     RCALL     0x23ea         		e=get_first();                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0023ea   de13     RCALL     0x2012                                                                                          
0023ec   cff3     MOVFF     0xff3,0xfde                                                                                     
0023ee   ffde                                                                                                               
0023f0   cff4     MOVFF     0xff4,0xfdd                                                                                     
0023f2   ffdd                                                                                                               
0023f4   0012     RETURN    0x0                                                                                             
002246   d8dc     RCALL     0x2400         		callback=e->callback;                                                          Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002248   d91a     RCALL     0x247e                                                                                          
00224a   0e06     MOVLW     0x6                                                                                             
00224c   cfee     MOVFF     0xfee,0xfdb                                                                                     
00224e   ffdb                                                                                                               
002250   0e07     MOVLW     0x7                                                                                             
002252   cfed     MOVFF     0xfed,0xfdb                                                                                     
002254   ffdb                                                                                                               
002256   d918     RCALL     0x2488         		if (callback) callback();                                                      Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002258   e00c     BZ        0x2272                                                                                          
00225a   0e06     MOVLW     0x6                                                                                             
00225c   cfdb     MOVFF     0xfdb,0xb                                                                                       
00225e   f00b                                                                                                               
002260   0e07     MOVLW     0x7                                                                                             
002262   cfdb     MOVFF     0xfdb,0xc                                                                                       
002264   f00c                                                                                                               
002266   d004     BRA       0x2270                                                                                          
002268   c00c     MOVFF     0xc,0xffa                                                                                       
00226a   fffa                                                                                                               
00226c   500b     MOVF      0xb,0x0,0x0                                                                                     
00226e   6ef9     MOVWF     0xf9,0x0                                                                                        
002270   dffb     RCALL     0x2268                                                                                          
002488   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00248a   0f06     ADDLW     0x6                                                                                             
00248c   6ee9     MOVWF     0xe9,0x0                                                                                        
00248e   cfda     MOVFF     0xfda,0xfea                                                                                     
002490   ffea                                                                                                               
002492   50ee     MOVF      0xee,0x0,0x0                                                                                    
002494   10ed     IORWF     0xed,0x0,0x0                                                                                    
002496   0012     RETURN    0x0                                                                                             
002272   d8c6     RCALL     0x2400         		currtime=e->timestamp;                                                         Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002274   d8b3     RCALL     0x23dc                                                                                          
002400   cfde     MOVFF     0xfde,0xfe9                                                                                     
002402   ffe9                                                                                                               
002404   cfdd     MOVFF     0xfdd,0xfea                                                                                     
002406   ffea                                                                                                               
002408   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//advance the queue                                                            Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002276   dedb     RCALL     0x202e         		pop_first();                                                                   Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
002278   d8b8     RCALL     0x23ea         		e=get_first();                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		//if there's a new head event, configure the clock                             Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00227a   cfd9     MOVFF     0xfd9,0xfe9    		if (e!=NULL) {                                                                 Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00227c   ffe9                                                                                                               
00227e   cfda     MOVFF     0xfda,0xfea                                                                                     
002280   ffea                                                                                                               
002282   50ee     MOVF      0xee,0x0,0x0                                                                                    
002284   10ed     IORWF     0xed,0x0,0x0                                                                                    
002286   e023     BZ        0x22ce                                                                                          
002288   d8bb     RCALL     0x2400         			nexttime = 0xFFFF - (e->timestamp - currtime);                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
00228a   d895     RCALL     0x23b6                                                                                          
00228c   0e02     MOVLW     0x2                                                                                             
00228e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002290   5c0d     SUBWF     0xd,0x0,0x0                                                                                     
002292   6e0b     MOVWF     0xb,0x0                                                                                         
002294   0e03     MOVLW     0x3                                                                                             
002296   50db     MOVF      0xdb,0x0,0x0                                                                                    
002298   580e     SUBWFB    0xe,0x0,0x0                                                                                     
00229a   6e0c     MOVWF     0xc,0x0                                                                                         
00229c   0eff     MOVLW     0xff                                                                                            
00229e   80d8     BSF       0xd8,0x0,0x0                                                                                    
0022a0   560b     SUBFWB    0xb,0x1,0x0                                                                                     
0022a2   560c     SUBFWB    0xc,0x1,0x0                                                                                     
0022a4   0e04     MOVLW     0x4                                                                                             
0022a6   c00b     MOVFF     0xb,0xfdb                                                                                       
0022a8   ffdb                                                                                                               
0022aa   0e05     MOVLW     0x5                                                                                             
0022ac   c00c     MOVFF     0xc,0xfdb                                                                                       
0022ae   ffdb                                                                                                               
0022b0   0e04     MOVLW     0x4            			TMR0H = (byte)(nexttime>>8);                                                  Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022b2   cfdb     MOVFF     0xfdb,0xb                                                                                       
0022b4   f00b                                                                                                               
0022b6   0e05     MOVLW     0x5                                                                                             
0022b8   cfdb     MOVFF     0xfdb,0xc                                                                                       
0022ba   f00c                                                                                                               
0022bc   c00c     MOVFF     0xc,0xb                                                                                         
0022be   f00b                                                                                                               
0022c0   500c     MOVF      0xc,0x0,0x0                                                                                     
0022c2   6ed7     MOVWF     0xd7,0x0                                                                                        
0022c4   0e04     MOVLW     0x4            			TMR0L = (byte)nexttime;                                                       Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0022c8   6ed6     MOVWF     0xd6,0x0                                                                                        
0022ca   94f2     BCF       0xf2,0x2,0x0   			INTCONbits.TMR0IF = 0; //apago bandera de overflow de timer0 por las dudas    Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022cc   8ed5     BSF       0xd5,0x7,0x0   			T0CONbits.TMR0ON  = TRUE; //prendo timer0                                     Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           		}                                                                              Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
                                           	}                                                                               Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022ce   0e08     MOVLW     0x8            }                                                                                Z:\home\andres\u4a2\usb4all\proxys\T0Service.c
0022d0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0022d2   e202     BC        0x22d8                                                                                          
0022d4   6ae1     CLRF      0xe1,0x0                                                                                        
0022d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0022d8   6ee1     MOVWF     0xe1,0x0                                                                                        
0022da   d04d     BRA       0x2376                                                                                          
002376   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002378   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00237a   ffd9                                                                                                               
00237c   0012     RETURN    0x0                                                                                             
                                           /* Author             					  Date        Comment			Versin                      Z:\home\andres\u4a2\user\usr_display.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Z:\home\andres\u4a2\user\usr_display.c
                                            * Santiago Reyes Gonzalez				10/07/09   Original.			0.02	                       Z:\home\andres\u4a2\user\usr_display.c
                                            * Andrs Aguirre Dorelo				21/12/09   Cambios al open y al close	0.04          Z:\home\andres\u4a2\user\usr_display.c
                                            *********************************************************************************************************/ Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_display.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #include <delays.h>                                                              Z:\home\andres\u4a2\user\usr_display.c
                                           #include <stdio.h>                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_display.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_display.c
                                           #include "usr_display.h"                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_display.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           #include "user\dynamicPolling.h"                                                 Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           #define FALSE 0                                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           #define TRUE  1                                                                  Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           byte  usrDisplayHandler;	 // Handler number asigned to the module                Z:\home\andres\u4a2\user\usr_display.c
                                           byte* sendBufferUsrDisplay;  	 // buffer to send data                            Z:\home\andres\u4a2\user\usr_display.c
                                           unsigned char display_init = FALSE;                                              Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /** P R I V A T E  P R O T O T Y P E S ************* *************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayProcessIO(void);                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayInit(byte i);                                                    Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayReceived(byte*, byte);                                           Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayRelease(byte i);                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayConfigure(void);                                                 Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_display.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_display.c
                                           uTab userDisplayModuleTable = {&UserDisplayInit,&UserDisplayRelease,&UserDisplayConfigure,"display"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\usr_display.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           void DelayFor18TCY( void ){                                                      Z:\home\andres\u4a2\user\usr_display.c
004228   0000     NOP                      Nop(); Nop(); Nop();                                                             Z:\home\andres\u4a2\user\usr_display.c
00422a   0000     NOP                                                                                                       
00422c   0000     NOP                                                                                                       
00422e   0000     NOP                      Nop(); Nop(); Nop();                                                             Z:\home\andres\u4a2\user\usr_display.c
004230   0000     NOP                                                                                                       
004232   0000     NOP                                                                                                       
004234   0000     NOP                      Nop(); Nop(); Nop();                                                             Z:\home\andres\u4a2\user\usr_display.c
004236   0000     NOP                                                                                                       
004238   0000     NOP                                                                                                       
00423a   0000     NOP                      Nop(); Nop(); Nop();                                                             Z:\home\andres\u4a2\user\usr_display.c
00423c   0000     NOP                                                                                                       
00423e   0000     NOP                                                                                                       
004240   0000     NOP                      Nop(); Nop(); Nop();                                                             Z:\home\andres\u4a2\user\usr_display.c
004242   0000     NOP                                                                                                       
004244   0000     NOP                                                                                                       
004246   0000     NOP                      Nop(); Nop(); Nop();                                                             Z:\home\andres\u4a2\user\usr_display.c
004248   0000     NOP                                                                                                       
00424a   0000     NOP                                                                                                       
00424c   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           void DelayPORXLCD( void ){                                                       Z:\home\andres\u4a2\user\usr_display.c
00424e   0e1e     MOVLW     0x1e           	Delay10KTCYx(30); //Delay of 15ms                                               Z:\home\andres\u4a2\user\usr_display.c
004250   ef78     GOTO      0x4cf0                                                                                          
004252   f026                                                                                                               
                                           	return;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           void DelayXLCD( void ){                                                          Z:\home\andres\u4a2\user\usr_display.c
004254   0e0a     MOVLW     0xa            	Delay10KTCYx(10); //Delay of 5ms                                                Z:\home\andres\u4a2\user\usr_display.c
004256   ef78     GOTO      0x4cf0                                                                                          
004258   f026                                                                                                               
004cf0   6ee6     MOVWF     0xe6,0x0                                                                                        
004cf2   ec11     CALL      0x2c22,0x0                                                                                      
004cf4   f016                                                                                                               
004cf6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cf8   0012     RETURN    0x0                                                                                             
                                           	return;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /********************************************************************            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Function Name:  BusyXLCD                                    *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Return Value:   char: busy status of LCD controller         *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Parameters:     void                                        *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Description:    This routine reads the busy status of the   *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       Hitachi HD44780 LCD controller.             *            Z:\home\andres\u4a2\user\usr_display.c
                                           ********************************************************************/            Z:\home\andres\u4a2\user\usr_display.c
                                           unsigned char BusyXLCD(void)                                                     Z:\home\andres\u4a2\user\usr_display.c
                                           {                                                                                Z:\home\andres\u4a2\user\usr_display.c
00425a   8c8c     BSF       0x8c,0x6,0x0           RW_PIN = 1;                     // Set the control bits for read         Z:\home\andres\u4a2\user\usr_display.c
00425c   9a8c     BCF       0x8c,0x5,0x0           RS_PIN = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
00425e   ec86     CALL      0x4d0c,0x0             DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
004260   f026                                                                                                               
                                                   E_PIN = 1;                      // Clock in the command                  Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                                   if(DATA_PORT&0x80)                      // Read bit 7 (busy bit)         Z:\home\andres\u4a2\user\usr_display.c
                                                   {                               // If high                               Z:\home\andres\u4a2\user\usr_display.c
                                                           E_PIN = 0;              // Reset clock line                      Z:\home\andres\u4a2\user\usr_display.c
                                                           RW_PIN = 0;             // Reset control line                    Z:\home\andres\u4a2\user\usr_display.c
                                                           return 1;               // Return TRUE                           Z:\home\andres\u4a2\user\usr_display.c
                                                   }                                                                        Z:\home\andres\u4a2\user\usr_display.c
                                                   else                            // Bit 7 low                             Z:\home\andres\u4a2\user\usr_display.c
                                                   {                                                                        Z:\home\andres\u4a2\user\usr_display.c
                                                           E_PIN = 0;              // Reset clock line                      Z:\home\andres\u4a2\user\usr_display.c
                                                           RW_PIN = 0;             // Reset control line                    Z:\home\andres\u4a2\user\usr_display.c
                                                           return 0;               // Return FALSE                          Z:\home\andres\u4a2\user\usr_display.c
                                                   }                                                                        Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   if(DATA_PORT&0x80)                                                       Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
004262   a683     BTFSS     0x83,0x3,0x0           if(DATA_PORT&0x08)                                                       Z:\home\andres\u4a2\user\usr_display.c
004264   d003     BRA       0x426c                                                                                          
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   {                                                                        Z:\home\andres\u4a2\user\usr_display.c
004266   ec4d     CALL      0x4c9a,0x0                     E_PIN = 0;              // Reset clock line                      Z:\home\andres\u4a2\user\usr_display.c
004c9a   988c                                                                                                               
004268   f026     WORD2     0x26                           DelayFor18TCY();                                                 Z:\home\andres\u4a2\user\usr_display.c
004c9c   d837     RCALL     0x4d0c                                                                                          
004d0c   ec14     CALL      0x4228,0x0                                                                                      
004d0e   f021                                                                                                               
004d10   888c     BSF       0x8c,0x4,0x0                   E_PIN = 1;              // Clock out other nibble                Z:\home\andres\u4a2\user\usr_display.c
004d12   ef14     GOTO      0x4228                         DelayFor18TCY();                                                 Z:\home\andres\u4a2\user\usr_display.c
004d14   f021                                                                                                               
004c9e   988c     BCF       0x8c,0x4,0x0                   E_PIN = 0;                                                       Z:\home\andres\u4a2\user\usr_display.c
004ca0   9c8c     BCF       0x8c,0x6,0x0                   RW_PIN = 0;             // Reset control line                    Z:\home\andres\u4a2\user\usr_display.c
004ca2   0012     RETURN    0x0                                                                                             
00426a   0c01     RETLW     0x1                            return 1;               // Return TRUE                           Z:\home\andres\u4a2\user\usr_display.c
                                                   }                                                                        Z:\home\andres\u4a2\user\usr_display.c
                                                   else                            // Busy bit is low                       Z:\home\andres\u4a2\user\usr_display.c
                                                   {                                                                        Z:\home\andres\u4a2\user\usr_display.c
00426c   ec4d     CALL      0x4c9a,0x0                     E_PIN = 0;              // Reset clock line                      Z:\home\andres\u4a2\user\usr_display.c
00426e   f026                                              DelayFor18TCY();                                                 Z:\home\andres\u4a2\user\usr_display.c
                                                           E_PIN = 1;              // Clock out other nibble                Z:\home\andres\u4a2\user\usr_display.c
                                                           DelayFor18TCY();                                                 Z:\home\andres\u4a2\user\usr_display.c
                                                           E_PIN = 0;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                           RW_PIN = 0;             // Reset control line                    Z:\home\andres\u4a2\user\usr_display.c
                                                           return 0;               // Return FALSE                          Z:\home\andres\u4a2\user\usr_display.c
                                                   }                                                                        Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
004270   0c00     RETLW     0x0            }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /********************************************************************            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Function Name:  WriteCmdXLCD                                *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Return Value:   void                                        *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Parameters:     cmd: command to send to LCD                 *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Description:    This routine writes a command to the Hitachi*            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       HD44780 LCD controller. The user must check *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       to see if the LCD controller is busy before *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       calling this routine.                       *            Z:\home\andres\u4a2\user\usr_display.c
                                           ********************************************************************/            Z:\home\andres\u4a2\user\usr_display.c
004272   ec38     CALL      0x4c70,0x0     void WriteCmdXLCD(unsigned char cmd)                                             Z:\home\andres\u4a2\user\usr_display.c
004274   f026                                                                                                               
                                           {                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0;             // Data port output                      Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = cmd;                // Write command to data port            Z:\home\andres\u4a2\user\usr_display.c
                                                   RW_PIN = 0;                     // Set the control signals               Z:\home\andres\u4a2\user\usr_display.c
                                                   RS_PIN = 0;                     // for sending a command                 Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                      // Clock the command in                  Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0xff;          // Data port input                       Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT &= 0x0f;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= cmd&0xf0;                                                   Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
004276   ec52     CALL      0x4ca4,0x0             TRIS_DATA_PORT &= 0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
004278   f026                                                                                                               
004ca4   0ef0     MOVLW     0xf0                                                                                            
004ca6   1695     ANDWF     0x95,0x1,0x0                                                                                    
004ca8   1683     ANDWF     0x83,0x1,0x0           DATA_PORT &= 0xf0;                                                       Z:\home\andres\u4a2\user\usr_display.c
004caa   0efe     MOVLW     0xfe                   DATA_PORT |= (cmd>>4)&0x0f;                                              Z:\home\andres\u4a2\user\usr_display.c
004cac   38db     SWAPF     0xdb,0x0,0x0                                                                                    
004cae   0b0f     ANDLW     0xf                                                                                             
004cb0   0b0f     ANDLW     0xf                                                                                             
004cb2   1283     IORWF     0x83,0x1,0x0                                                                                    
004cb4   0012     RETURN    0x0                                                                                             
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
00427a   9c8c     BCF       0x8c,0x6,0x0           RW_PIN = 0;                     // Set control signals for command       Z:\home\andres\u4a2\user\usr_display.c
00427c   9a8c     BCF       0x8c,0x5,0x0           RS_PIN = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
00427e   ef2b     GOTO      0x4c56                 DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
004280   f026                                                                                                               
                                                   E_PIN = 1;                      // Clock command in                      Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= (cmd<<4)&0xf0;                                              Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0xf0;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= cmd&0x0f;                                                   Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                      // Clock command in                      Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Make data nibble input                Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0x0f;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   return;                                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /********************************************************************            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Function Name:  SetDDRamAddr                                *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Return Value:   void                                        *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Parameters:     CGaddr: display data address                *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Description:    This routine sets the display data address  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       of the Hitachi HD44780 LCD controller. The  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       user must check to see if the LCD controller*            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       is busy before calling this routine.        *            Z:\home\andres\u4a2\user\usr_display.c
                                           ********************************************************************/            Z:\home\andres\u4a2\user\usr_display.c
004282   ec38     CALL      0x4c70,0x0     void SetDDRamAddr(unsigned char DDaddr)                                          Z:\home\andres\u4a2\user\usr_display.c
004284   f026                                                                                                               
                                           {                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                                     // 8-bit interface               Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0;                     // Make port output              Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = DDaddr | 0b10000000;        // Write cmd and address to port Z:\home\andres\u4a2\user\usr_display.c
                                                   RW_PIN = 0;                             // Set the control bits          Z:\home\andres\u4a2\user\usr_display.c
                                                   RS_PIN = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                              // Clock the cmd and address in  Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0xff;                  // Make port input               Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                           // 4-bit interface               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                                    // Upper nibble  interface       Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT &= 0x0f;                 // Make port output              Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                      // and write upper nibble        Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= ((DDaddr | 0b10000000) & 0xf0);                             Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                           // Lower nibble interface        Z:\home\andres\u4a2\user\usr_display.c
004286   0ef0     MOVLW     0xf0                   TRIS_DATA_PORT &= 0xf0;                 // Make port output              Z:\home\andres\u4a2\user\usr_display.c
004288   1695     ANDWF     0x95,0x1,0x0                                                                                    
00428a   1683     ANDWF     0x83,0x1,0x0           DATA_PORT &= 0xf0;                      // and write upper nibble        Z:\home\andres\u4a2\user\usr_display.c
00428c   0efe     MOVLW     0xfe                   DATA_PORT |= (((DDaddr | 0b10000000)>>4) & 0x0f);                        Z:\home\andres\u4a2\user\usr_display.c
00428e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004290   0980     IORLW     0x80                                                                                            
004292   38e8     SWAPF     0xe8,0x0,0x0                                                                                    
004294   0b0f     ANDLW     0xf                                                                                             
004296   0b0f     ANDLW     0xf                                                                                             
004298   1283     IORWF     0x83,0x1,0x0                                                                                    
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
00429a   9c8c     BCF       0x8c,0x6,0x0           RW_PIN = 0;                             // Set control bits              Z:\home\andres\u4a2\user\usr_display.c
00429c   9a8c     BCF       0x8c,0x5,0x0           RS_PIN = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
00429e   ef2b     GOTO      0x4c56                 DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
0042a0   f026                                                                                                               
                                                   E_PIN = 1;                              // Clock the cmd and address in  Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                                    // Upper nibble interface        Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                      // Write lower nibble            Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= ((DDaddr<<4)&0xf0);                                         Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                           // Lower nibble interface        Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0xf0;                      // Write lower nibble            Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= (DDaddr&0x0f);                                              Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                              // Clock the cmd and address in  Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                                    // Upper nibble interface        Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0xf0;                 // Make port input               Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                           // Lower nibble interface        Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0x0f;                 // Make port input               Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   return;                                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /********************************************************************            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Function Name:  OpenXLCD                                    *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Return Value:   void                                        *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Parameters:     lcdtype: sets the type of LCD (lines)       *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Description:    This routine configures the LCD. Based on   *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       the Hitachi HD44780 LCD controller. The     *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       routine will configure the I/O pins of the  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       microcontroller, setup the LCD for 4- or    *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       8-bit mode and clear the display. The user  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       must provide three delay routines:          *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       DelayFor18TCY() provides a 18 Tcy delay     *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       DelayPORXLCD() provides at least 15ms delay *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       DelayXLCD() provides at least 5ms delay     *            Z:\home\andres\u4a2\user\usr_display.c
                                           ********************************************************************/            Z:\home\andres\u4a2\user\usr_display.c
0042a2   ec38     CALL      0x4c70,0x0     void OpenXLCD(unsigned char lcdtype)                                             Z:\home\andres\u4a2\user\usr_display.c
0042a4   f026                                                                                                               
                                           {                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                   // The data bits must be either a 8-bit port or the upper or             Z:\home\andres\u4a2\user\usr_display.c
                                                   // lower 4-bits of a port. These pins are made into inputs               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit mode, use whole port            Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = 0;                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0xff;                                                   Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit mode                            Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper 4-bits of the port              Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower 4-bits of the port              Z:\home\andres\u4a2\user\usr_display.c
0042a6   0ef0     MOVLW     0xf0                   DATA_PORT &= 0xf0;                                                       Z:\home\andres\u4a2\user\usr_display.c
0042a8   1683     ANDWF     0x83,0x1,0x0                                                                                    
0042aa   0e0f     MOVLW     0xf                    TRIS_DATA_PORT |= 0x0f;                                                  Z:\home\andres\u4a2\user\usr_display.c
0042ac   1295     IORWF     0x95,0x1,0x0                                                                                    
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
0042ae   9c95     BCF       0x95,0x6,0x0           TRIS_RW = 0;                    // All control signals made outputs      Z:\home\andres\u4a2\user\usr_display.c
0042b0   9a95     BCF       0x95,0x5,0x0           TRIS_RS = 0;                                                             Z:\home\andres\u4a2\user\usr_display.c
0042b2   9895     BCF       0x95,0x4,0x0           TRIS_E = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
0042b4   9c8c     BCF       0x8c,0x6,0x0           RW_PIN = 0;                     // R/W pin made low                      Z:\home\andres\u4a2\user\usr_display.c
0042b6   9a8c     BCF       0x8c,0x5,0x0           RS_PIN = 0;                     // Register select pin made low          Z:\home\andres\u4a2\user\usr_display.c
0042b8   988c     BCF       0x8c,0x4,0x0           E_PIN = 0;                      // Clock pin made low                    Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Delay for 15ms to allow for LCD Power on reset                        Z:\home\andres\u4a2\user\usr_display.c
0042ba   dfc9     RCALL     0x424e                 DelayPORXLCD();                                                          Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Setup interface to LCD                                                Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit mode interface                  Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0;             // Data port output                      Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = 0b00110000;         // Function set cmd(8-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit mode interface                  Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT &= 0x0f;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= 0b00100000;        // Function set cmd(4-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
0042bc   0ef0     MOVLW     0xf0                   TRIS_DATA_PORT &= 0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
0042be   1695     ANDWF     0x95,0x1,0x0                                                                                    
0042c0   ec42     CALL      0x4c84,0x0             DATA_PORT &= 0xf0;                                                       Z:\home\andres\u4a2\user\usr_display.c
0042c2   f026                                      DATA_PORT |= 0b00000010;        // Function set cmd(4-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                      // Clock the cmd in                      Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Delay for at least 4.1ms                                              Z:\home\andres\u4a2\user\usr_display.c
0042c4   dfc7     RCALL     0x4254                 DelayXLCD();                                                             Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Setup interface to LCD                                                Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = 0b00110000;         // Function set cmd(8-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;              // Function set cmd(4-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= 0b00100000;                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
0042c6   0ef0     MOVLW     0xf0                   DATA_PORT &= 0xf0;              // Function set cmd(4-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
0042c8   ec42     CALL      0x4c84,0x0                                                                                      
004c84   1683                                                                                                               
0042ca   f026     WORD2     0x26                   DATA_PORT |= 0b00000010;                                                 Z:\home\andres\u4a2\user\usr_display.c
004c86   8283     BSF       0x83,0x1,0x0                                                                                    
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
004c88   888c     BSF       0x8c,0x4,0x0           E_PIN = 1;                      // Clock the cmd in                      Z:\home\andres\u4a2\user\usr_display.c
004c8a   ec14     CALL      0x4228,0x0             DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
004c8c   f021                                                                                                               
004c8e   988c     BCF       0x8c,0x4,0x0           E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
004c90   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Delay for at least 100us                                              Z:\home\andres\u4a2\user\usr_display.c
0042cc   dfc3     RCALL     0x4254                 DelayXLCD();                                                             Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Setup interface to LCD                                                Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = 0b00110000;         // Function set cmd(8-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;              // Function set cmd(4-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= 0b00100000;                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
0042ce   0ef0     MOVLW     0xf0                   DATA_PORT &= 0xf0;              // Function set cmd(4-bit interface)     Z:\home\andres\u4a2\user\usr_display.c
0042d0   ec42     CALL      0x4c84,0x0                                                                                      
0042d2   f026                                      DATA_PORT |= 0b00000010;                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                      // Clock cmd in                          Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0xff;          // Make data port input                  Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0xf0;         // Make data nibble input                Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
0042d4   0e0f     MOVLW     0xf                    TRIS_DATA_PORT |= 0x0f;         // Make data nibble input                Z:\home\andres\u4a2\user\usr_display.c
0042d6   1295     IORWF     0x95,0x1,0x0                                                                                    
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Set data interface width, # lines, font                               Z:\home\andres\u4a2\user\usr_display.c
0042d8   ec49     CALL      0x4c92,0x0             while(BusyXLCD());              // Wait if LCD busy                      Z:\home\andres\u4a2\user\usr_display.c
0042da   f026                                                                                                               
0042dc   e1fd     BNZ       0x42d8                                                                                          
0042de   ec71     CALL      0x4ce2,0x0             WriteCmdXLCD(lcdtype);          // Function set cmd                      Z:\home\andres\u4a2\user\usr_display.c
0042e0   f026                                                                                                               
004ce2   0efe     MOVLW     0xfe                                                                                            
004ce4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004ce6   ffe6                                                                                                               
004ce8   ec39     CALL      0x4272,0x0                                                                                      
004cea   f021                                                                                                               
004cec   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cee   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Turn the display on then off                                          Z:\home\andres\u4a2\user\usr_display.c
0042e2   ec49     CALL      0x4c92,0x0             while(BusyXLCD());              // Wait if LCD busy                      Z:\home\andres\u4a2\user\usr_display.c
0042e4   f026                                                                                                               
0042e6   e1fd     BNZ       0x42e2                                                                                          
0042e8   0e08     MOVLW     0x8                    WriteCmdXLCD(DOFF&CURSOR_OFF&BLINK_OFF);        // Display OFF/Blink OFF Z:\home\andres\u4a2\user\usr_display.c
0042ea   ec64     CALL      0x4cc8,0x0                                                                                      
0042ec   f026                                                                                                               
0042ee   ec49     CALL      0x4c92,0x0             while(BusyXLCD());              // Wait if LCD busy                      Z:\home\andres\u4a2\user\usr_display.c
0042f0   f026                                                                                                               
0042f2   e1fd     BNZ       0x42ee                                                                                          
0042f4   0e0c     MOVLW     0xc                    WriteCmdXLCD(DON&CURSOR_ON&BLINK_ON);           // Display ON/Blink ON   Z:\home\andres\u4a2\user\usr_display.c
0042f6   ec64     CALL      0x4cc8,0x0                                                                                      
0042f8   f026                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Clear display                                                         Z:\home\andres\u4a2\user\usr_display.c
0042fa   ec49     CALL      0x4c92,0x0             while(BusyXLCD());              // Wait if LCD busy                      Z:\home\andres\u4a2\user\usr_display.c
0042fc   f026                                                                                                               
0042fe   e1fd     BNZ       0x42fa                                                                                          
004300   0e01     MOVLW     0x1                    WriteCmdXLCD(0x01);             // Clear display                         Z:\home\andres\u4a2\user\usr_display.c
004302   ec64     CALL      0x4cc8,0x0                                                                                      
004304   f026                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Set entry mode inc, no shift                                          Z:\home\andres\u4a2\user\usr_display.c
004306   ec49     CALL      0x4c92,0x0             while(BusyXLCD());              // Wait if LCD busy                      Z:\home\andres\u4a2\user\usr_display.c
004308   f026                                                                                                               
00430a   e1fd     BNZ       0x4306                                                                                          
00430c   0e13     MOVLW     0x13                   WriteCmdXLCD(SHIFT_CUR_LEFT);   // Entry Mode                            Z:\home\andres\u4a2\user\usr_display.c
00430e   ec64     CALL      0x4cc8,0x0                                                                                      
004310   f026                                                                                                               
004cc8   6ee6     MOVWF     0xe6,0x0                                                                                        
004cca   ec39     CALL      0x4272,0x0                                                                                      
004ccc   f021                                                                                                               
004cce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cd0   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   // Set DD Ram address to 0                                               Z:\home\andres\u4a2\user\usr_display.c
004312   ec49     CALL      0x4c92,0x0             while(BusyXLCD());              // Wait if LCD busy                      Z:\home\andres\u4a2\user\usr_display.c
004314   f026                                                                                                               
004316   e1fd     BNZ       0x4312                                                                                          
004318   6ae6     CLRF      0xe6,0x0               SetDDRamAddr(0);                // Set Display data ram address to 0     Z:\home\andres\u4a2\user\usr_display.c
00431a   dfb3     RCALL     0x4282                                                                                          
00431c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                   return;                                                                  Z:\home\andres\u4a2\user\usr_display.c
00431e   ef82     GOTO      0x4d04         }                                                                                Z:\home\andres\u4a2\user\usr_display.c
004320   f026                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /********************************************************************            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Function Name:  WriteDataXLCD                               *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Return Value:   void                                        *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Parameters:     data: data byte to be written to LCD        *            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Description:    This routine writes a data byte to the      *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       Hitachi HD44780 LCD controller. The user    *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       must check to see if the LCD controller is  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       busy before calling this routine. The data  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       is written to the character generator RAM or*            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       the display data RAM depending on what the  *            Z:\home\andres\u4a2\user\usr_display.c
                                           *                       previous SetxxRamAddr routine was called.   *            Z:\home\andres\u4a2\user\usr_display.c
                                           ********************************************************************/            Z:\home\andres\u4a2\user\usr_display.c
004322   ec38     CALL      0x4c70,0x0     void WriteDataXLCD(char data)                                                    Z:\home\andres\u4a2\user\usr_display.c
004324   f026                                                                                                               
004c70   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
004c72   ffe6                                                                                                               
004c74   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004c76   ffd9                                                                                                               
004c78   0012     RETURN    0x0                                                                                             
                                           {                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef BIT8                             // 8-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0;             // Make port output                      Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT = data;               // Write data to port                    Z:\home\andres\u4a2\user\usr_display.c
                                                   RS_PIN = 1;                     // Set control bits                      Z:\home\andres\u4a2\user\usr_display.c
                                                   RW_PIN = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                      // Clock data into LCD                   Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                                   RS_PIN = 0;                     // Reset control bits                    Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT = 0xff;          // Make port input                       Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // 4-bit interface                       Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT &= 0x0f;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= data&0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
004326   ec52     CALL      0x4ca4,0x0             TRIS_DATA_PORT &= 0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
004328   f026                                                                                                               
                                                   DATA_PORT &= 0xf0;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= ((data>>4)&0x0f);                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
00432a   8a8c     BSF       0x8c,0x5,0x0           RS_PIN = 1;                     // Set control bits                      Z:\home\andres\u4a2\user\usr_display.c
00432c   9c8c     BCF       0x8c,0x6,0x0           RW_PIN = 0;                                                              Z:\home\andres\u4a2\user\usr_display.c
00432e   ef2b     GOTO      0x4c56                 DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
004330   f026                                                                                                               
004c56   d85a     RCALL     0x4d0c                                                                                          
                                                   E_PIN = 1;                      // Clock nibble into LCD                 Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
004c58   988c     BCF       0x8c,0x4,0x0           E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT &= 0x0f;                                                       Z:\home\andres\u4a2\user\usr_display.c
                                                   DATA_PORT |= ((data<<4)&0xf0);                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
004c5a   0ef0     MOVLW     0xf0                   DATA_PORT &= 0xf0;                                                       Z:\home\andres\u4a2\user\usr_display.c
004c5c   1683     ANDWF     0x83,0x1,0x0                                                                                    
004c5e   0efe     MOVLW     0xfe                   DATA_PORT |= (data&0x0f);                                                Z:\home\andres\u4a2\user\usr_display.c
004c60   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c62   0b0f     ANDLW     0xf                                                                                             
004c64   1283     IORWF     0x83,0x1,0x0                                                                                    
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
004c66   d852     RCALL     0x4d0c                 DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
                                                   E_PIN = 1;                      // Clock nibble into LCD                 Z:\home\andres\u4a2\user\usr_display.c
                                                   DelayFor18TCY();                                                         Z:\home\andres\u4a2\user\usr_display.c
004c68   988c     BCF       0x8c,0x4,0x0           E_PIN = 0;                                                               Z:\home\andres\u4a2\user\usr_display.c
                                           #ifdef UPPER                            // Upper nibble interface                Z:\home\andres\u4a2\user\usr_display.c
                                                   TRIS_DATA_PORT |= 0xf0;                                                  Z:\home\andres\u4a2\user\usr_display.c
                                           #else                                   // Lower nibble interface                Z:\home\andres\u4a2\user\usr_display.c
004c6a   0e0f     MOVLW     0xf                    TRIS_DATA_PORT |= 0x0f;                                                  Z:\home\andres\u4a2\user\usr_display.c
004c6c   1295     IORWF     0x95,0x1,0x0                                                                                    
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           #endif                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                                   return;                                                                  Z:\home\andres\u4a2\user\usr_display.c
004c6e   d04a     BRA       0x4d04         }                                                                                Z:\home\andres\u4a2\user\usr_display.c
004d04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d06   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004d08   ffd9                                                                                                               
004d0a   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /********************************************************************            Z:\home\andres\u4a2\user\usr_display.c
                                           *       Function Name:  putsXLCD                                                 Z:\home\andres\u4a2\user\usr_display.c
                                           *       Return Value:   void                                                     Z:\home\andres\u4a2\user\usr_display.c
                                           *       Parameters:     buffer: pointer to string                                Z:\home\andres\u4a2\user\usr_display.c
                                           *       Description:    This routine writes a string of bytes to the             Z:\home\andres\u4a2\user\usr_display.c
                                           *                       Hitachi HD44780 LCD controller. The user                 Z:\home\andres\u4a2\user\usr_display.c
                                           *                       must check to see if the LCD controller is               Z:\home\andres\u4a2\user\usr_display.c
                                           *                       busy before calling this routine. The data               Z:\home\andres\u4a2\user\usr_display.c
                                           *                       is written to the character generator RAM or             Z:\home\andres\u4a2\user\usr_display.c
                                           *                       the display data RAM depending on what the               Z:\home\andres\u4a2\user\usr_display.c
                                           *                       previous SetxxRamAddr routine was called.                Z:\home\andres\u4a2\user\usr_display.c
                                           ********************************************************************/            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
004332   ec38     CALL      0x4c70,0x0     void putsXLCD(char *buffer)                                                      Z:\home\andres\u4a2\user\usr_display.c
004334   f026                                                                                                               
                                           {                                                                                Z:\home\andres\u4a2\user\usr_display.c
004336   ec69     CALL      0x4cd2,0x0             while(*buffer)                  // Write data to LCD up to null          Z:\home\andres\u4a2\user\usr_display.c
004338   f026                                                                                                               
00433a   e00e     BZ        0x4358                                                                                          
004356   d7ef     BRA       0x4336                                                                                          
004cd2   0efd     MOVLW     0xfd                                                                                            
004cd4   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004cd6   ffe9                                                                                                               
004cd8   0efe     MOVLW     0xfe                                                                                            
004cda   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004cdc   ffea                                                                                                               
004cde   50ef     MOVF      0xef,0x0,0x0                                                                                    
004ce0   0012     RETURN    0x0                                                                                             
                                                   {                                                                        Z:\home\andres\u4a2\user\usr_display.c
00433c   ec49     CALL      0x4c92,0x0                     while(BusyXLCD());      // Wait while LCD is busy                Z:\home\andres\u4a2\user\usr_display.c
00433e   f026                                                                                                               
004340   e1fd     BNZ       0x433c                                                                                          
004342   ec69     CALL      0x4cd2,0x0                     WriteDataXLCD(*buffer); // Write character to LCD                Z:\home\andres\u4a2\user\usr_display.c
004344   f026                                                                                                               
004346   6ee6     MOVWF     0xe6,0x0                                                                                        
004348   dfec     RCALL     0x4322                                                                                          
00434a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00434c   0efd     MOVLW     0xfd                           buffer++;               // Increment buffer                      Z:\home\andres\u4a2\user\usr_display.c
00434e   2adb     INCF      0xdb,0x1,0x0                                                                                    
004350   0efe     MOVLW     0xfe                                                                                            
004352   e3f1     BNC       0x4336                                                                                          
004354   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                                   }                                                                        Z:\home\andres\u4a2\user\usr_display.c
                                                   return;                                                                  Z:\home\andres\u4a2\user\usr_display.c
004358   ef82     GOTO      0x4d04         }                                                                                Z:\home\andres\u4a2\user\usr_display.c
00435a   f026                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        commandXLCD(unsigned char a)                                 Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        Esta funcion manda comandos al display y comprueba si esta  ocupado. Z:\home\andres\u4a2\user\usr_display.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
00435c   ec38     CALL      0x4c70,0x0     void commandXLCD (unsigned char a) { // Envia comando al LCD                     Z:\home\andres\u4a2\user\usr_display.c
00435e   f026                                                                                                               
004360   ec49     CALL      0x4c92,0x0     	while(BusyXLCD());                                                              Z:\home\andres\u4a2\user\usr_display.c
004362   f026                                                                                                               
004364   e1fd     BNZ       0x4360                                                                                          
004c92   ec2d     CALL      0x425a,0x0                                                                                      
004c94   f021                                                                                                               
004c96   0900     IORLW     0x0                                                                                             
004c98   0012     RETURN    0x0                                                                                             
004366   ec71     CALL      0x4ce2,0x0     	WriteCmdXLCD(a);                                                                Z:\home\andres\u4a2\user\usr_display.c
004368   f026                                                                                                               
00436a   ef82     GOTO      0x4d04         }                                                                                Z:\home\andres\u4a2\user\usr_display.c
00436c   f026                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        displayInit(void)                                            Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_display.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           void displayInit(void){                                                          Z:\home\andres\u4a2\user\usr_display.c
00436e   df6f     RCALL     0x424e         	DelayPORXLCD();			/* Espero 15ms @20MHz*/                                       Z:\home\andres\u4a2\user\usr_display.c
004370   0e03     MOVLW     0x3            	commandXLCD(COMANDO_1);		/* Primera palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
004372   ec26     CALL      0x4c4c,0x0                                                                                      
004374   f026                                                                                                               
004376   0e08     MOVLW     0x8            	Delay10KTCYx(8); 		/* Espero 4ms @20MHz*/                                       Z:\home\andres\u4a2\user\usr_display.c
004378   ec78     CALL      0x4cf0,0x0                                                                                      
00437a   f026                                                                                                               
00437c   ec8b     CALL      0x4d16,0x0     	Delay1KTCYx(2); 		/* Espero 100us @20MHz*/                                      Z:\home\andres\u4a2\user\usr_display.c
00437e   f026                                                                                                               
004d16   0e02     MOVLW     0x2                                                                                             
004d18   6ee6     MOVWF     0xe6,0x0                                                                                        
004d1a   ec28     CALL      0x2c50,0x0                                                                                      
004d1c   f016                                                                                                               
004d1e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d20   0e03     MOVLW     0x3            	commandXLCD(COMANDO_1);		/* Primera palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
004d22   ef26     GOTO      0x4c4c                                                                                          
004d24   f026                                                                                                               
004380   ec8b     CALL      0x4d16,0x0     	Delay1KTCYx(2); 		/* Espero 100us @20MHz*/                                      Z:\home\andres\u4a2\user\usr_display.c
004382   f026                                                                                                               
                                           	commandXLCD(COMANDO_1);		/* Primera palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
004384   0e02     MOVLW     0x2            	commandXLCD(COMANDO_2);		/* Segunda palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
004386   ec26     CALL      0x4c4c,0x0                                                                                      
004388   f026                                                                                                               
00438a   0e02     MOVLW     0x2            	commandXLCD(COMANDO_2);		/* Segunda palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
00438c   ec26     CALL      0x4c4c,0x0                                                                                      
00438e   f026                                                                                                               
004390   0e28     MOVLW     0x28           	commandXLCD(FUNCION_INI);	/* Configuracion de funciones*/                       Z:\home\andres\u4a2\user\usr_display.c
004392   ec26     CALL      0x4c4c,0x0                                                                                      
004394   f026                                                                                                               
004396   0e28     MOVLW     0x28           	commandXLCD(FUNCION_INI);	/* Configuracion de funciones*/                       Z:\home\andres\u4a2\user\usr_display.c
004398   ec26     CALL      0x4c4c,0x0                                                                                      
00439a   f026                                                                                                               
00439c   0e08     MOVLW     0x8            	commandXLCD(COMANDO_3);		/* Tercera palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
00439e   ec26     CALL      0x4c4c,0x0                                                                                      
0043a0   f026                                                                                                               
0043a2   0e08     MOVLW     0x8            	commandXLCD(COMANDO_3);		/* Tercera palabara de inicializacion*/                Z:\home\andres\u4a2\user\usr_display.c
0043a4   ec26     CALL      0x4c4c,0x0                                                                                      
0043a6   f026                                                                                                               
0043a8   0e01     MOVLW     0x1            	commandXLCD(LIMPIAR);		/* Display On, Cursor On, Cursor Blink*/                 Z:\home\andres\u4a2\user\usr_display.c
0043aa   ec26     CALL      0x4c4c,0x0                                                                                      
0043ac   f026                                                                                                               
0043ae   0e01     MOVLW     0x1            	commandXLCD(LIMPIAR);		/* Display On, Cursor On, Cursor Blink*/                 Z:\home\andres\u4a2\user\usr_display.c
0043b0   ec93     CALL      0x4d26,0x0                                                                                      
0043b2   f026                                                                                                               
004d26   df92     RCALL     0x4c4c                                                                                          
004d28   0e06     MOVLW     0x6            	commandXLCD(MODO_ENT);		/* Modo de entrada*/                                    Z:\home\andres\u4a2\user\usr_display.c
004d2a   df90     RCALL     0x4c4c                                                                                          
0043b4   ec93     CALL      0x4d26,0x0     	commandXLCD(MODO_ENT);		/* Modo de entrada*/                                    Z:\home\andres\u4a2\user\usr_display.c
0043b6   f026                                                                                                               
004d2c   0e06     MOVLW     0x6                                                                                             
004d2e   0012     RETURN    0x0                                                                                             
                                           	commandXLCD(COMANDO_4);		/* Cuarta palabara de inicializacion*/                 Z:\home\andres\u4a2\user\usr_display.c
0043b8   ec26     CALL      0x4c4c,0x0     	commandXLCD(COMANDO_4);		/* Cuarta palabara de inicializacion*/                 Z:\home\andres\u4a2\user\usr_display.c
0043ba   f026                                                                                                               
0043bc   0e0c     MOVLW     0xc            	commandXLCD(DON);		/* Limpio el display*/                                       Z:\home\andres\u4a2\user\usr_display.c
0043be   ec26     CALL      0x4c4c,0x0                                                                                      
0043c0   f026                                                                                                               
0043c2   0e0c     MOVLW     0xc            	commandXLCD(DON);		/* Limpio el display*/                                       Z:\home\andres\u4a2\user\usr_display.c
0043c4   ec26     CALL      0x4c4c,0x0                                                                                      
0043c6   f026                                                                                                               
0043c8   0e80     MOVLW     0x80           	commandXLCD(CASA);		/* Voy al inicio del display*/                              Z:\home\andres\u4a2\user\usr_display.c
0043ca   ec26     CALL      0x4c4c,0x0                                                                                      
0043cc   f026                                                                                                               
0043ce   0e80     MOVLW     0x80           	commandXLCD(CASA);		/* Voy al inicio del display*/                              Z:\home\andres\u4a2\user\usr_display.c
0043d0   ef26     GOTO      0x4c4c                                                                                          
0043d2   f026                                                                                                               
                                           }//end UserDisplayInit                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        UserDisplayInit(void)                                        Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the framework  Z:\home\andres\u4a2\user\usr_display.c
                                            *					when the module is opened	                                                Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
0043d4   ec38     CALL      0x4c70,0x0     void UserDisplayInit(byte i){                                                    Z:\home\andres\u4a2\user\usr_display.c
0043d6   f026                                                                                                               
0043d8   0e23     MOVLW     0x23                                                                                            
0043da   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_display.c
                                           	char string_1[17]; 	/* caracteres a mostrar en el display en la linea 1*/       Z:\home\andres\u4a2\user\usr_display.c
                                           	char string_2[17]; 	/* caracteres a mostrar en el display en la linea 2	*/      Z:\home\andres\u4a2\user\usr_display.c
0043dc   0efe     MOVLW     0xfe           	usrDisplayHandler = i;                                                          Z:\home\andres\u4a2\user\usr_display.c
0043de   cfdb     MOVFF     0xfdb,0x198                                                                                     
0043e0   f198                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_display.c
0043e2   0e5e     MOVLW     0x5e           	setHandlerReceiveFunction(usrDisplayHandler,&UserDisplayReceived);              Z:\home\andres\u4a2\user\usr_display.c
0043e4   6ee6     MOVWF     0xe6,0x0                                                                                        
0043e6   0e45     MOVLW     0x45                                                                                            
0043e8   6ee6     MOVWF     0xe6,0x0                                                                                        
0043ea   c198     MOVFF     0x198,0xfe6                                                                                     
0043ec   ffe6                                                                                                               
0043ee   ec67     CALL      0x24ce,0x0                                                                                      
0043f0   f012                                                                                                               
0043f2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0043f4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0043f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_display.c
                                           	//res = addPollingFunction(&UserDisplayProcessIO);                              Z:\home\andres\u4a2\user\usr_display.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_display.c
0043f8   c198     MOVFF     0x198,0xfe6    	sendBufferUsrDisplay = getSharedBuffer(usrDisplayHandler);                      Z:\home\andres\u4a2\user\usr_display.c
0043fa   ffe6                                                                                                               
0043fc   ece4     CALL      0x29c8,0x0                                                                                      
0043fe   f014                                                                                                               
004400   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004402   cff3     MOVFF     0xff3,0x199                                                                                     
004404   f199                                                                                                               
004406   cff4     MOVFF     0xff4,0x19a                                                                                     
004408   f19a                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\usr_display.c
00440a   0101     MOVLB     0x1            	if (display_init == FALSE){                                                     Z:\home\andres\u4a2\user\usr_display.c
00440c   51a4     MOVF      0xa4,0x0,0x1                                                                                    
00440e   e106     BNZ       0x441c                                                                                          
004410   0e01     MOVLW     0x1            		display_init = TRUE;                                                           Z:\home\andres\u4a2\user\usr_display.c
004412   6fa4     MOVWF     0xa4,0x1                                                                                        
004414   6a95     CLRF      0x95,0x0       		mInitDisplay(); 			/* Inicio Display en TRISD */                               Z:\home\andres\u4a2\user\usr_display.c
004416   9493     BCF       0x93,0x2,0x0   		mInitBKL();				/*Incio el puerto del backlight*/                               Z:\home\andres\u4a2\user\usr_display.c
004418   948a     BCF       0x8a,0x2,0x0                                                                                    
00441a   d084     BRA       0x4524         	}else{                                                                          Z:\home\andres\u4a2\user\usr_display.c
00441c   ec98     CALL      0x4d30,0x0     		commandXLCD(LIMPIAR);                                                          Z:\home\andres\u4a2\user\usr_display.c
00441e   f026                                                                                                               
004d30   0e01     MOVLW     0x1                                                                                             
004d32   df8c     RCALL     0x4c4c                                                                                          
004d34   0e02     MOVLW     0x2            		commandXLCD(LINEA_1);                                                          Z:\home\andres\u4a2\user\usr_display.c
004d36   ef26     GOTO      0x4c4c                                                                                          
004d38   f026                                                                                                               
004420   52de     MOVF      0xde,0x1,0x0   		string_1[0]='I'; string_1[1]='M'; string_1[2]='M'; string_1[3]=' '; string_1[4]= 'E'; string_1[5]='l'; Z:\home\andres\u4a2\user\usr_display.c
004422   0e49     MOVLW     0x49                                                                                            
004424   6edd     MOVWF     0xdd,0x0                                                                                        
004426   0e4d     MOVLW     0x4d                                                                                            
004428   6ef3     MOVWF     0xf3,0x0                                                                                        
00442a   0e02     MOVLW     0x2                                                                                             
00442c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00442e   ffdb                                                                                                               
004430   0e4d     MOVLW     0x4d                                                                                            
004432   6ef3     MOVWF     0xf3,0x0                                                                                        
004434   0e03     MOVLW     0x3                                                                                             
004436   ec3d     CALL      0x4c7a,0x0                                                                                      
004438   f026                                                                                                               
00443a   0e04     MOVLW     0x4                                                                                             
00443c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00443e   ffdb                                                                                                               
004440   0e45     MOVLW     0x45                                                                                            
004442   6ef3     MOVWF     0xf3,0x0                                                                                        
004444   0e05     MOVLW     0x5                                                                                             
004446   cff3     MOVFF     0xff3,0xfdb                                                                                     
004448   ffdb                                                                                                               
00444a   0e6c     MOVLW     0x6c                                                                                            
00444c   6ef3     MOVWF     0xf3,0x0                                                                                        
00444e   0e06     MOVLW     0x6                                                                                             
004450   cff3     MOVFF     0xff3,0xfdb                                                                                     
004452   ffdb                                                                                                               
004454   0e65     MOVLW     0x65           		string_1[6]='e';                                                               Z:\home\andres\u4a2\user\usr_display.c
004456   6ef3     MOVWF     0xf3,0x0                                                                                        
004458   0e07     MOVLW     0x7                                                                                             
00445a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00445c   ffdb                                                                                                               
00445e   0e63     MOVLW     0x63           		string_1[7]='c'; string_1[8]='t'; string_1[9]='r'; string_1[10]='o'; string_1[11]='n'; string_1[12]='i'; Z:\home\andres\u4a2\user\usr_display.c
004460   6ef3     MOVWF     0xf3,0x0                                                                                        
004462   0e08     MOVLW     0x8                                                                                             
004464   cff3     MOVFF     0xff3,0xfdb                                                                                     
004466   ffdb                                                                                                               
004468   0e74     MOVLW     0x74                                                                                            
00446a   6ef3     MOVWF     0xf3,0x0                                                                                        
00446c   0e09     MOVLW     0x9                                                                                             
00446e   cff3     MOVFF     0xff3,0xfdb                                                                                     
004470   ffdb                                                                                                               
004472   0e72     MOVLW     0x72                                                                                            
004474   6ef3     MOVWF     0xf3,0x0                                                                                        
004476   0e0a     MOVLW     0xa                                                                                             
004478   cff3     MOVFF     0xff3,0xfdb                                                                                     
00447a   ffdb                                                                                                               
00447c   0e6f     MOVLW     0x6f                                                                                            
00447e   6ef3     MOVWF     0xf3,0x0                                                                                        
004480   0e0b     MOVLW     0xb                                                                                             
004482   cff3     MOVFF     0xff3,0xfdb                                                                                     
004484   ffdb                                                                                                               
004486   0e6e     MOVLW     0x6e                                                                                            
004488   6ef3     MOVWF     0xf3,0x0                                                                                        
00448a   0e0c     MOVLW     0xc                                                                                             
00448c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00448e   ffdb                                                                                                               
004490   0e69     MOVLW     0x69                                                                                            
004492   6ef3     MOVWF     0xf3,0x0                                                                                        
004494   0e0d     MOVLW     0xd                                                                                             
004496   cff3     MOVFF     0xff3,0xfdb                                                                                     
004498   ffdb                                                                                                               
00449a   0e63     MOVLW     0x63           		string_1[13]='c'; string_1[14]='a';                                            Z:\home\andres\u4a2\user\usr_display.c
00449c   6ef3     MOVWF     0xf3,0x0                                                                                        
00449e   0e0e     MOVLW     0xe                                                                                             
0044a0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044a2   ffdb                                                                                                               
0044a4   0e61     MOVLW     0x61                                                                                            
0044a6   6ef3     MOVWF     0xf3,0x0                                                                                        
0044a8   0e0f     MOVLW     0xf                                                                                             
0044aa   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044ac   ffdb                                                                                                               
0044ae   0e10     MOVLW     0x10           		string_1[15]= 0; /*Termino el string*/                                         Z:\home\andres\u4a2\user\usr_display.c
0044b0   6adb     CLRF      0xdb,0x0                                                                                        
0044b2   50d9     MOVF      0xd9,0x0,0x0   		putsXLCD(string_1);                                                            Z:\home\andres\u4a2\user\usr_display.c
0044b4   0f01     ADDLW     0x1                                                                                             
0044b6   ec5b     CALL      0x4cb6,0x0                                                                                      
0044b8   f026                                                                                                               
004cb6   6ee6     MOVWF     0xe6,0x0                                                                                        
004cb8   0e00     MOVLW     0x0                                                                                             
004cba   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004cbc   6ee6     MOVWF     0xe6,0x0                                                                                        
004cbe   ec99     CALL      0x4332,0x0                                                                                      
004cc0   f021                                                                                                               
004cc2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004cc6   0012     RETURN    0x0                                                                                             
                                           		                                                                               Z:\home\andres\u4a2\user\usr_display.c
0044ba   0e44     MOVLW     0x44           		string_2[0]='D';string_2[1]='I';string_2[2]='S';string_2[3]='P';string_2[4]=' ';string_2[5]='I'; Z:\home\andres\u4a2\user\usr_display.c
0044bc   6ef3     MOVWF     0xf3,0x0                                                                                        
0044be   0e12     MOVLW     0x12                                                                                            
0044c0   ec7d     CALL      0x4cfa,0x0                                                                                      
0044c2   f026                                                                                                               
0044c4   0e13     MOVLW     0x13                                                                                            
0044c6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044c8   ffdb                                                                                                               
0044ca   0e53     MOVLW     0x53                                                                                            
0044cc   6ef3     MOVWF     0xf3,0x0                                                                                        
0044ce   0e14     MOVLW     0x14                                                                                            
0044d0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044d2   ffdb                                                                                                               
0044d4   0e50     MOVLW     0x50                                                                                            
0044d6   6ef3     MOVWF     0xf3,0x0                                                                                        
0044d8   0e15     MOVLW     0x15                                                                                            
0044da   dbcf     RCALL     0x4c7a                                                                                          
0044dc   0e16     MOVLW     0x16                                                                                            
0044de   ec7d     CALL      0x4cfa,0x0                                                                                      
0044e0   f026                                                                                                               
0044e2   0e17     MOVLW     0x17                                                                                            
0044e4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044e6   ffdb                                                                                                               
0044e8   0e4e     MOVLW     0x4e           		string_2[6]='N';string_2[7]='I';string_2[8]='T';                               Z:\home\andres\u4a2\user\usr_display.c
0044ea   6ef3     MOVWF     0xf3,0x0                                                                                        
0044ec   0e18     MOVLW     0x18                                                                                            
0044ee   ec7d     CALL      0x4cfa,0x0                                                                                      
0044f0   f026                                                                                                               
0044f2   0e19     MOVLW     0x19                                                                                            
0044f4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0044f6   ffdb                                                                                                               
0044f8   0e54     MOVLW     0x54                                                                                            
0044fa   6ef3     MOVWF     0xf3,0x0                                                                                        
0044fc   0e1a     MOVLW     0x1a                                                                                            
0044fe   dbbd     RCALL     0x4c7a                                                                                          
004cfa   cff3     MOVFF     0xff3,0xfdb                                                                                     
004cfc   ffdb                                                                                                               
004cfe   0e49     MOVLW     0x49                                                                                            
004d00   6ef3     MOVWF     0xf3,0x0                                                                                        
004d02   0012     RETURN    0x0                                                                                             
004500   0e1b     MOVLW     0x1b           		string_2[9]=' ';string_2[10]=' ';string_2[11]=' ';string_2[12]=' ';string_2[13]=' '; Z:\home\andres\u4a2\user\usr_display.c
004502   dbbb     RCALL     0x4c7a                                                                                          
004504   0e1c     MOVLW     0x1c                                                                                            
004506   dbb9     RCALL     0x4c7a                                                                                          
004508   0e1d     MOVLW     0x1d                                                                                            
00450a   dbb7     RCALL     0x4c7a                                                                                          
00450c   0e1e     MOVLW     0x1e                                                                                            
00450e   dbb5     RCALL     0x4c7a                                                                                          
004510   0e1f     MOVLW     0x1f                                                                                            
004512   cff3     MOVFF     0xff3,0xfdb                                                                                     
004514   ffdb                                                                                                               
004c7a   cff3     MOVFF     0xff3,0xfdb                                                                                     
004c7c   ffdb                                                                                                               
004c7e   0e20     MOVLW     0x20                                                                                            
004c80   6ef3     MOVWF     0xf3,0x0                                                                                        
004c82   0012     RETURN    0x0                                                                                             
004516   0e20     MOVLW     0x20           		string_2[14]=0; /*Termino el string*/                                          Z:\home\andres\u4a2\user\usr_display.c
004518   6adb     CLRF      0xdb,0x0                                                                                        
00451a   0ec0     MOVLW     0xc0           		commandXLCD(LINEA_2); /*Paso a la segunda linea*/                              Z:\home\andres\u4a2\user\usr_display.c
00451c   db97     RCALL     0x4c4c                                                                                          
00451e   50d9     MOVF      0xd9,0x0,0x0   		putsXLCD(string_2);                                                            Z:\home\andres\u4a2\user\usr_display.c
004520   0f12     ADDLW     0x12                                                                                            
004522   dbc9     RCALL     0x4cb6                                                                                          
                                           	}                                                                               Z:\home\andres\u4a2\user\usr_display.c
004524   0e23     MOVLW     0x23           }//end UserDisplayInit                                                           Z:\home\andres\u4a2\user\usr_display.c
004526   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004528   e202     BC        0x452e                                                                                          
00452a   6ae1     CLRF      0xe1,0x0                                                                                        
00452c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00452e   6ee1     MOVWF     0xe1,0x0                                                                                        
004530   d3e9     BRA       0x4d04                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        UserDisplayConfigure(void)                                   Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_display.c
                                            *						                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayConfigure(void) {                                                Z:\home\andres\u4a2\user\usr_display.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_display.c
004532   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        UserDisplayProcessIO(void)                                   Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO interaction Z:\home\andres\u4a2\user\usr_display.c
                                            *					int the PIC, also it can comunicate things to the pc by the USB	          Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                           void UserDisplayProcessIO(void){                                                 Z:\home\andres\u4a2\user\usr_display.c
004534   0e06     MOVLW     0x6            	if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;         Z:\home\andres\u4a2\user\usr_display.c
004536   0101     MOVLB     0x1                                                                                             
004538   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                           	// here enter the code that want to be called periodically, per example interaction with buttons and leds.	 Z:\home\andres\u4a2\user\usr_display.c
00453a   0012     RETURN    0x0            } //end ProcessIO                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        UserDesplayRelease(byte i)                                   Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_display.c
                                            *					when the module is close	                                                 Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
00453c   db99     RCALL     0x4c70         void UserDisplayRelease(byte i){                                                 Z:\home\andres\u4a2\user\usr_display.c
00453e   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_display.c
004540   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004542   ffe6                                                                                                               
004544   ec63     CALL      0x24c6,0x0                                                                                      
004546   f012                                                                                                               
004548   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00454a   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_display.c
00454c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00454e   ffe6                                                                                                               
004550   ec6a     CALL      0x24d4,0x0                                                                                      
004552   f012                                                                                                               
004554   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           //	BusyXLCD();					/* Espero a que se libere el display*/ /*Esto causa una colgada! ojo*/ Z:\home\andres\u4a2\user\usr_display.c
004556   dbec     RCALL     0x4d30         	commandXLCD(LIMPIAR);				/*Limpio el display*/                                  Z:\home\andres\u4a2\user\usr_display.c
004c4c   6ee6     MOVWF     0xe6,0x0       	commandXLCD(COMANDO_2); 			/*Limpio la memoria DDRAM*/                          Z:\home\andres\u4a2\user\usr_display.c
004c4e   ecae     CALL      0x435c,0x0                                                                                      
004c50   f021                                                                                                               
004c52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c54   0012     RETURN    0x0                                                                                             
004558   0e08     MOVLW     0x8            	commandXLCD(DOFF); 				/* Apago el display*/                                    Z:\home\andres\u4a2\user\usr_display.c
00455a   db78     RCALL     0x4c4c                                                                                          
                                           //	BusyXLCD();					/* Espero a que se libere el display*/                        Z:\home\andres\u4a2\user\usr_display.c
                                           //	TODO esta bien que este el release                                            Z:\home\andres\u4a2\user\usr_display.c
                                           //	mReleaseDisplay(); 				/* Libero el TRISD*/                                   Z:\home\andres\u4a2\user\usr_display.c
00455c   d3d3     BRA       0x4d04         }                                                                                Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_display.c
                                            * Function:        UserDisplayReceived(byte* recBuffPtr, byte len)              Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_display.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_display.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_display.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
00455e   cfd9     MOVFF     0xfd9,0xfe6    void UserDisplayReceived(byte* recBuffPtr, byte len){                            Z:\home\andres\u4a2\user\usr_display.c
004560   ffe6                                                                                                               
004562   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004564   ffd9                                                                                                               
004566   0e2f     MOVLW     0x2f                                                                                            
004568   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	  byte index;                                                                   Z:\home\andres\u4a2\user\usr_display.c
00456a   50d9     MOVF      0xd9,0x0,0x0   	  char mens[9] = "Display";                                                     Z:\home\andres\u4a2\user\usr_display.c
00456c   0f01     ADDLW     0x1                                                                                             
00456e   6ee9     MOVWF     0xe9,0x0                                                                                        
004570   cfda     MOVFF     0xfda,0xfea                                                                                     
004572   ffea                                                                                                               
004574   0e44     MOVLW     0x44                                                                                            
004576   6eee     MOVWF     0xee,0x0                                                                                        
004578   0e69     MOVLW     0x69                                                                                            
00457a   6eee     MOVWF     0xee,0x0                                                                                        
00457c   0e73     MOVLW     0x73                                                                                            
00457e   6eee     MOVWF     0xee,0x0                                                                                        
004580   0e70     MOVLW     0x70                                                                                            
004582   6eee     MOVWF     0xee,0x0                                                                                        
004584   0e6c     MOVLW     0x6c                                                                                            
004586   6eee     MOVWF     0xee,0x0                                                                                        
004588   0e61     MOVLW     0x61                                                                                            
00458a   6eee     MOVWF     0xee,0x0                                                                                        
00458c   0e79     MOVLW     0x79                                                                                            
00458e   6eee     MOVWF     0xee,0x0                                                                                        
004590   6aee     CLRF      0xee,0x0                                                                                        
004592   6aee     CLRF      0xee,0x0                                                                                        
                                           	  char string_1[17]; 	/* caracteres a mostrar en el display en la linea 1*/     Z:\home\andres\u4a2\user\usr_display.c
                                           	  char string_2[17]; 	/* caracteres a mostrar en el display en la linea 2	*/    Z:\home\andres\u4a2\user\usr_display.c
004594   0e2c     MOVLW     0x2c           	  int i=0;                                                                      Z:\home\andres\u4a2\user\usr_display.c
004596   6adb     CLRF      0xdb,0x0                                                                                        
004598   0e2d     MOVLW     0x2d                                                                                            
00459a   6adb     CLRF      0xdb,0x0                                                                                        
00459c   0e2e     MOVLW     0x2e           	  byte userDisplayCounter = 0;                                                  Z:\home\andres\u4a2\user\usr_display.c
00459e   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
0045a0   0efd     MOVLW     0xfd           	switch(((DISPLAY_DATA_PACKET*)recBuffPtr)->CMD){                                Z:\home\andres\u4a2\user\usr_display.c
0045a2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0045a4   ffe9                                                                                                               
0045a6   0efe     MOVLW     0xfe                                                                                            
0045a8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0045aa   ffea                                                                                                               
0045ac   50ef     MOVF      0xef,0x0,0x0                                                                                    
0045ae   0a05     XORLW     0x5                                                                                             
0045b0   e101     BNZ       0x45b4                                                                                          
0045b2   d325     BRA       0x4bfe                                                                                          
0045b4   0afa     XORLW     0xfa                                                                                            
0045b6   e101     BNZ       0x45ba                                                                                          
0045b8   d320     BRA       0x4bfa                                                                                          
0045ba   0af6     XORLW     0xf6                                                                                            
0045bc   e101     BNZ       0x45c0                                                                                          
0045be   d2ee     BRA       0x4b9c                                                                                          
0045c0   0a01     XORLW     0x1                                                                                             
0045c2   e101     BNZ       0x45c6                                                                                          
0045c4   d2bd     BRA       0x4b40                                                                                          
0045c6   0a0c     XORLW     0xc                                                                                             
0045c8   e101     BNZ       0x45cc                                                                                          
0045ca   d28d     BRA       0x4ae6                                                                                          
0045cc   0a07     XORLW     0x7                                                                                             
0045ce   e101     BNZ       0x45d2                                                                                          
0045d0   d255     BRA       0x4a7c                                                                                          
0045d2   0a01     XORLW     0x1                                                                                             
0045d4   e101     BNZ       0x45d8                                                                                          
0045d6   d172     BRA       0x48bc                                                                                          
0045d8   0a03     XORLW     0x3                                                                                             
0045da   e043     BZ        0x4662                                                                                          
0045dc   0a01     XORLW     0x1                                                                                             
0045de   e001     BZ        0x45e2                                                                                          
0045e0   d31c     BRA       0x4c1a                                                                                          
                                           		case READ_VERSION:                                                             Z:\home\andres\u4a2\user\usr_display.c
0045e2   dec5     RCALL     0x436e         			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
                                           			//dataPacket._byte[1] is len                                                  Z:\home\andres\u4a2\user\usr_display.c
0045e4   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_display.c
0045e6   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0045e8   ffe9                                                                                                               
0045ea   0efe     MOVLW     0xfe                                                                                            
0045ec   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0045ee   ffea                                                                                                               
0045f0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0045f2   6ee6     MOVWF     0xe6,0x0                                                                                        
0045f4   c199     MOVFF     0x199,0xfe9                                                                                     
0045f6   ffe9                                                                                                               
0045f8   c19a     MOVFF     0x19a,0xfea                                                                                     
0045fa   ffea                                                                                                               
0045fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0045fe   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004600   6eef     MOVWF     0xef,0x0                                                                                        
004602   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1]; Z:\home\andres\u4a2\user\usr_display.c
004604   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004606   ffe9                                                                                                               
004608   0efe     MOVLW     0xfe                                                                                            
00460a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00460c   ffea                                                                                                               
00460e   0e01     MOVLW     0x1                                                                                             
004610   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004612   0e00     MOVLW     0x0                                                                                             
004614   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004616   50ef     MOVF      0xef,0x0,0x0                                                                                    
004618   6ee6     MOVWF     0xe6,0x0                                                                                        
00461a   c199     MOVFF     0x199,0xfe9                                                                                     
00461c   ffe9                                                                                                               
00461e   c19a     MOVFF     0x19a,0xfea                                                                                     
004620   ffea                                                                                                               
004622   0e01     MOVLW     0x1                                                                                             
004624   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004626   0e00     MOVLW     0x0                                                                                             
004628   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00462a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00462c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00462e   6eef     MOVWF     0xef,0x0                                                                                        
004630   c199     MOVFF     0x199,0xfe9    			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[2] = DISPLAY_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_display.c
004632   ffe9                                                                                                               
004634   c19a     MOVFF     0x19a,0xfea                                                                                     
004636   ffea                                                                                                               
004638   0e02     MOVLW     0x2                                                                                             
00463a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00463c   0e00     MOVLW     0x0                                                                                             
00463e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004640   0e04     MOVLW     0x4                                                                                             
004642   6eef     MOVWF     0xef,0x0                                                                                        
004644   c199     MOVFF     0x199,0xfe9    			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[3] = DISPLAY_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_display.c
004646   ffe9                                                                                                               
004648   c19a     MOVFF     0x19a,0xfea                                                                                     
00464a   ffea                                                                                                               
00464c   0e03     MOVLW     0x3                                                                                             
00464e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004650   0e00     MOVLW     0x0                                                                                             
004652   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004654   6aef     CLRF      0xef,0x0                                                                                        
004656   0e04     MOVLW     0x4            			userDisplayCounter=0x04;                                                      Z:\home\andres\u4a2\user\usr_display.c
004658   6ef3     MOVWF     0xf3,0x0                                                                                        
00465a   0e2e     MOVLW     0x2e                                                                                            
00465c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00465e   ffdb                                                                                                               
004660   d2dc     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case ESCRIBIR:                                                                 Z:\home\andres\u4a2\user\usr_display.c
004662   de85     RCALL     0x436e         			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
004664   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_display.c
004666   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004668   ffe9                                                                                                               
00466a   0efe     MOVLW     0xfe                                                                                            
00466c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00466e   ffea                                                                                                               
004670   50ef     MOVF      0xef,0x0,0x0                                                                                    
004672   6ee6     MOVWF     0xe6,0x0                                                                                        
004674   c199     MOVFF     0x199,0xfe9                                                                                     
004676   ffe9                                                                                                               
004678   c19a     MOVFF     0x19a,0xfea                                                                                     
00467a   ffea                                                                                                               
00467c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00467e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004680   6eef     MOVWF     0xef,0x0                                                                                        
004682   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1]; Z:\home\andres\u4a2\user\usr_display.c
004684   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004686   ffe9                                                                                                               
004688   0efe     MOVLW     0xfe                                                                                            
00468a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00468c   ffea                                                                                                               
00468e   0e01     MOVLW     0x1                                                                                             
004690   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004692   0e00     MOVLW     0x0                                                                                             
004694   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004696   50ef     MOVF      0xef,0x0,0x0                                                                                    
004698   6ee6     MOVWF     0xe6,0x0                                                                                        
00469a   c199     MOVFF     0x199,0xfe9                                                                                     
00469c   ffe9                                                                                                               
00469e   c19a     MOVFF     0x19a,0xfea                                                                                     
0046a0   ffea                                                                                                               
0046a2   0e01     MOVLW     0x1                                                                                             
0046a4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0046a6   0e00     MOVLW     0x0                                                                                             
0046a8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0046aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0046ac   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0046ae   6eef     MOVWF     0xef,0x0                                                                                        
0046b0   0e01     MOVLW     0x1            			for(i=1;i<33;i++){                                                            Z:\home\andres\u4a2\user\usr_display.c
0046b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0046b4   0e2c     MOVLW     0x2c                                                                                            
0046b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0046b8   ffdb                                                                                                               
0046ba   0e2d     MOVLW     0x2d                                                                                            
0046bc   6adb     CLRF      0xdb,0x0                                                                                        
0046be   0e2c     MOVLW     0x2c                                                                                            
0046c0   cfdb     MOVFF     0xfdb,0xb                                                                                       
0046c2   f00b                                                                                                               
0046c4   0e2d     MOVLW     0x2d                                                                                            
0046c6   cfdb     MOVFF     0xfdb,0xc                                                                                       
0046c8   f00c                                                                                                               
0046ca   90d8     BCF       0xd8,0x0,0x0                                                                                    
0046cc   500c     MOVF      0xc,0x0,0x0                                                                                     
0046ce   e604     BN        0x46d8                                                                                          
0046d0   0e21     MOVLW     0x21                                                                                            
0046d2   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
0046d4   0e00     MOVLW     0x0                                                                                             
0046d6   580c     SUBWFB    0xc,0x0,0x0                                                                                     
0046d8   e301     BNC       0x46dc                                                                                          
0046da   d0c8     BRA       0x486c                                                                                          
004860   0e2c     MOVLW     0x2c                                                                                            
004862   2adb     INCF      0xdb,0x1,0x0                                                                                    
004864   0e2d     MOVLW     0x2d                                                                                            
004866   e301     BNC       0x486a                                                                                          
004868   2adb     INCF      0xdb,0x1,0x0                                                                                    
00486a   d729     BRA       0x46be                                                                                          
0046dc   0e2c     MOVLW     0x2c           				if(i<17){                                                                    Z:\home\andres\u4a2\user\usr_display.c
0046de   cfdb     MOVFF     0xfdb,0xb                                                                                       
0046e0   f00b                                                                                                               
0046e2   0e2d     MOVLW     0x2d                                                                                            
0046e4   cfdb     MOVFF     0xfdb,0xc                                                                                       
0046e6   f00c                                                                                                               
0046e8   90d8     BCF       0xd8,0x0,0x0                                                                                    
0046ea   500c     MOVF      0xc,0x0,0x0                                                                                     
0046ec   e604     BN        0x46f6                                                                                          
0046ee   0e11     MOVLW     0x11                                                                                            
0046f0   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
0046f2   0e00     MOVLW     0x0                                                                                             
0046f4   580c     SUBWFB    0xc,0x0,0x0                                                                                     
0046f6   e259     BC        0x47aa                                                                                          
0046f8   0efd     MOVLW     0xfd           					string_1[i-1]= ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[i];                Z:\home\andres\u4a2\user\usr_display.c
0046fa   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0046fc   ffe9                                                                                                               
0046fe   0efe     MOVLW     0xfe                                                                                            
004700   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004702   ffea                                                                                                               
004704   cfe9     MOVFF     0xfe9,0xf                                                                                       
004706   f00f                                                                                                               
004708   cfea     MOVFF     0xfea,0x10                                                                                      
00470a   f010                                                                                                               
00470c   0e2c     MOVLW     0x2c                                                                                            
00470e   50db     MOVF      0xdb,0x0,0x0                                                                                    
004710   240f     ADDWF     0xf,0x0,0x0                                                                                     
004712   6ee9     MOVWF     0xe9,0x0                                                                                        
004714   0e2d     MOVLW     0x2d                                                                                            
004716   50db     MOVF      0xdb,0x0,0x0                                                                                    
004718   2010     ADDWFC    0x10,0x0,0x0                                                                                    
00471a   6eea     MOVWF     0xea,0x0                                                                                        
00471c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00471e   6ee6     MOVWF     0xe6,0x0                                                                                        
004720   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004722   0f0a     ADDLW     0xa                                                                                             
004724   6e0b     MOVWF     0xb,0x0                                                                                         
004726   cfda     MOVFF     0xfda,0xc                                                                                       
004728   f00c                                                                                                               
00472a   0e2c     MOVLW     0x2c                                                                                            
00472c   cfdb     MOVFF     0xfdb,0xd                                                                                       
00472e   f00d                                                                                                               
004730   0e2d     MOVLW     0x2d                                                                                            
004732   cfdb     MOVFF     0xfdb,0xe                                                                                       
004734   f00e                                                                                                               
004736   060d     DECF      0xd,0x1,0x0                                                                                     
004738   0e00     MOVLW     0x0                                                                                             
00473a   5a0e     SUBWFB    0xe,0x1,0x0                                                                                     
00473c   500b     MOVF      0xb,0x0,0x0                                                                                     
00473e   240d     ADDWF     0xd,0x0,0x0                                                                                     
004740   6ee9     MOVWF     0xe9,0x0                                                                                        
004742   500c     MOVF      0xc,0x0,0x0                                                                                     
004744   200e     ADDWFC    0xe,0x0,0x0                                                                                     
004746   6eea     MOVWF     0xea,0x0                                                                                        
004748   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00474a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00474c   6eef     MOVWF     0xef,0x0                                                                                        
00474e   50d9     MOVF      0xd9,0x0,0x0   					if (string_1[i-1] == '_'){                                                  Z:\home\andres\u4a2\user\usr_display.c
004750   0f0a     ADDLW     0xa                                                                                             
004752   6e0b     MOVWF     0xb,0x0                                                                                         
004754   cfda     MOVFF     0xfda,0xc                                                                                       
004756   f00c                                                                                                               
004758   0e2c     MOVLW     0x2c                                                                                            
00475a   cfdb     MOVFF     0xfdb,0xd                                                                                       
00475c   f00d                                                                                                               
00475e   0e2d     MOVLW     0x2d                                                                                            
004760   cfdb     MOVFF     0xfdb,0xe                                                                                       
004762   f00e                                                                                                               
004764   060d     DECF      0xd,0x1,0x0                                                                                     
004766   0e00     MOVLW     0x0                                                                                             
004768   5a0e     SUBWFB    0xe,0x1,0x0                                                                                     
00476a   500b     MOVF      0xb,0x0,0x0                                                                                     
00476c   240d     ADDWF     0xd,0x0,0x0                                                                                     
00476e   6ee9     MOVWF     0xe9,0x0                                                                                        
004770   500c     MOVF      0xc,0x0,0x0                                                                                     
004772   200e     ADDWFC    0xe,0x0,0x0                                                                                     
004774   6eea     MOVWF     0xea,0x0                                                                                        
004776   50ef     MOVF      0xef,0x0,0x0                                                                                    
004778   085f     SUBLW     0x5f                                                                                            
00477a   e116     BNZ       0x47a8                                                                                          
00477c   50d9     MOVF      0xd9,0x0,0x0   						string_1[i-1] = ' ';                                                       Z:\home\andres\u4a2\user\usr_display.c
00477e   0f0a     ADDLW     0xa                                                                                             
004780   6e0b     MOVWF     0xb,0x0                                                                                         
004782   cfda     MOVFF     0xfda,0xc                                                                                       
004784   f00c                                                                                                               
004786   0e2c     MOVLW     0x2c                                                                                            
004788   cfdb     MOVFF     0xfdb,0xd                                                                                       
00478a   f00d                                                                                                               
00478c   0e2d     MOVLW     0x2d                                                                                            
00478e   cfdb     MOVFF     0xfdb,0xe                                                                                       
004790   f00e                                                                                                               
004792   060d     DECF      0xd,0x1,0x0                                                                                     
004794   0e00     MOVLW     0x0                                                                                             
004796   5a0e     SUBWFB    0xe,0x1,0x0                                                                                     
004798   500b     MOVF      0xb,0x0,0x0                                                                                     
00479a   240d     ADDWF     0xd,0x0,0x0                                                                                     
00479c   6ee9     MOVWF     0xe9,0x0                                                                                        
00479e   500c     MOVF      0xc,0x0,0x0                                                                                     
0047a0   200e     ADDWFC    0xe,0x0,0x0                                                                                     
0047a2   6eea     MOVWF     0xea,0x0                                                                                        
0047a4   0e20     MOVLW     0x20                                                                                            
0047a6   6eef     MOVWF     0xef,0x0                                                                                        
                                           					}                                                                           Z:\home\andres\u4a2\user\usr_display.c
0047a8   d05b     BRA       0x4860         				}else{                                                                       Z:\home\andres\u4a2\user\usr_display.c
0047aa   0efd     MOVLW     0xfd           					string_2[i-17]= ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[i];               Z:\home\andres\u4a2\user\usr_display.c
0047ac   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0047ae   ffe9                                                                                                               
0047b0   0efe     MOVLW     0xfe                                                                                            
0047b2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0047b4   ffea                                                                                                               
0047b6   cfe9     MOVFF     0xfe9,0xf                                                                                       
0047b8   f00f                                                                                                               
0047ba   cfea     MOVFF     0xfea,0x10                                                                                      
0047bc   f010                                                                                                               
0047be   0e2c     MOVLW     0x2c                                                                                            
0047c0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0047c2   240f     ADDWF     0xf,0x0,0x0                                                                                     
0047c4   6ee9     MOVWF     0xe9,0x0                                                                                        
0047c6   0e2d     MOVLW     0x2d                                                                                            
0047c8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0047ca   2010     ADDWFC    0x10,0x0,0x0                                                                                    
0047cc   6eea     MOVWF     0xea,0x0                                                                                        
0047ce   50ef     MOVF      0xef,0x0,0x0                                                                                    
0047d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0047d2   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0047d4   0f1b     ADDLW     0x1b                                                                                            
0047d6   6e0b     MOVWF     0xb,0x0                                                                                         
0047d8   cfda     MOVFF     0xfda,0xc                                                                                       
0047da   f00c                                                                                                               
0047dc   0e2c     MOVLW     0x2c                                                                                            
0047de   cfdb     MOVFF     0xfdb,0xd                                                                                       
0047e0   f00d                                                                                                               
0047e2   0e2d     MOVLW     0x2d                                                                                            
0047e4   cfdb     MOVFF     0xfdb,0xe                                                                                       
0047e6   f00e                                                                                                               
0047e8   0e11     MOVLW     0x11                                                                                            
0047ea   5e0d     SUBWF     0xd,0x1,0x0                                                                                     
0047ec   0e00     MOVLW     0x0                                                                                             
0047ee   5a0e     SUBWFB    0xe,0x1,0x0                                                                                     
0047f0   500b     MOVF      0xb,0x0,0x0                                                                                     
0047f2   240d     ADDWF     0xd,0x0,0x0                                                                                     
0047f4   6ee9     MOVWF     0xe9,0x0                                                                                        
0047f6   500c     MOVF      0xc,0x0,0x0                                                                                     
0047f8   200e     ADDWFC    0xe,0x0,0x0                                                                                     
0047fa   6eea     MOVWF     0xea,0x0                                                                                        
0047fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0047fe   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004800   6eef     MOVWF     0xef,0x0                                                                                        
004802   50d9     MOVF      0xd9,0x0,0x0   					if (string_2[i-17] == '_'){                                                 Z:\home\andres\u4a2\user\usr_display.c
004804   0f1b     ADDLW     0x1b                                                                                            
004806   6e0b     MOVWF     0xb,0x0                                                                                         
004808   cfda     MOVFF     0xfda,0xc                                                                                       
00480a   f00c                                                                                                               
00480c   0e2c     MOVLW     0x2c                                                                                            
00480e   cfdb     MOVFF     0xfdb,0xd                                                                                       
004810   f00d                                                                                                               
004812   0e2d     MOVLW     0x2d                                                                                            
004814   cfdb     MOVFF     0xfdb,0xe                                                                                       
004816   f00e                                                                                                               
004818   0e11     MOVLW     0x11                                                                                            
00481a   5e0d     SUBWF     0xd,0x1,0x0                                                                                     
00481c   0e00     MOVLW     0x0                                                                                             
00481e   5a0e     SUBWFB    0xe,0x1,0x0                                                                                     
004820   500b     MOVF      0xb,0x0,0x0                                                                                     
004822   240d     ADDWF     0xd,0x0,0x0                                                                                     
004824   6ee9     MOVWF     0xe9,0x0                                                                                        
004826   500c     MOVF      0xc,0x0,0x0                                                                                     
004828   200e     ADDWFC    0xe,0x0,0x0                                                                                     
00482a   6eea     MOVWF     0xea,0x0                                                                                        
00482c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00482e   085f     SUBLW     0x5f                                                                                            
004830   e117     BNZ       0x4860                                                                                          
004832   50d9     MOVF      0xd9,0x0,0x0   						string_2[i-17] = ' ';                                                      Z:\home\andres\u4a2\user\usr_display.c
004834   0f1b     ADDLW     0x1b                                                                                            
004836   6e0b     MOVWF     0xb,0x0                                                                                         
004838   cfda     MOVFF     0xfda,0xc                                                                                       
00483a   f00c                                                                                                               
00483c   0e2c     MOVLW     0x2c                                                                                            
00483e   cfdb     MOVFF     0xfdb,0xd                                                                                       
004840   f00d                                                                                                               
004842   0e2d     MOVLW     0x2d                                                                                            
004844   cfdb     MOVFF     0xfdb,0xe                                                                                       
004846   f00e                                                                                                               
004848   0e11     MOVLW     0x11                                                                                            
00484a   5e0d     SUBWF     0xd,0x1,0x0                                                                                     
00484c   0e00     MOVLW     0x0                                                                                             
00484e   5a0e     SUBWFB    0xe,0x1,0x0                                                                                     
004850   500b     MOVF      0xb,0x0,0x0                                                                                     
004852   240d     ADDWF     0xd,0x0,0x0                                                                                     
004854   6ee9     MOVWF     0xe9,0x0                                                                                        
004856   500c     MOVF      0xc,0x0,0x0                                                                                     
004858   200e     ADDWFC    0xe,0x0,0x0                                                                                     
00485a   6eea     MOVWF     0xea,0x0                                                                                        
00485c   0e20     MOVLW     0x20                                                                                            
00485e   6eef     MOVWF     0xef,0x0                                                                                        
                                           					}                                                                           Z:\home\andres\u4a2\user\usr_display.c
                                           				}                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           			}                                                                             Z:\home\andres\u4a2\user\usr_display.c
00486c   0e01     MOVLW     0x1            			commandXLCD(LIMPIAR);                                                         Z:\home\andres\u4a2\user\usr_display.c
00486e   6ee6     MOVWF     0xe6,0x0                                                                                        
004870   dd75     RCALL     0x435c                                                                                          
004872   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004874   0e80     MOVLW     0x80           			commandXLCD(CASA);                                                            Z:\home\andres\u4a2\user\usr_display.c
004876   6ee6     MOVWF     0xe6,0x0                                                                                        
004878   dd71     RCALL     0x435c                                                                                          
00487a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00487c   0e02     MOVLW     0x2            			commandXLCD(LINEA_1);  /*Inicio primera linea*/                               Z:\home\andres\u4a2\user\usr_display.c
00487e   6ee6     MOVWF     0xe6,0x0                                                                                        
004880   dd6d     RCALL     0x435c                                                                                          
004882   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004884   50d9     MOVF      0xd9,0x0,0x0   			putsXLCD(string_1);                                                           Z:\home\andres\u4a2\user\usr_display.c
004886   0f0a     ADDLW     0xa                                                                                             
004888   6ee6     MOVWF     0xe6,0x0                                                                                        
00488a   0e00     MOVLW     0x0                                                                                             
00488c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00488e   6ee6     MOVWF     0xe6,0x0                                                                                        
004890   dd50     RCALL     0x4332                                                                                          
004892   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004894   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004896   0ec0     MOVLW     0xc0           			commandXLCD(LINEA_2); /*Paso a la segunda linea*/                             Z:\home\andres\u4a2\user\usr_display.c
004898   6ee6     MOVWF     0xe6,0x0                                                                                        
00489a   dd60     RCALL     0x435c                                                                                          
00489c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00489e   50d9     MOVF      0xd9,0x0,0x0   			putsXLCD(string_2);                                                           Z:\home\andres\u4a2\user\usr_display.c
0048a0   0f1b     ADDLW     0x1b                                                                                            
0048a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0048a4   0e00     MOVLW     0x0                                                                                             
0048a6   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0048a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0048aa   dd43     RCALL     0x4332                                                                                          
0048ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0048ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0048b0   0e02     MOVLW     0x2            			userDisplayCounter=0x02;                                                      Z:\home\andres\u4a2\user\usr_display.c
0048b2   6ef3     MOVWF     0xf3,0x0                                                                                        
0048b4   0e2e     MOVLW     0x2e                                                                                            
0048b6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0048b8   ffdb                                                                                                               
0048ba   d1af     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case PRUEBA:	                                                                  Z:\home\andres\u4a2\user\usr_display.c
0048bc   dd58     RCALL     0x436e         			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
0048be   0e01     MOVLW     0x1            			commandXLCD(LIMPIAR);                                                         Z:\home\andres\u4a2\user\usr_display.c
0048c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0048c2   dd4c     RCALL     0x435c                                                                                          
0048c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0048c6   0e02     MOVLW     0x2            			commandXLCD(LINEA_1);                                                         Z:\home\andres\u4a2\user\usr_display.c
0048c8   6ee6     MOVWF     0xe6,0x0                                                                                        
0048ca   dd48     RCALL     0x435c                                                                                          
0048cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0048ce   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] =((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_display.c
0048d0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0048d2   ffe9                                                                                                               
0048d4   0efe     MOVLW     0xfe                                                                                            
0048d6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0048d8   ffea                                                                                                               
0048da   50ef     MOVF      0xef,0x0,0x0                                                                                    
0048dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0048de   c199     MOVFF     0x199,0xfe9                                                                                     
0048e0   ffe9                                                                                                               
0048e2   c19a     MOVFF     0x19a,0xfea                                                                                     
0048e4   ffea                                                                                                               
0048e6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0048e8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0048ea   6eef     MOVWF     0xef,0x0                                                                                        
0048ec   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_display.c
0048ee   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0048f0   ffe9                                                                                                               
0048f2   0efe     MOVLW     0xfe                                                                                            
0048f4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0048f6   ffea                                                                                                               
0048f8   0e01     MOVLW     0x1                                                                                             
0048fa   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0048fc   0e00     MOVLW     0x0                                                                                             
0048fe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004900   50ef     MOVF      0xef,0x0,0x0                                                                                    
004902   6ee6     MOVWF     0xe6,0x0                                                                                        
004904   c199     MOVFF     0x199,0xfe9                                                                                     
004906   ffe9                                                                                                               
004908   c19a     MOVFF     0x19a,0xfea                                                                                     
00490a   ffea                                                                                                               
00490c   0e01     MOVLW     0x1                                                                                             
00490e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004910   0e00     MOVLW     0x0                                                                                             
004912   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004914   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004916   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004918   6eef     MOVWF     0xef,0x0                                                                                        
00491a   0e49     MOVLW     0x49           			string_1[0]='I'; string_1[1]='M'; string_1[2]='M'; string_1[3]=' '; string_1[4]= 'E'; Z:\home\andres\u4a2\user\usr_display.c
00491c   6ef3     MOVWF     0xf3,0x0                                                                                        
00491e   0e0a     MOVLW     0xa                                                                                             
004920   cff3     MOVFF     0xff3,0xfdb                                                                                     
004922   ffdb                                                                                                               
004924   0e4d     MOVLW     0x4d                                                                                            
004926   6ef3     MOVWF     0xf3,0x0                                                                                        
004928   0e0b     MOVLW     0xb                                                                                             
00492a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00492c   ffdb                                                                                                               
00492e   0e4d     MOVLW     0x4d                                                                                            
004930   6ef3     MOVWF     0xf3,0x0                                                                                        
004932   0e0c     MOVLW     0xc                                                                                             
004934   cff3     MOVFF     0xff3,0xfdb                                                                                     
004936   ffdb                                                                                                               
004938   0e20     MOVLW     0x20                                                                                            
00493a   6ef3     MOVWF     0xf3,0x0                                                                                        
00493c   0e0d     MOVLW     0xd                                                                                             
00493e   cff3     MOVFF     0xff3,0xfdb                                                                                     
004940   ffdb                                                                                                               
004942   0e45     MOVLW     0x45                                                                                            
004944   6ef3     MOVWF     0xf3,0x0                                                                                        
004946   0e0e     MOVLW     0xe                                                                                             
004948   cff3     MOVFF     0xff3,0xfdb                                                                                     
00494a   ffdb                                                                                                               
00494c   0e6c     MOVLW     0x6c           			string_1[5]='l'; string_1[6]='e';                                             Z:\home\andres\u4a2\user\usr_display.c
00494e   6ef3     MOVWF     0xf3,0x0                                                                                        
004950   0e0f     MOVLW     0xf                                                                                             
004952   cff3     MOVFF     0xff3,0xfdb                                                                                     
004954   ffdb                                                                                                               
004956   0e65     MOVLW     0x65                                                                                            
004958   6ef3     MOVWF     0xf3,0x0                                                                                        
00495a   0e10     MOVLW     0x10                                                                                            
00495c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00495e   ffdb                                                                                                               
004960   0e63     MOVLW     0x63           			string_1[7]='c'; string_1[8]='t'; string_1[9]='r'; string_1[10]='o'; string_1[11]='n'; string_1[12]='i'; Z:\home\andres\u4a2\user\usr_display.c
004962   6ef3     MOVWF     0xf3,0x0                                                                                        
004964   0e11     MOVLW     0x11                                                                                            
004966   cff3     MOVFF     0xff3,0xfdb                                                                                     
004968   ffdb                                                                                                               
00496a   0e74     MOVLW     0x74                                                                                            
00496c   6ef3     MOVWF     0xf3,0x0                                                                                        
00496e   0e12     MOVLW     0x12                                                                                            
004970   cff3     MOVFF     0xff3,0xfdb                                                                                     
004972   ffdb                                                                                                               
004974   0e72     MOVLW     0x72                                                                                            
004976   6ef3     MOVWF     0xf3,0x0                                                                                        
004978   0e13     MOVLW     0x13                                                                                            
00497a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00497c   ffdb                                                                                                               
00497e   0e6f     MOVLW     0x6f                                                                                            
004980   6ef3     MOVWF     0xf3,0x0                                                                                        
004982   0e14     MOVLW     0x14                                                                                            
004984   cff3     MOVFF     0xff3,0xfdb                                                                                     
004986   ffdb                                                                                                               
004988   0e6e     MOVLW     0x6e                                                                                            
00498a   6ef3     MOVWF     0xf3,0x0                                                                                        
00498c   0e15     MOVLW     0x15                                                                                            
00498e   cff3     MOVFF     0xff3,0xfdb                                                                                     
004990   ffdb                                                                                                               
004992   0e69     MOVLW     0x69                                                                                            
004994   6ef3     MOVWF     0xf3,0x0                                                                                        
004996   0e16     MOVLW     0x16                                                                                            
004998   cff3     MOVFF     0xff3,0xfdb                                                                                     
00499a   ffdb                                                                                                               
00499c   0e63     MOVLW     0x63           			string_1[13]='c';                                                             Z:\home\andres\u4a2\user\usr_display.c
00499e   6ef3     MOVWF     0xf3,0x0                                                                                        
0049a0   0e17     MOVLW     0x17                                                                                            
0049a2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049a4   ffdb                                                                                                               
0049a6   0e61     MOVLW     0x61           			string_1[14]='a';                                                             Z:\home\andres\u4a2\user\usr_display.c
0049a8   6ef3     MOVWF     0xf3,0x0                                                                                        
0049aa   0e18     MOVLW     0x18                                                                                            
0049ac   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049ae   ffdb                                                                                                               
0049b0   0e19     MOVLW     0x19           			string_1[15]= 0; /*Termino el string*/                                        Z:\home\andres\u4a2\user\usr_display.c
0049b2   6adb     CLRF      0xdb,0x0                                                                                        
0049b4   50d9     MOVF      0xd9,0x0,0x0   			putsXLCD(string_1);                                                           Z:\home\andres\u4a2\user\usr_display.c
0049b6   0f0a     ADDLW     0xa                                                                                             
0049b8   6ee6     MOVWF     0xe6,0x0                                                                                        
0049ba   0e00     MOVLW     0x0                                                                                             
0049bc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0049be   6ee6     MOVWF     0xe6,0x0                                                                                        
0049c0   dcb8     RCALL     0x4332                                                                                          
0049c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0049c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0049c6   0e41     MOVLW     0x41           			string_2[0]='A';string_2[1]='.';string_2[2]='F';string_2[3]='.';string_2[4]='E';string_2[5]='.';string_2[6]=' '; Z:\home\andres\u4a2\user\usr_display.c
0049c8   6ef3     MOVWF     0xf3,0x0                                                                                        
0049ca   0e1b     MOVLW     0x1b                                                                                            
0049cc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049ce   ffdb                                                                                                               
0049d0   0e2e     MOVLW     0x2e                                                                                            
0049d2   6ef3     MOVWF     0xf3,0x0                                                                                        
0049d4   0e1c     MOVLW     0x1c                                                                                            
0049d6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049d8   ffdb                                                                                                               
0049da   0e46     MOVLW     0x46                                                                                            
0049dc   6ef3     MOVWF     0xf3,0x0                                                                                        
0049de   0e1d     MOVLW     0x1d                                                                                            
0049e0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049e2   ffdb                                                                                                               
0049e4   0e2e     MOVLW     0x2e                                                                                            
0049e6   6ef3     MOVWF     0xf3,0x0                                                                                        
0049e8   0e1e     MOVLW     0x1e                                                                                            
0049ea   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049ec   ffdb                                                                                                               
0049ee   0e45     MOVLW     0x45                                                                                            
0049f0   6ef3     MOVWF     0xf3,0x0                                                                                        
0049f2   0e1f     MOVLW     0x1f                                                                                            
0049f4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0049f6   ffdb                                                                                                               
0049f8   0e2e     MOVLW     0x2e                                                                                            
0049fa   6ef3     MOVWF     0xf3,0x0                                                                                        
0049fc   0e20     MOVLW     0x20                                                                                            
0049fe   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a00   ffdb                                                                                                               
004a02   0e20     MOVLW     0x20                                                                                            
004a04   6ef3     MOVWF     0xf3,0x0                                                                                        
004a06   0e21     MOVLW     0x21                                                                                            
004a08   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a0a   ffdb                                                                                                               
004a0c   0e20     MOVLW     0x20           			string_2[7]=' ';                                                              Z:\home\andres\u4a2\user\usr_display.c
004a0e   6ef3     MOVWF     0xf3,0x0                                                                                        
004a10   0e22     MOVLW     0x22                                                                                            
004a12   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a14   ffdb                                                                                                               
004a16   0e20     MOVLW     0x20           			string_2[8]=' ';string_2[9]=' ';string_2[10]=' ';string_2[11]=' ';string_2[12]=' ';string_2[13]=' ';string_2[14]=0; Z:\home\andres\u4a2\user\usr_display.c
004a18   6ef3     MOVWF     0xf3,0x0                                                                                        
004a1a   0e23     MOVLW     0x23                                                                                            
004a1c   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a1e   ffdb                                                                                                               
004a20   0e20     MOVLW     0x20                                                                                            
004a22   6ef3     MOVWF     0xf3,0x0                                                                                        
004a24   0e24     MOVLW     0x24                                                                                            
004a26   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a28   ffdb                                                                                                               
004a2a   0e20     MOVLW     0x20                                                                                            
004a2c   6ef3     MOVWF     0xf3,0x0                                                                                        
004a2e   0e25     MOVLW     0x25                                                                                            
004a30   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a32   ffdb                                                                                                               
004a34   0e20     MOVLW     0x20                                                                                            
004a36   6ef3     MOVWF     0xf3,0x0                                                                                        
004a38   0e26     MOVLW     0x26                                                                                            
004a3a   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a3c   ffdb                                                                                                               
004a3e   0e20     MOVLW     0x20                                                                                            
004a40   6ef3     MOVWF     0xf3,0x0                                                                                        
004a42   0e27     MOVLW     0x27                                                                                            
004a44   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a46   ffdb                                                                                                               
004a48   0e20     MOVLW     0x20                                                                                            
004a4a   6ef3     MOVWF     0xf3,0x0                                                                                        
004a4c   0e28     MOVLW     0x28                                                                                            
004a4e   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a50   ffdb                                                                                                               
004a52   0e29     MOVLW     0x29                                                                                            
004a54   6adb     CLRF      0xdb,0x0                                                                                        
                                           			/*Termino el string*/                                                         Z:\home\andres\u4a2\user\usr_display.c
004a56   0ec0     MOVLW     0xc0           			commandXLCD(LINEA_2); /*Paso a la segunda linea*/                             Z:\home\andres\u4a2\user\usr_display.c
004a58   6ee6     MOVWF     0xe6,0x0                                                                                        
004a5a   dc80     RCALL     0x435c                                                                                          
004a5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a5e   50d9     MOVF      0xd9,0x0,0x0   			putsXLCD(string_2);                                                           Z:\home\andres\u4a2\user\usr_display.c
004a60   0f1b     ADDLW     0x1b                                                                                            
004a62   6ee6     MOVWF     0xe6,0x0                                                                                        
004a64   0e00     MOVLW     0x0                                                                                             
004a66   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004a68   6ee6     MOVWF     0xe6,0x0                                                                                        
004a6a   dc63     RCALL     0x4332                                                                                          
004a6c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a6e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a70   0e02     MOVLW     0x2            			userDisplayCounter=0x02;                                                      Z:\home\andres\u4a2\user\usr_display.c
004a72   6ef3     MOVWF     0xf3,0x0                                                                                        
004a74   0e2e     MOVLW     0x2e                                                                                            
004a76   cff3     MOVFF     0xff3,0xfdb                                                                                     
004a78   ffdb                                                                                                               
004a7a   d0cf     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case BORRAR:                                                                   Z:\home\andres\u4a2\user\usr_display.c
004a7c   dc78     RCALL     0x436e         			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
004a7e   0e01     MOVLW     0x1            			commandXLCD(LIMPIAR);                                                         Z:\home\andres\u4a2\user\usr_display.c
004a80   6ee6     MOVWF     0xe6,0x0                                                                                        
004a82   dc6c     RCALL     0x435c                                                                                          
004a84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a86   0e02     MOVLW     0x2            			commandXLCD(COMANDO_2); 	/*Limpio la memoria DDRAM*/                          Z:\home\andres\u4a2\user\usr_display.c
004a88   6ee6     MOVWF     0xe6,0x0                                                                                        
004a8a   dc68     RCALL     0x435c                                                                                          
004a8c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004a8e   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_display.c
004a90   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004a92   ffe9                                                                                                               
004a94   0efe     MOVLW     0xfe                                                                                            
004a96   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004a98   ffea                                                                                                               
004a9a   50ef     MOVF      0xef,0x0,0x0                                                                                    
004a9c   6ee6     MOVWF     0xe6,0x0                                                                                        
004a9e   c199     MOVFF     0x199,0xfe9                                                                                     
004aa0   ffe9                                                                                                               
004aa2   c19a     MOVFF     0x19a,0xfea                                                                                     
004aa4   ffea                                                                                                               
004aa6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004aa8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004aaa   6eef     MOVWF     0xef,0x0                                                                                        
004aac   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_display.c
004aae   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004ab0   ffe9                                                                                                               
004ab2   0efe     MOVLW     0xfe                                                                                            
004ab4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004ab6   ffea                                                                                                               
004ab8   0e01     MOVLW     0x1                                                                                             
004aba   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004abc   0e00     MOVLW     0x0                                                                                             
004abe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004ac0   50ef     MOVF      0xef,0x0,0x0                                                                                    
004ac2   6ee6     MOVWF     0xe6,0x0                                                                                        
004ac4   c199     MOVFF     0x199,0xfe9                                                                                     
004ac6   ffe9                                                                                                               
004ac8   c19a     MOVFF     0x19a,0xfea                                                                                     
004aca   ffea                                                                                                               
004acc   0e01     MOVLW     0x1                                                                                             
004ace   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004ad0   0e00     MOVLW     0x0                                                                                             
004ad2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004ad4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004ad6   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004ad8   6eef     MOVWF     0xef,0x0                                                                                        
004ada   0e02     MOVLW     0x2            			userDisplayCounter=0x02;                                                      Z:\home\andres\u4a2\user\usr_display.c
004adc   6ef3     MOVWF     0xf3,0x0                                                                                        
004ade   0e2e     MOVLW     0x2e                                                                                            
004ae0   cff3     MOVFF     0xff3,0xfdb                                                                                     
004ae2   ffdb                                                                                                               
004ae4   d09a     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case INICIAR:                                                                  Z:\home\andres\u4a2\user\usr_display.c
004ae6   dc43     RCALL     0x436e         			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
004ae8   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_display.c
004aea   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004aec   ffe9                                                                                                               
004aee   0efe     MOVLW     0xfe                                                                                            
004af0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004af2   ffea                                                                                                               
004af4   50ef     MOVF      0xef,0x0,0x0                                                                                    
004af6   6ee6     MOVWF     0xe6,0x0                                                                                        
004af8   c199     MOVFF     0x199,0xfe9                                                                                     
004afa   ffe9                                                                                                               
004afc   c19a     MOVFF     0x19a,0xfea                                                                                     
004afe   ffea                                                                                                               
004b00   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b02   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004b04   6eef     MOVWF     0xef,0x0                                                                                        
004b06   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_display.c
004b08   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004b0a   ffe9                                                                                                               
004b0c   0efe     MOVLW     0xfe                                                                                            
004b0e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004b10   ffea                                                                                                               
004b12   0e01     MOVLW     0x1                                                                                             
004b14   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004b16   0e00     MOVLW     0x0                                                                                             
004b18   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004b1a   50ef     MOVF      0xef,0x0,0x0                                                                                    
004b1c   6ee6     MOVWF     0xe6,0x0                                                                                        
004b1e   c199     MOVFF     0x199,0xfe9                                                                                     
004b20   ffe9                                                                                                               
004b22   c19a     MOVFF     0x19a,0xfea                                                                                     
004b24   ffea                                                                                                               
004b26   0e01     MOVLW     0x1                                                                                             
004b28   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004b2a   0e00     MOVLW     0x0                                                                                             
004b2c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004b2e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b30   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004b32   6eef     MOVWF     0xef,0x0                                                                                        
004b34   0e02     MOVLW     0x2            			userDisplayCounter=0x02;                                                      Z:\home\andres\u4a2\user\usr_display.c
004b36   6ef3     MOVWF     0xf3,0x0                                                                                        
004b38   0e2e     MOVLW     0x2e                                                                                            
004b3a   cff3     MOVFF     0xff3,0xfdb                                                                                     
004b3c   ffdb                                                                                                               
004b3e   d06d     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case PRENDER_BKL:                                                              Z:\home\andres\u4a2\user\usr_display.c
004b40   dc16     RCALL     0x436e         			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
004b42   848a     BSF       0x8a,0x2,0x0   			BACK_LIGHT_ON();                                                              Z:\home\andres\u4a2\user\usr_display.c
004b44   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_display.c
004b46   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004b48   ffe9                                                                                                               
004b4a   0efe     MOVLW     0xfe                                                                                            
004b4c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004b4e   ffea                                                                                                               
004b50   50ef     MOVF      0xef,0x0,0x0                                                                                    
004b52   6ee6     MOVWF     0xe6,0x0                                                                                        
004b54   c199     MOVFF     0x199,0xfe9                                                                                     
004b56   ffe9                                                                                                               
004b58   c19a     MOVFF     0x19a,0xfea                                                                                     
004b5a   ffea                                                                                                               
004b5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b5e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004b60   6eef     MOVWF     0xef,0x0                                                                                        
004b62   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_display.c
004b64   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004b66   ffe9                                                                                                               
004b68   0efe     MOVLW     0xfe                                                                                            
004b6a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004b6c   ffea                                                                                                               
004b6e   0e01     MOVLW     0x1                                                                                             
004b70   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004b72   0e00     MOVLW     0x0                                                                                             
004b74   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004b76   50ef     MOVF      0xef,0x0,0x0                                                                                    
004b78   6ee6     MOVWF     0xe6,0x0                                                                                        
004b7a   c199     MOVFF     0x199,0xfe9                                                                                     
004b7c   ffe9                                                                                                               
004b7e   c19a     MOVFF     0x19a,0xfea                                                                                     
004b80   ffea                                                                                                               
004b82   0e01     MOVLW     0x1                                                                                             
004b84   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004b86   0e00     MOVLW     0x0                                                                                             
004b88   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004b8a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004b8c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004b8e   6eef     MOVWF     0xef,0x0                                                                                        
004b90   0e02     MOVLW     0x2            			userDisplayCounter=0x02;                                                      Z:\home\andres\u4a2\user\usr_display.c
004b92   6ef3     MOVWF     0xf3,0x0                                                                                        
004b94   0e2e     MOVLW     0x2e                                                                                            
004b96   cff3     MOVFF     0xff3,0xfdb                                                                                     
004b98   ffdb                                                                                                               
004b9a   d03f     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case APAGAR_BKL:                                                               Z:\home\andres\u4a2\user\usr_display.c
004b9c   ecb7     CALL      0x436e,0x0     			displayInit();                                                                Z:\home\andres\u4a2\user\usr_display.c
004b9e   f021                                                                                                               
004ba0   948a     BCF       0x8a,0x2,0x0   			BACK_LIGHT_OFF();                                                             Z:\home\andres\u4a2\user\usr_display.c
004ba2   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[0] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\usr_display.c
004ba4   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004ba6   ffe9                                                                                                               
004ba8   0efe     MOVLW     0xfe                                                                                            
004baa   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004bac   ffea                                                                                                               
004bae   50ef     MOVF      0xef,0x0,0x0                                                                                    
004bb0   6ee6     MOVWF     0xe6,0x0                                                                                        
004bb2   c199     MOVFF     0x199,0xfe9                                                                                     
004bb4   ffe9                                                                                                               
004bb6   c19a     MOVFF     0x19a,0xfea                                                                                     
004bb8   ffea                                                                                                               
004bba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bbc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004bbe   6eef     MOVWF     0xef,0x0                                                                                        
004bc0   0efd     MOVLW     0xfd           			((DISPLAY_DATA_PACKET*)sendBufferUsrDisplay)->_byte[1] = ((DISPLAY_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_display.c
004bc2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004bc4   ffe9                                                                                                               
004bc6   0efe     MOVLW     0xfe                                                                                            
004bc8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004bca   ffea                                                                                                               
004bcc   0e01     MOVLW     0x1                                                                                             
004bce   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004bd0   0e00     MOVLW     0x0                                                                                             
004bd2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004bd4   50ef     MOVF      0xef,0x0,0x0                                                                                    
004bd6   6ee6     MOVWF     0xe6,0x0                                                                                        
004bd8   c199     MOVFF     0x199,0xfe9                                                                                     
004bda   ffe9                                                                                                               
004bdc   c19a     MOVFF     0x19a,0xfea                                                                                     
004bde   ffea                                                                                                               
004be0   0e01     MOVLW     0x1                                                                                             
004be2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004be4   0e00     MOVLW     0x0                                                                                             
004be6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004be8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004bec   6eef     MOVWF     0xef,0x0                                                                                        
004bee   0e02     MOVLW     0x2            			userDisplayCounter=0x02;                                                      Z:\home\andres\u4a2\user\usr_display.c
004bf0   6ef3     MOVWF     0xf3,0x0                                                                                        
004bf2   0e2e     MOVLW     0x2e                                                                                            
004bf4   cff3     MOVFF     0xff3,0xfdb                                                                                     
004bf6   ffdb                                                                                                               
004bf8   d010     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case RESET:                                                                    Z:\home\andres\u4a2\user\usr_display.c
004bfa   00ff     RESET                    			Reset();                                                                      Z:\home\andres\u4a2\user\usr_display.c
004bfc   d00e     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           		case MESS:                                                                     Z:\home\andres\u4a2\user\usr_display.c
004bfe   0e09     MOVLW     0x9            			sendMes(mens, sizeof(mens));                                                  Z:\home\andres\u4a2\user\usr_display.c
004c00   6ee6     MOVWF     0xe6,0x0                                                                                        
004c02   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004c04   0f01     ADDLW     0x1                                                                                             
004c06   6ee6     MOVWF     0xe6,0x0                                                                                        
004c08   0e00     MOVLW     0x0                                                                                             
004c0a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004c0c   6ee6     MOVWF     0xe6,0x0                                                                                        
004c0e   ec5c     CALL      0x10b8,0x0                                                                                      
004c10   f008                                                                                                               
004c12   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c16   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c18   d000     BRA       0x4c1a         		break;                                                                         Z:\home\andres\u4a2\user\usr_display.c
                                           	}//end switch(s)                                                                Z:\home\andres\u4a2\user\usr_display.c
004c1a   0e2e     MOVLW     0x2e           	if(userDisplayCounter != 0){                                                    Z:\home\andres\u4a2\user\usr_display.c
004c1c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c1e   e00c     BZ        0x4c38                                                                                          
004c20   0104     MOVLB     0x4            		if(!mUSBGenTxIsBusy()){                                                        Z:\home\andres\u4a2\user\usr_display.c
004c22   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
004c24   d009     BRA       0x4c38                                                                                          
004c26   0e2e     MOVLW     0x2e           			USBGenWrite2(usrDisplayHandler, userDisplayCounter);                          Z:\home\andres\u4a2\user\usr_display.c
004c28   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004c2a   ffe6                                                                                                               
004c2c   c198     MOVFF     0x198,0xfe6                                                                                     
004c2e   ffe6                                                                                                               
004c30   ec31     CALL      0x2662,0x0                                                                                      
004c32   f013                                                                                                               
004c34   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c36   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		}                                                                              Z:\home\andres\u4a2\user\usr_display.c
                                           	}//end if	  	                                                                   Z:\home\andres\u4a2\user\usr_display.c
004c38   0e2f     MOVLW     0x2f           } //end UserDisplayReceived                                                      Z:\home\andres\u4a2\user\usr_display.c
004c3a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004c3c   e202     BC        0x4c42                                                                                          
004c3e   6ae1     CLRF      0xe1,0x0                                                                                        
004c40   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c42   6ee1     MOVWF     0xe1,0x0                                                                                        
004c44   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c46   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004c48   ffd9                                                                                                               
004c4a   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_display.c
                                           /** EOF usr_display.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_display.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *Andres Aguirre; Edgardo Vaz								11/06/10      Original.                     Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include <usart.h>                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include "user\usr_sensorIR.h"                                                   Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #include "dynamicPolling.h"                                                      Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           byte  usrSensorIRHandler;    // Handler number asigned to the module             Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           byte* sendBufferUsrSensorIR; // buffer to send data                              Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRProcessIO(void);                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRInit(byte i);                                                   Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRReceived(byte*, byte);                                          Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRRelease(byte i);                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRConfigure(void);                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void ReadSensorIR(void);                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           uTab userSensorIRModuleTable = {&UserSensorIRInit,&UserSensorIRRelease,&UserSensorIRConfigure,"sensor"}; //modName must be less 8 characters Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Function:        UserSensorIRInit(void)                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Overview:        This function is initialices the resources that the user module needs to work, it is called by the    		    framework when the module is opened	 Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
004d3a   cfd9     MOVFF     0xfd9,0xfe6    void UserSensorIRInit(byte i){                                                   Z:\home\andres\u4a2\user\usr_sensorIR.c
004d3c   ffe6                                                                                                               
004d3e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004d40   ffd9                                                                                                               
004d42   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	BOOL res;                                                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004d44   0efe     MOVLW     0xfe           	usrSensorIRHandler = i;                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
004d46   cfdb     MOVFF     0xfdb,0x189                                                                                     
004d48   f189                                                                                                               
                                           	// add my receive function to the handler module, to be called automatically when the pc sends data to the user module Z:\home\andres\u4a2\user\usr_sensorIR.c
004d4a   0ed2     MOVLW     0xd2           	setHandlerReceiveFunction(usrSensorIRHandler, &UserSensorIRReceived);           Z:\home\andres\u4a2\user\usr_sensorIR.c
004d4c   6ee6     MOVWF     0xe6,0x0                                                                                        
004d4e   0e4d     MOVLW     0x4d                                                                                            
004d50   6ee6     MOVWF     0xe6,0x0                                                                                        
004d52   c189     MOVFF     0x189,0xfe6                                                                                     
004d54   ffe6                                                                                                               
004d56   ec67     CALL      0x24ce,0x0                                                                                      
004d58   f012                                                                                                               
004d5a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d5c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d5e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           	// add my receive pooling function to the dynamic pooling module, to be called periodically  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	//res = addPollingFunction(&UserSensorIRProcessIO);                             Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\usr_sensorIR.c
004d60   c189     MOVFF     0x189,0xfe6    	sendBufferUsrSensorIR = getSharedBuffer(usrSensorIRHandler);                    Z:\home\andres\u4a2\user\usr_sensorIR.c
004d62   ffe6                                                                                                               
004d64   ece4     CALL      0x29c8,0x0                                                                                      
004d66   f014                                                                                                               
004d68   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d6a   cff3     MOVFF     0xff3,0x18a                                                                                     
004d6c   f18a                                                                                                               
004d6e   cff4     MOVFF     0xff4,0x18b                                                                                     
004d70   f18b                                                                                                               
                                           	//TODO return res value                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
004d72   8092     BSF       0x92,0x0,0x0   	mInitSensorIR();                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
004d74   0e01     MOVLW     0x1                                                                                             
004d76   6ec2     MOVWF     0xc2,0x0                                                                                        
004d78   0e3c     MOVLW     0x3c                                                                                            
004d7a   6ec0     MOVWF     0xc0,0x0                                                                                        
004d7c   8ec0     BSF       0xc0,0x7,0x0                                                                                    
004d7e   52e5     MOVF      0xe5,0x1,0x0   }//end UserSensorIRInit                                                          Z:\home\andres\u4a2\user\usr_sensorIR.c
004d80   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d82   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004d84   ffd9                                                                                                               
004d86   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void ReadSensorIR(void)                                                          Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           {                                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
004d88   82c2     BSF       0xc2,0x1,0x0       ADCON0bits.GO = 1;              // Start AD conversion                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004d8a   b2c2     BTFSC     0xc2,0x1,0x0       while(ADCON0bits.NOT_DONE);     // Wait for conversion                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004d8c   d7fe     BRA       0x4d8a                                                                                          
                                               return;                                                                      Z:\home\andres\u4a2\user\usr_sensorIR.c
004d8e   0012     RETURN    0x0            }//end ReadSensorIR                                                              Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /* Function:        UserSensorIRConfigure(void)                                  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Overview:        This function sets the specific configuration for the user module, it is called by the framework  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRConfigure(void){                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           // Do the configuration                                                          Z:\home\andres\u4a2\user\usr_sensorIR.c
004d90   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Function:        UserSensorIRProcessIO(void)                                  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Overview:        This function is registered in the dinamic polling, who call ir periodically to process the IO                           interaction int the PIC, also it can comunicate things to the pc by the USB Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           void UserSensorIRProcessIO(void){                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
004d92   0e06     MOVLW     0x6                if((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)) return;      Z:\home\andres\u4a2\user\usr_sensorIR.c
004d94   0101     MOVLB     0x1                                                                                             
004d96   5d85     SUBWF     0x85,0x0,0x1                                                                                    
                                               // here enter the code that want to be called periodically, per example interaction with buttons and leds Z:\home\andres\u4a2\user\usr_sensorIR.c
004d98   0012     RETURN    0x0            }//end ProcessIO                                                                 Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Function:        UserSensorIRRelease(byte i)                                  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Overview:        This function release all the resources that the user module used, it is called by the framework  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *		    when the module is close	                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
004d9a   cfd9     MOVFF     0xfd9,0xfe6    void UserSensorIRRelease(byte i){                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
004d9c   ffe6                                                                                                               
004d9e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004da0   ffd9                                                                                                               
004da2   0efe     MOVLW     0xfe           	unsetHandlerReceiveBuffer(i);                                                   Z:\home\andres\u4a2\user\usr_sensorIR.c
004da4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004da6   ffe6                                                                                                               
004da8   ec63     CALL      0x24c6,0x0                                                                                      
004daa   f012                                                                                                               
004dac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004dae   0efe     MOVLW     0xfe           	unsetHandlerReceiveFunction(i);                                                 Z:\home\andres\u4a2\user\usr_sensorIR.c
004db0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004db2   ffe6                                                                                                               
004db4   ec6a     CALL      0x24d4,0x0                                                                                      
004db6   f012                                                                                                               
004db8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004dba   0e92     MOVLW     0x92           	removePoolingFunction(&UserSensorIRProcessIO);                                  Z:\home\andres\u4a2\user\usr_sensorIR.c
004dbc   6ee6     MOVWF     0xe6,0x0                                                                                        
004dbe   0e4d     MOVLW     0x4d                                                                                            
004dc0   6ee6     MOVWF     0xe6,0x0                                                                                        
004dc2   ec6a     CALL      0x14d4,0x0                                                                                      
004dc4   f00a                                                                                                               
004dc6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004dc8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004dca   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
004dcc   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004dce   ffd9                                                                                                               
004dd0   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /******************************************************************************  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Function:        UserSensorIRReceived(byte* recBuffPtr, byte len)             Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * PreCondition:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Input:           None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Output:          None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Side Effects:    None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Overview:        This function manages the comunication with the pc           Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            * Note:            None                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
004dd2   cfd9     MOVFF     0xfd9,0xfe6    void UserSensorIRReceived(byte* recBuffPtr, byte len){                           Z:\home\andres\u4a2\user\usr_sensorIR.c
004dd4   ffe6                                                                                                               
004dd6   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004dd8   ffd9                                                                                                               
004dda   0e0b     MOVLW     0xb                                                                                             
004ddc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           	byte index;                                                                     Z:\home\andres\u4a2\user\usr_sensorIR.c
004dde   50d9     MOVF      0xd9,0x0,0x0   	char mens[9] = "User Skeleton is alive";	                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004de0   0f01     ADDLW     0x1                                                                                             
004de2   6ee9     MOVWF     0xe9,0x0                                                                                        
004de4   cfda     MOVFF     0xfda,0xfea                                                                                     
004de6   ffea                                                                                                               
004de8   0e55     MOVLW     0x55                                                                                            
004dea   6eee     MOVWF     0xee,0x0                                                                                        
004dec   0e73     MOVLW     0x73                                                                                            
004dee   6eee     MOVWF     0xee,0x0                                                                                        
004df0   0e65     MOVLW     0x65                                                                                            
004df2   6eee     MOVWF     0xee,0x0                                                                                        
004df4   0e72     MOVLW     0x72                                                                                            
004df6   6eee     MOVWF     0xee,0x0                                                                                        
004df8   0e20     MOVLW     0x20                                                                                            
004dfa   6eee     MOVWF     0xee,0x0                                                                                        
004dfc   0e53     MOVLW     0x53                                                                                            
004dfe   6eee     MOVWF     0xee,0x0                                                                                        
004e00   0e6b     MOVLW     0x6b                                                                                            
004e02   6eee     MOVWF     0xee,0x0                                                                                        
004e04   0e65     MOVLW     0x65                                                                                            
004e06   6eee     MOVWF     0xee,0x0                                                                                        
004e08   0e6c     MOVLW     0x6c                                                                                            
004e0a   6eee     MOVWF     0xee,0x0                                                                                        
004e0c   0e0a     MOVLW     0xa            	byte userSensorIRCounter = 0;                                                   Z:\home\andres\u4a2\user\usr_sensorIR.c
004e0e   6adb     CLRF      0xdb,0x0                                                                                        
004e10   0efd     MOVLW     0xfd           	switch(((SENSOR_IR_DATA_PACKET*)recBuffPtr)->CMD)                               Z:\home\andres\u4a2\user\usr_sensorIR.c
004e12   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004e14   ffe9                                                                                                               
004e16   0efe     MOVLW     0xfe                                                                                            
004e18   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004e1a   ffea                                                                                                               
004e1c   50ef     MOVF      0xef,0x0,0x0                                                                                    
004e1e   0a05     XORLW     0x5                                                                                             
004e20   e072     BZ        0x4f06                                                                                          
004e22   0afa     XORLW     0xfa                                                                                            
004e24   e06e     BZ        0x4f02                                                                                          
004e26   0afe     XORLW     0xfe                                                                                            
004e28   e042     BZ        0x4eae                                                                                          
004e2a   0a01     XORLW     0x1                                                                                             
004e2c   e001     BZ        0x4e30                                                                                          
004e2e   d079     BRA       0x4f22                                                                                          
                                           	{                                                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                   case READ_VERSION:                                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                         //dataPacket._byte[1] is len                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004e30   0efd     MOVLW     0xfd           		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[0] = ((SENSOR_IR_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_sensorIR.c
004e32   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004e34   ffe9                                                                                                               
004e36   0efe     MOVLW     0xfe                                                                                            
004e38   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004e3a   ffea                                                                                                               
004e3c   50ef     MOVF      0xef,0x0,0x0                                                                                    
004e3e   6ee6     MOVWF     0xe6,0x0                                                                                        
004e40   c18a     MOVFF     0x18a,0xfe9                                                                                     
004e42   ffe9                                                                                                               
004e44   c18b     MOVFF     0x18b,0xfea                                                                                     
004e46   ffea                                                                                                               
004e48   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004e4a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004e4c   6eef     MOVWF     0xef,0x0                                                                                        
004e4e   0efd     MOVLW     0xfd           		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[1] = ((SENSOR_IR_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\usr_sensorIR.c
004e50   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004e52   ffe9                                                                                                               
004e54   0efe     MOVLW     0xfe                                                                                            
004e56   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004e58   ffea                                                                                                               
004e5a   0e01     MOVLW     0x1                                                                                             
004e5c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004e5e   0e00     MOVLW     0x0                                                                                             
004e60   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004e62   50ef     MOVF      0xef,0x0,0x0                                                                                    
004e64   6ee6     MOVWF     0xe6,0x0                                                                                        
004e66   c18a     MOVFF     0x18a,0xfe9                                                                                     
004e68   ffe9                                                                                                               
004e6a   c18b     MOVFF     0x18b,0xfea                                                                                     
004e6c   ffea                                                                                                               
004e6e   0e01     MOVLW     0x1                                                                                             
004e70   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004e72   0e00     MOVLW     0x0                                                                                             
004e74   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004e76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004e78   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004e7a   6eef     MOVWF     0xef,0x0                                                                                        
004e7c   c18a     MOVFF     0x18a,0xfe9    		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[2] = SENSOR_IR_MINOR_VERSION; Z:\home\andres\u4a2\user\usr_sensorIR.c
004e7e   ffe9                                                                                                               
004e80   c18b     MOVFF     0x18b,0xfea                                                                                     
004e82   ffea                                                                                                               
004e84   0e02     MOVLW     0x2                                                                                             
004e86   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004e88   0e00     MOVLW     0x0                                                                                             
004e8a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004e8c   0e0d     MOVLW     0xd                                                                                             
004e8e   6eef     MOVWF     0xef,0x0                                                                                        
004e90   c18a     MOVFF     0x18a,0xfe9    		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[3] = SENSOR_IR_MAJOR_VERSION; Z:\home\andres\u4a2\user\usr_sensorIR.c
004e92   ffe9                                                                                                               
004e94   c18b     MOVFF     0x18b,0xfea                                                                                     
004e96   ffea                                                                                                               
004e98   0e03     MOVLW     0x3                                                                                             
004e9a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004e9c   0e00     MOVLW     0x0                                                                                             
004e9e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004ea0   6aef     CLRF      0xef,0x0                                                                                        
004ea2   0e04     MOVLW     0x4            		userSensorIRCounter = 0x04;                                                    Z:\home\andres\u4a2\user\usr_sensorIR.c
004ea4   6ef3     MOVWF     0xf3,0x0                                                                                        
004ea6   0e0a     MOVLW     0xa                                                                                             
004ea8   cff3     MOVFF     0xff3,0xfdb                                                                                     
004eaa   ffdb                                                                                                               
004eac   d03b     BRA       0x4f24         		break;                                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	                                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                   case RD_SENSOR_IR:                                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004eae   df6c     RCALL     0x4d88         		ReadSensorIR();                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
004eb0   0efd     MOVLW     0xfd           		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[0] = ((SENSOR_IR_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\usr_sensorIR.c
004eb2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
004eb4   ffe9                                                                                                               
004eb6   0efe     MOVLW     0xfe                                                                                            
004eb8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
004eba   ffea                                                                                                               
004ebc   50ef     MOVF      0xef,0x0,0x0                                                                                    
004ebe   6ee6     MOVWF     0xe6,0x0                                                                                        
004ec0   c18a     MOVFF     0x18a,0xfe9                                                                                     
004ec2   ffe9                                                                                                               
004ec4   c18b     MOVFF     0x18b,0xfea                                                                                     
004ec6   ffea                                                                                                               
004ec8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004eca   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004ecc   6eef     MOVWF     0xef,0x0                                                                                        
004ece   c18a     MOVFF     0x18a,0xfe9    		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[1] = ADRESL;            Z:\home\andres\u4a2\user\usr_sensorIR.c
004ed0   ffe9                                                                                                               
004ed2   c18b     MOVFF     0x18b,0xfea                                                                                     
004ed4   ffea                                                                                                               
004ed6   0e01     MOVLW     0x1                                                                                             
004ed8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004eda   0e00     MOVLW     0x0                                                                                             
004edc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004ede   cfc3     MOVFF     0xfc3,0xfef                                                                                     
004ee0   ffef                                                                                                               
004ee2   c18a     MOVFF     0x18a,0xfe9    		((SENSOR_IR_DATA_PACKET*)sendBufferUsrSensorIR)->_byte[2] = ADRESH;            Z:\home\andres\u4a2\user\usr_sensorIR.c
004ee4   ffe9                                                                                                               
004ee6   c18b     MOVFF     0x18b,0xfea                                                                                     
004ee8   ffea                                                                                                               
004eea   0e02     MOVLW     0x2                                                                                             
004eec   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004eee   0e00     MOVLW     0x0                                                                                             
004ef0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004ef2   cfc4     MOVFF     0xfc4,0xfef                                                                                     
004ef4   ffef                                                                                                               
004ef6   0e03     MOVLW     0x3            		userSensorIRCounter = 0x03;                                                    Z:\home\andres\u4a2\user\usr_sensorIR.c
004ef8   6ef3     MOVWF     0xf3,0x0                                                                                        
004efa   0e0a     MOVLW     0xa                                                                                             
004efc   cff3     MOVFF     0xff3,0xfdb                                                                                     
004efe   ffdb                                                                                                               
004f00   d011     BRA       0x4f24         		break;                                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                   case RESET:                                                              Z:\home\andres\u4a2\user\usr_sensorIR.c
004f02   00ff     RESET                    		Reset();                                                                       Z:\home\andres\u4a2\user\usr_sensorIR.c
004f04   d00f     BRA       0x4f24         		break;                                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	                                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	case MESS:                                                                      Z:\home\andres\u4a2\user\usr_sensorIR.c
004f06   0e09     MOVLW     0x9            		sendMes(mens, sizeof(mens));                                                   Z:\home\andres\u4a2\user\usr_sensorIR.c
004f08   6ee6     MOVWF     0xe6,0x0                                                                                        
004f0a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004f0c   0f01     ADDLW     0x1                                                                                             
004f0e   6ee6     MOVWF     0xe6,0x0                                                                                        
004f10   0e00     MOVLW     0x0                                                                                             
004f12   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004f14   6ee6     MOVWF     0xe6,0x0                                                                                        
004f16   ec5c     CALL      0x10b8,0x0                                                                                      
004f18   f008                                                                                                               
004f1a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f1c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f1e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f20   d001     BRA       0x4f24         		break;                                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	                                                                                Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           	default:                                                                        Z:\home\andres\u4a2\user\usr_sensorIR.c
004f22   d000     BRA       0x4f24         		break;                                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
                                                 }//end switch(s)                                                           Z:\home\andres\u4a2\user\usr_sensorIR.c
004f24   0e0a     MOVLW     0xa                  if(userSensorIRCounter != 0)                                               Z:\home\andres\u4a2\user\usr_sensorIR.c
004f26   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f28   e00c     BZ        0x4f42                                                                                          
                                                 {                                                                          Z:\home\andres\u4a2\user\usr_sensorIR.c
004f2a   0104     MOVLB     0x4            		if(!mUSBGenTxIsBusy())                                                         Z:\home\andres\u4a2\user\usr_sensorIR.c
004f2c   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
004f2e   d009     BRA       0x4f42                                                                                          
004f30   0e0a     MOVLW     0xa            			USBGenWrite2(usrSensorIRHandler, userSensorIRCounter);                        Z:\home\andres\u4a2\user\usr_sensorIR.c
004f32   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
004f34   ffe6                                                                                                               
004f36   c189     MOVFF     0x189,0xfe6                                                                                     
004f38   ffe6                                                                                                               
004f3a   ec31     CALL      0x2662,0x0                                                                                      
004f3c   f013                                                                                                               
004f3e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f40   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }//end if                                                                  Z:\home\andres\u4a2\user\usr_sensorIR.c
004f42   0e0b     MOVLW     0xb            }//end UserSensorIRReceived                                                      Z:\home\andres\u4a2\user\usr_sensorIR.c
004f44   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004f46   e202     BC        0x4f4c                                                                                          
004f48   6ae1     CLRF      0xe1,0x0                                                                                        
004f4a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f4c   6ee1     MOVWF     0xe1,0x0                                                                                        
004f4e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004f50   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
004f52   ffd9                                                                                                               
004f54   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /** EOF usr_sensorIR.c ***************************************************************/ Z:\home\andres\u4a2\user\usr_sensorIR.c
                                           /*                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	jvisca@fing.edu.uy                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           */                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "testT0Service.h"                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "usb4all\proxys\T0Service.h"                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #include "stepMotorTimer.h"                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           //#include "dynamicPolling.h"                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           //#include "usb4all\proxys\T0Proxy.h"                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           volatile Motor motorA;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           volatile Motor motorB;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           byte  MotorTmrHandler;	  // Handler number asigned to the module                 Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           byte* sendBufferMotorTmr; // buffer to send data                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           // GLOBAL VARIALES THAT CHANGE IN ISR MUST BE DECLARATED WITH VOLATILE!!         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorTmrInit(byte i);                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorAStepEvent();                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorBStepEvent();                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorRegulationEvent();                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorTmrRelease(byte);                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorTmrConfigure(void);                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorTmrReceived(byte*, byte);                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           uTab MotorTmrModuleTable = {&MotorTmrInit,&MotorTmrRelease,&MotorTmrConfigure,"motorTm"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void setupMotors(void){                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
004f56   0100     MOVLB     0x0            	motorA.phasetype = FULL_STEP;                                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
004f58   0e01     MOVLW     0x1                                                                                             
004f5a   6fe5     MOVWF     0xe5,0x1                                                                                        
004f5c   6be6     CLRF      0xe6,0x1       	motorA.phaseposition = 0;                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
004f5e   6fe7     MOVWF     0xe7,0x1       	motorA.power_on = POWER_ON;                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
004f60   6fe8     MOVWF     0xe8,0x1       	motorA.direction = DIR_FORWARD;                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
004f62   6fe9     MOVWF     0xe9,0x1       	motorA.targetdirection = DIR_FORWARD;                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
004f64   6bea     CLRF      0xea,0x1       	motorA.stepswaiting = 0;                                                        Z:\home\andres\u4a2\user\stepMotorTimer.c
004f66   6beb     CLRF      0xeb,0x1                                                                                        
004f68   c140     MOVFF     0x140,0xee     	motorA.targetdelaytime = max_step_length;                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
004f6a   f0ee                                                                                                               
004f6c   c141     MOVFF     0x141,0xef                                                                                      
004f6e   f0ef                                                                                                               
004f70   c140     MOVFF     0x140,0xec     	motorA.delaytime = max_step_length;                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
004f72   f0ec                                                                                                               
004f74   c141     MOVFF     0x141,0xed                                                                                      
004f76   f0ed                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004f78   6ff0     MOVWF     0xf0,0x1       	motorB.phasetype = FULL_STEP;                                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
004f7a   6bf1     CLRF      0xf1,0x1       	motorB.phaseposition = 0;                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
004f7c   6ff2     MOVWF     0xf2,0x1       	motorB.power_on = POWER_ON;                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
004f7e   6ff3     MOVWF     0xf3,0x1       	motorB.direction = DIR_FORWARD;                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
004f80   6fe9     MOVWF     0xe9,0x1       	motorA.targetdirection = DIR_FORWARD;                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
004f82   6bf5     CLRF      0xf5,0x1       	motorB.stepswaiting = 0;                                                        Z:\home\andres\u4a2\user\stepMotorTimer.c
004f84   6bf6     CLRF      0xf6,0x1                                                                                        
004f86   c140     MOVFF     0x140,0xf9     	motorB.targetdelaytime = max_step_length;                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
004f88   f0f9                                                                                                               
004f8a   c141     MOVFF     0x141,0xfa                                                                                      
004f8c   f0fa                                                                                                               
004f8e   c140     MOVFF     0x140,0xf7     	motorB.delaytime = max_step_length;                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
004f90   f0f7                                                                                                               
004f92   c141     MOVFF     0x141,0xf8                                                                                      
004f94   f0f8                                                                                                               
004f96   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004f98   ec1e     CALL      0x583c,0x0     void MotorTmrInit(byte i){                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
004f9a   f02c                                                                                                               
                                           	//mLED_1_On();                                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	//mLED_2_On();                                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004f9c   0efe     MOVLW     0xfe           	MotorTmrHandler = i;                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004f9e   cfdb     MOVFF     0xfdb,0xfb                                                                                      
004fa0   f0fb                                                                                                               
                                           	// initialize the send buffer, used to send data to the PC                      Z:\home\andres\u4a2\user\stepMotorTimer.c
004fa2   c0fb     MOVFF     0xfb,0xfe6     	sendBufferMotorTmr = getSharedBuffer(MotorTmrHandler);                          Z:\home\andres\u4a2\user\stepMotorTimer.c
004fa4   ffe6                                                                                                               
004fa6   ece4     CALL      0x29c8,0x0                                                                                      
004fa8   f014                                                                                                               
004faa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fac   cff3     MOVFF     0xff3,0xfc                                                                                      
004fae   f0fc                                                                                                               
004fb0   cff4     MOVFF     0xff4,0xfd                                                                                      
004fb2   f0fd                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004fb4   0edc     MOVLW     0xdc           	setHandlerReceiveFunction(MotorTmrHandler,&MotorTmrReceived);                   Z:\home\andres\u4a2\user\stepMotorTimer.c
004fb6   6ee6     MOVWF     0xe6,0x0                                                                                        
004fb8   0e51     MOVLW     0x51                                                                                            
004fba   6ee6     MOVWF     0xe6,0x0                                                                                        
004fbc   c0fb     MOVFF     0xfb,0xfe6                                                                                      
004fbe   ffe6                                                                                                               
004fc0   ec67     CALL      0x24ce,0x0                                                                                      
004fc2   f012                                                                                                               
004fc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fc6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fc8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004fca   dfc5     RCALL     0x4f56         	setupMotors();                                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
004fcc   ec43     CALL      0x5886,0x0     	registerT0event(motorA.delaytime, &MotorAStepEvent);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004fce   f02c                                                                                                               
004fd0   ec63     CALL      0x20c6,0x0                                                                                      
004fd2   f010                                                                                                               
004fd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fd6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fd8   ec23     CALL      0x5846,0x0                                                                                      
004fda   f02c                                                                                                               
005846   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005848   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005886   0e14     MOVLW     0x14                                                                                            
005888   6ee6     MOVWF     0xe6,0x0                                                                                        
00588a   0e51     MOVLW     0x51                                                                                            
00588c   6ee6     MOVWF     0xe6,0x0                                                                                        
00588e   c0ec     MOVFF     0xec,0xfe6                                                                                      
005890   ffe6                                                                                                               
005892   c0ed     MOVFF     0xed,0xfe6                                                                                      
005894   ffe6                                                                                                               
005896   0012     RETURN    0x0                                                                                             
004fdc   ec63     CALL      0x20c6,0x0     	registerT0event(motorB.delaytime, &MotorBStepEvent);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004fde   f010                                                                                                               
004fe0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fe2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fe4   ec2e     CALL      0x585c,0x0                                                                                      
004fe6   f02c                                                                                                               
00584a   0e56     MOVLW     0x56                                                                                            
00584c   6ee6     MOVWF     0xe6,0x0                                                                                        
00584e   0e51     MOVLW     0x51                                                                                            
005850   6ee6     MOVWF     0xe6,0x0                                                                                        
005852   c0f7     MOVFF     0xf7,0xfe6                                                                                      
005854   ffe6                                                                                                               
005856   c0f8     MOVFF     0xf8,0xfe6                                                                                      
005858   ffe6                                                                                                               
00585a   0012     RETURN    0x0                                                                                             
00585c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00585e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004fe8   ec63     CALL      0x20c6,0x0     	registerT0event(step_regulation_delay, &MotorRegulationEvent);                  Z:\home\andres\u4a2\user\stepMotorTimer.c
004fea   f010                                                                                                               
004fec   ef19     GOTO      0x5832                                                                                          
004fee   f02c                                                                                                               
005860   0e96     MOVLW     0x96                                                                                            
005862   6ee6     MOVWF     0xe6,0x0                                                                                        
005864   0e51     MOVLW     0x51                                                                                            
005866   6ee6     MOVWF     0xe6,0x0                                                                                        
005868   c142     MOVFF     0x142,0xfe6                                                                                     
00586a   ffe6                                                                                                               
00586c   c143     MOVFF     0x143,0xfe6                                                                                     
00586e   ffe6                                                                                                               
005870   0012     RETURN    0x0                                                                                             
                                           }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
004ff0   ec1e     CALL      0x583c,0x0     void stepMotor(const Motor *motor){                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
004ff2   f02c                                                                                                               
004ff4   ec74     CALL      0x58e8,0x0     	motor->phaseposition += motor->direction;                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
004ff6   f02c                                                                                                               
004ff8   52ee     MOVF      0xee,0x1,0x0                                                                                    
004ffa   500b     MOVF      0xb,0x0,0x0                                                                                     
004ffc   26ef     ADDWF     0xef,0x1,0x0                                                                                    
004ffe   ec0e     CALL      0x581c,0x0     	if(motor->phasetype == WAVE_STEP || motor->phasetype == FULL_STEP){             Z:\home\andres\u4a2\user\stepMotorTimer.c
005000   f02c                                                                                                               
005002   50ef     MOVF      0xef,0x0,0x0                                                                                    
005004   e004     BZ        0x500e                                                                                          
005006   ec0e     CALL      0x581c,0x0                                                                                      
005008   f02c                                                                                                               
00500a   04ef     DECF      0xef,0x0,0x0                                                                                    
00500c   e105     BNZ       0x5018                                                                                          
                                           		//if the phase type is wave or full step mode                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           		//then move on 2 phases                                                        Z:\home\andres\u4a2\user\stepMotorTimer.c
00500e   ec74     CALL      0x58e8,0x0     		motor->phaseposition += motor->direction;                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
005010   f02c                                                                                                               
005012   52ee     MOVF      0xee,0x1,0x0                                                                                    
005014   500b     MOVF      0xb,0x0,0x0                                                                                     
005016   26ef     ADDWF     0xef,0x1,0x0                                                                                    
0058e8   d818     RCALL     0x591a                                                                                          
0058ea   cfef     MOVFF     0xfef,0xb                                                                                       
0058ec   f00b                                                                                                               
0058ee   ef0e     GOTO      0x581c                                                                                          
0058f0   f02c                                                                                                               
00591a   df80     RCALL     0x581c                                                                                          
00591c   0e03     MOVLW     0x3                                                                                             
00591e   ef15     GOTO      0x582a                                                                                          
005920   f02c                                                                                                               
                                           	}                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	//wrap up 8 phases                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
005018   ec0e     CALL      0x581c,0x0     	if(motor->phaseposition >= 8){                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
00501a   f02c                                                                                                               
00501c   52ee     MOVF      0xee,0x1,0x0                                                                                    
00501e   cfef     MOVFF     0xfef,0xb                                                                                       
005020   f00b                                                                                                               
005022   0e08     MOVLW     0x8                                                                                             
005024   6ee7     MOVWF     0xe7,0x0                                                                                        
005026   180b     XORWF     0xb,0x0,0x0                                                                                     
005028   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
00502a   d002     BRA       0x5030                                                                                          
00502c   34e7     RLCF      0xe7,0x0,0x0                                                                                    
00502e   d002     BRA       0x5034                                                                                          
005030   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005032   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
005034   e305     BNC       0x5040                                                                                          
005036   ec0e     CALL      0x581c,0x0     		motor->phaseposition = 0;                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
005038   f02c                                                                                                               
00503a   52ee     MOVF      0xee,0x1,0x0                                                                                    
00503c   6aef     CLRF      0xef,0x0                                                                                        
00503e   d00b     BRA       0x5056         	} else if(motor->phaseposition < 0){                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005040   ec0e     CALL      0x581c,0x0                                                                                      
005042   f02c                                                                                                               
005044   52ee     MOVF      0xee,0x1,0x0                                                                                    
005046   cfef     MOVFF     0xfef,0xb                                                                                       
005048   f00b                                                                                                               
00504a   340b     RLCF      0xb,0x0,0x0                                                                                     
00504c   e304     BNC       0x5056                                                                                          
00504e   dbe6     RCALL     0x581c         		motor->phaseposition = 7;                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
005050   52ee     MOVF      0xee,0x1,0x0                                                                                    
005052   0e07     MOVLW     0x7                                                                                             
005054   6eef     MOVWF     0xef,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005056   ec79     CALL      0x58f2,0x0     	if (motor->stepswaiting>0) {                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
005058   f02c                                                                                                               
00505a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00505c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00505e   0e00     MOVLW     0x0                                                                                             
005060   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
005062   e20c     BC        0x507c                                                                                          
005064   ec79     CALL      0x58f2,0x0     		motor->stepswaiting--;                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
005066   f02c                                                                                                               
005068   06ee     DECF      0xee,0x1,0x0                                                                                    
00506a   5aef     SUBWFB    0xef,0x1,0x0                                                                                    
00506c   ec79     CALL      0x58f2,0x0     		if (motor->stepswaiting==0) {                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
00506e   f02c                                                                                                               
005070   50ee     MOVF      0xee,0x0,0x0                                                                                    
005072   10ed     IORWF     0xed,0x0,0x0                                                                                    
005074   e103     BNZ       0x507c                                                                                          
0058f2   df94     RCALL     0x581c                                                                                          
0058f4   0e05     MOVLW     0x5                                                                                             
0058f6   ef15     GOTO      0x582a                                                                                          
0058f8   f02c                                                                                                               
005076   ec8d     CALL      0x591a,0x0     			motor->direction=DIR_STOP;                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
005078   f02c                                                                                                               
00507a   6aef     CLRF      0xef,0x0                                                                                        
                                           		}                                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	}                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
00507c   ef7d     GOTO      0x58fa         }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
00507e   f02c                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005080   dbdd     RCALL     0x583c         void regulateMotor(const Motor *motor) {                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
005082   ec74     CALL      0x58e8,0x0     	if (motor->direction == motor->targetdirection){                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005084   f02c                                                                                                               
005086   ec85     CALL      0x590a,0x0                                                                                      
005088   f02c                                                                                                               
00508a   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
00508c   e12c     BNZ       0x50e6                                                                                          
                                           		//misma direccion                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
00508e   ec6b     CALL      0x58d6,0x0     		if (motor->delaytime < motor->targetdelaytime) {                               Z:\home\andres\u4a2\user\stepMotorTimer.c
005090   f02c                                                                                                               
005092   ec4c     CALL      0x5898,0x0                                                                                      
005094   f02c                                                                                                               
005096   e20b     BC        0x50ae                                                                                          
005898   cfee     MOVFF     0xfee,0xd                                                                                       
00589a   f00d                                                                                                               
00589c   cfef     MOVFF     0xfef,0xe                                                                                       
00589e   f00e                                                                                                               
0058a0   500d     MOVF      0xd,0x0,0x0                                                                                     
0058a2   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
0058a4   500e     MOVF      0xe,0x0,0x0                                                                                     
0058a6   580c     SUBWFB    0xc,0x0,0x0                                                                                     
0058a8   0012     RETURN    0x0                                                                                             
                                           			//acelerar                                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
005098   ec81     CALL      0x5902,0x0     			motor->delaytime += step_regulation_increment;                                Z:\home\andres\u4a2\user\stepMotorTimer.c
00509a   f02c                                                                                                               
00509c   26ee     ADDWF     0xee,0x1,0x0                                                                                    
00509e   5145     MOVF      0x45,0x0,0x1                                                                                    
0050a0   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
005902   d807     RCALL     0x5912                                                                                          
005904   0101     MOVLB     0x1                                                                                             
005906   5144     MOVF      0x44,0x0,0x1                                                                                    
005908   0012     RETURN    0x0                                                                                             
005912   df84     RCALL     0x581c                                                                                          
005914   0e07     MOVLW     0x7                                                                                             
005916   ef15     GOTO      0x582a                                                                                          
005918   f02c                                                                                                               
0050a2   ec6b     CALL      0x58d6,0x0     			if (motor->delaytime > motor->targetdelaytime) {                              Z:\home\andres\u4a2\user\stepMotorTimer.c
0050a4   f02c                                                                                                               
0050a6   ec55     CALL      0x58aa,0x0                                                                                      
0050a8   f02c                                                                                                               
0050aa   e232     BC        0x5110                                                                                          
0058aa   cfee     MOVFF     0xfee,0xd                                                                                       
0058ac   f00d                                                                                                               
0058ae   cfef     MOVFF     0xfef,0xe                                                                                       
0058b0   f00e                                                                                                               
0058b2   500b     MOVF      0xb,0x0,0x0                                                                                     
0058b4   5c0d     SUBWF     0xd,0x0,0x0                                                                                     
0058b6   500c     MOVF      0xc,0x0,0x0                                                                                     
0058b8   580e     SUBWFB    0xe,0x0,0x0                                                                                     
0058ba   0012     RETURN    0x0                                                                                             
                                           				motor->delaytime = motor->targetdelaytime;                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           			}                                                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
0050ac   d00e     BRA       0x50ca         		} else if (motor->delaytime > motor->targetdelaytime) {                        Z:\home\andres\u4a2\user\stepMotorTimer.c
0050ae   ec6b     CALL      0x58d6,0x0                                                                                      
0050b0   f02c                                                                                                               
0050b2   ec55     CALL      0x58aa,0x0                                                                                      
0050b4   f02c                                                                                                               
0050b6   e22c     BC        0x5110                                                                                          
                                           			//frenar                                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
0050b8   ec81     CALL      0x5902,0x0     			motor->delaytime -= step_regulation_increment;                                Z:\home\andres\u4a2\user\stepMotorTimer.c
0050ba   f02c                                                                                                               
0050bc   5eee     SUBWF     0xee,0x1,0x0                                                                                    
0050be   5145     MOVF      0x45,0x0,0x1                                                                                    
0050c0   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
0050c2   ec6b     CALL      0x58d6,0x0     			if (motor->delaytime < motor->targetdelaytime) {                              Z:\home\andres\u4a2\user\stepMotorTimer.c
0050c4   f02c                                                                                                               
0050c6   dbe8     RCALL     0x5898                                                                                          
0050c8   e223     BC        0x5110                                                                                          
0058d6   d81d     RCALL     0x5912                                                                                          
0058d8   cfee     MOVFF     0xfee,0xb                                                                                       
0058da   f00b                                                                                                               
0058dc   cfef     MOVFF     0xfef,0xc                                                                                       
0058de   f00c                                                                                                               
0058e0   df9d     RCALL     0x581c                                                                                          
0058e2   0e09     MOVLW     0x9                                                                                             
0058e4   ef15     GOTO      0x582a                                                                                          
0058e6   f02c                                                                                                               
0050ca   dba8     RCALL     0x581c         				motor->delaytime = motor->targetdelaytime;                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
0050cc   0e09     MOVLW     0x9                                                                                             
0050ce   dbad     RCALL     0x582a                                                                                          
0050d0   cfee     MOVFF     0xfee,0xb                                                                                       
0050d2   f00b                                                                                                               
0050d4   cfef     MOVFF     0xfef,0xc                                                                                       
0050d6   f00c                                                                                                               
0050d8   ec89     CALL      0x5912,0x0                                                                                      
0050da   f02c                                                                                                               
0050dc   c00b     MOVFF     0xb,0xfee                                                                                       
0050de   ffee                                                                                                               
0050e0   c00c     MOVFF     0xc,0xfed                                                                                       
0050e2   ffed                                                                                                               
                                           			}                                                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           		} //else mLED_3_Toggle();                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
0050e4   d015     BRA       0x5110         	} else if (motor->direction != motor->targetdirection) {                        Z:\home\andres\u4a2\user\stepMotorTimer.c
0050e6   ec74     CALL      0x58e8,0x0                                                                                      
0050e8   f02c                                                                                                               
0050ea   ec85     CALL      0x590a,0x0                                                                                      
0050ec   f02c                                                                                                               
0050ee   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
0050f0   e00f     BZ        0x5110                                                                                          
00582a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00582c   0e00     MOVLW     0x0                                                                                             
00582e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005830   0012     RETURN    0x0                                                                                             
00590a   0e04     MOVLW     0x4                                                                                             
00590c   df8e     RCALL     0x582a                                                                                          
00590e   50ef     MOVF      0xef,0x0,0x0                                                                                    
005910   0012     RETURN    0x0                                                                                             
                                           		//cambio de direccion                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           		//frenamos en un paso                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
0050f2   ec89     CALL      0x5912,0x0     		motor->delaytime = max_step_length;                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0050f4   f02c                                                                                                               
0050f6   c140     MOVFF     0x140,0xfee                                                                                     
0050f8   ffee                                                                                                               
0050fa   c141     MOVFF     0x141,0xfed                                                                                     
0050fc   ffed                                                                                                               
0050fe   db8e     RCALL     0x581c         		motor->direction = motor->targetdirection;                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
005100   ec85     CALL      0x590a,0x0                                                                                      
005102   f02c                                                                                                               
005104   6ee6     MOVWF     0xe6,0x0                                                                                        
005106   ec8d     CALL      0x591a,0x0                                                                                      
005108   f02c                                                                                                               
00510a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00510c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00510e   6eef     MOVWF     0xef,0x0                                                                                        
00581c   0efd     MOVLW     0xfd                                                                                            
00581e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005820   ffe9                                                                                                               
005822   0efe     MOVLW     0xfe                                                                                            
005824   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005826   ffea                                                                                                               
005828   0012     RETURN    0x0                                                                                             
                                           	}                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
005110   ef7d     GOTO      0x58fa         }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005112   f02c                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005114   db93     RCALL     0x583c         void MotorAStepEvent(void) {                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
005116   52e6     MOVF      0xe6,0x1,0x0                                                                                    
005118   0ef0     MOVLW     0xf0           	byte filter = mout & 0b11110000; //reset bits for this motor                    Z:\home\andres\u4a2\user\stepMotorTimer.c
00511a   1483     ANDWF     0x83,0x0,0x0                                                                                    
00511c   6edf     MOVWF     0xdf,0x0                                                                                        
00511e   0100     MOVLB     0x0            	if (motorA.power_on==1) {                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
005120   05e7     DECF      0xe7,0x0,0x1                                                                                    
005122   e10b     BNZ       0x513a                                                                                          
005124   51e5     MOVF      0xe5,0x0,0x1   		mout = filter | phaseArray[motorA.phasetype][motorA.phaseposition]; //apply motor's bits Z:\home\andres\u4a2\user\stepMotorTimer.c
005126   dba5     RCALL     0x5872                                                                                          
005128   c0e6     MOVFF     0xe6,0xd                                                                                        
00512a   f00d                                                                                                               
00512c   6a0e     CLRF      0xe,0x0                                                                                         
00512e   be0d     BTFSC     0xd,0x7,0x0                                                                                     
005130   680e     SETF      0xe,0x0                                                                                         
005132   dbca     RCALL     0x58c8                                                                                          
005134   50ef     MOVF      0xef,0x0,0x0                                                                                    
005136   10df     IORWF     0xdf,0x0,0x0                                                                                    
005872   0d08     MULLW     0x8                                                                                             
005874   cff3     MOVFF     0xff3,0xb                                                                                       
005876   f00b                                                                                                               
005878   cff4     MOVFF     0xff4,0xc                                                                                       
00587a   f00c                                                                                                               
00587c   0e28     MOVLW     0x28                                                                                            
00587e   260b     ADDWF     0xb,0x1,0x0                                                                                     
005880   0e01     MOVLW     0x1                                                                                             
005882   220c     ADDWFC    0xc,0x1,0x0                                                                                     
005884   0012     RETURN    0x0                                                                                             
0058c8   500b     MOVF      0xb,0x0,0x0                                                                                     
0058ca   240d     ADDWF     0xd,0x0,0x0                                                                                     
0058cc   6ee9     MOVWF     0xe9,0x0                                                                                        
0058ce   500c     MOVF      0xc,0x0,0x0                                                                                     
0058d0   200e     ADDWFC    0xe,0x0,0x0                                                                                     
0058d2   6eea     MOVWF     0xea,0x0                                                                                        
0058d4   0012     RETURN    0x0                                                                                             
005138   d001     BRA       0x513c         	} else {                                                                        Z:\home\andres\u4a2\user\stepMotorTimer.c
00513a   50df     MOVF      0xdf,0x0,0x0   		mout = filter;                                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
00513c   6e83     MOVWF     0x83,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00513e   0ee5     MOVLW     0xe5           	stepMotor(&motorA);                                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
005140   6ee6     MOVWF     0xe6,0x0                                                                                        
005142   0e00     MOVLW     0x0                                                                                             
005144   6ee6     MOVWF     0xe6,0x0                                                                                        
005146   df54     RCALL     0x4ff0                                                                                          
005148   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00514a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           		                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
00514c   db9c     RCALL     0x5886         	registerT0eventInEvent(motorA.delaytime, &MotorAStepEvent);                     Z:\home\andres\u4a2\user\stepMotorTimer.c
00514e   ecc7     CALL      0x218e,0x0                                                                                      
005150   f010                                                                                                               
005152   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005154   d36e     BRA       0x5832                                                                                          
                                           }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005156   db72     RCALL     0x583c         void MotorBStepEvent(void) {                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
005158   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00515a   0e0f     MOVLW     0xf            	byte filter = mout & 0b00001111; //reset bits for this motor                    Z:\home\andres\u4a2\user\stepMotorTimer.c
00515c   1483     ANDWF     0x83,0x0,0x0                                                                                    
00515e   6edf     MOVWF     0xdf,0x0                                                                                        
005160   0100     MOVLB     0x0            	if (motorB.power_on==1) {                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
005162   05f2     DECF      0xf2,0x0,0x1                                                                                    
005164   e10c     BNZ       0x517e                                                                                          
005166   51f0     MOVF      0xf0,0x0,0x1   		mout = filter | (phaseArray[motorB.phasetype][motorB.phaseposition]<<4); //apply motor's bits Z:\home\andres\u4a2\user\stepMotorTimer.c
005168   db84     RCALL     0x5872                                                                                          
00516a   c0f1     MOVFF     0xf1,0xd                                                                                        
00516c   f00d                                                                                                               
00516e   6a0e     CLRF      0xe,0x0                                                                                         
005170   be0d     BTFSC     0xd,0x7,0x0                                                                                     
005172   680e     SETF      0xe,0x0                                                                                         
005174   dba9     RCALL     0x58c8                                                                                          
005176   38ef     SWAPF     0xef,0x0,0x0                                                                                    
005178   0bf0     ANDLW     0xf0                                                                                            
00517a   10df     IORWF     0xdf,0x0,0x0                                                                                    
00517c   d001     BRA       0x5180         	} else {                                                                        Z:\home\andres\u4a2\user\stepMotorTimer.c
00517e   50df     MOVF      0xdf,0x0,0x0   		mout = filter;                                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
005180   6e83     MOVWF     0x83,0x0                                                                                        
                                           	}                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005182   0ef0     MOVLW     0xf0           	stepMotor(&motorB);                                                             Z:\home\andres\u4a2\user\stepMotorTimer.c
005184   6ee6     MOVWF     0xe6,0x0                                                                                        
005186   0e00     MOVLW     0x0                                                                                             
005188   6ee6     MOVWF     0xe6,0x0                                                                                        
00518a   df32     RCALL     0x4ff0                                                                                          
00518c   db5c     RCALL     0x5846                                                                                          
                                           		                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
00518e   ecc7     CALL      0x218e,0x0     	registerT0eventInEvent(motorB.delaytime, &MotorBStepEvent);                     Z:\home\andres\u4a2\user\stepMotorTimer.c
005190   f010                                                                                                               
005192   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005194   d34e     BRA       0x5832                                                                                          
005832   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005834   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005836   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005838   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
00583a   d05f     BRA       0x58fa                                                                                          
0058fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0058fc   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0058fe   ffd9                                                                                                               
005900   0012     RETURN    0x0                                                                                             
                                           void MotorRegulationEvent(void) {                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005196   0ee5     MOVLW     0xe5           	regulateMotor(&motorA);                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
005198   6ee6     MOVWF     0xe6,0x0                                                                                        
00519a   0e00     MOVLW     0x0                                                                                             
00519c   6ee6     MOVWF     0xe6,0x0                                                                                        
00519e   df70     RCALL     0x5080                                                                                          
0051a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051a2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051a4   0ef0     MOVLW     0xf0           	regulateMotor(&motorB);                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
0051a6   6ee6     MOVWF     0xe6,0x0                                                                                        
0051a8   0e00     MOVLW     0x0                                                                                             
0051aa   6ee6     MOVWF     0xe6,0x0                                                                                        
0051ac   df69     RCALL     0x5080                                                                                          
0051ae   db56     RCALL     0x585c                                                                                          
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0051b0   ecc7     CALL      0x218e,0x0     	registerT0eventInEvent(step_regulation_delay, &MotorRegulationEvent);           Z:\home\andres\u4a2\user\stepMotorTimer.c
0051b2   f010                                                                                                               
0051b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051ba   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051bc   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
0051be   db3e     RCALL     0x583c         void MotorTmrRelease(byte i){                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
00583c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00583e   ffe6                                                                                                               
005840   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005842   ffd9                                                                                                               
005844   0012     RETURN    0x0                                                                                             
                                           	//mLED_1_Off();                                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
0051c0   0e14     MOVLW     0x14           	unregisterT0event(&MotorAStepEvent);                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0051c2   6ee6     MOVWF     0xe6,0x0                                                                                        
0051c4   0e51     MOVLW     0x51                                                                                            
0051c6   db7a     RCALL     0x58bc                                                                                          
0051c8   0e56     MOVLW     0x56           	unregisterT0event(&MotorBStepEvent);                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0051ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0051cc   0e51     MOVLW     0x51                                                                                            
0051ce   db76     RCALL     0x58bc                                                                                          
0051d0   0e96     MOVLW     0x96           	unregisterT0event(&MotorRegulationEvent);                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
0051d2   6ee6     MOVWF     0xe6,0x0                                                                                        
0051d4   0e51     MOVLW     0x51                                                                                            
0051d6   db72     RCALL     0x58bc                                                                                          
0058bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0058be   ecfb     CALL      0x21f6,0x0                                                                                      
0058c0   f010                                                                                                               
0058c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0058c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0058c6   0012     RETURN    0x0                                                                                             
0051d8   d390     BRA       0x58fa         }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           void MotorTmrConfigure(void){                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
0051da   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0051dc   cfd9     MOVFF     0xfd9,0xfe6    void MotorTmrReceived(byte* recBuffPtr, byte len){                               Z:\home\andres\u4a2\user\stepMotorTimer.c
0051de   ffe6                                                                                                               
0051e0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0051e2   ffd9                                                                                                               
0051e4   0e0a     MOVLW     0xa                                                                                             
0051e6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0051e8   cfd9     MOVFF     0xfd9,0xfe9    	char mens[9] = "stepmots";	                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
0051ea   ffe9                                                                                                               
0051ec   cfda     MOVFF     0xfda,0xfea                                                                                     
0051ee   ffea                                                                                                               
0051f0   0e73     MOVLW     0x73                                                                                            
0051f2   6eee     MOVWF     0xee,0x0                                                                                        
0051f4   0e74     MOVLW     0x74                                                                                            
0051f6   6eee     MOVWF     0xee,0x0                                                                                        
0051f8   0e65     MOVLW     0x65                                                                                            
0051fa   6eee     MOVWF     0xee,0x0                                                                                        
0051fc   0e70     MOVLW     0x70                                                                                            
0051fe   6eee     MOVWF     0xee,0x0                                                                                        
005200   0e6d     MOVLW     0x6d                                                                                            
005202   6eee     MOVWF     0xee,0x0                                                                                        
005204   0e6f     MOVLW     0x6f                                                                                            
005206   6eee     MOVWF     0xee,0x0                                                                                        
005208   0e74     MOVLW     0x74                                                                                            
00520a   6eee     MOVWF     0xee,0x0                                                                                        
00520c   0e73     MOVLW     0x73                                                                                            
00520e   6eee     MOVWF     0xee,0x0                                                                                        
005210   6aee     CLRF      0xee,0x0                                                                                        
005212   0e09     MOVLW     0x9            	byte MotorTmrCounter = 0;                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
005214   6adb     CLRF      0xdb,0x0                                                                                        
                                           //mLED_1_Toggle();                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	//byte motor_id;                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	//mLED_1_On();                                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	//mLED_2_On();                                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005216   0efd     MOVLW     0xfd           	switch(((MOTORTMR_DATA_PACKET*)recBuffPtr)->CMD)                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005218   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00521a   ffe9                                                                                                               
00521c   0efe     MOVLW     0xfe                                                                                            
00521e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005220   ffea                                                                                                               
005222   50ef     MOVF      0xef,0x0,0x0                                                                                    
005224   0a05     XORLW     0x5                                                                                             
005226   e101     BNZ       0x522a                                                                                          
005228   d2d3     BRA       0x57d0                                                                                          
00522a   0afa     XORLW     0xfa                                                                                            
00522c   e101     BNZ       0x5230                                                                                          
00522e   d2ce     BRA       0x57cc                                                                                          
005230   0ae8     XORLW     0xe8                                                                                            
005232   e101     BNZ       0x5236                                                                                          
005234   d297     BRA       0x5764                                                                                          
005236   0a01     XORLW     0x1                                                                                             
005238   e101     BNZ       0x523c                                                                                          
00523a   d260     BRA       0x56fc                                                                                          
00523c   0a03     XORLW     0x3                                                                                             
00523e   e101     BNZ       0x5242                                                                                          
005240   d229     BRA       0x5694                                                                                          
005242   0a06     XORLW     0x6                                                                                             
005244   e101     BNZ       0x5248                                                                                          
005246   d1fd     BRA       0x5642                                                                                          
005248   0a14     XORLW     0x14                                                                                            
00524a   e101     BNZ       0x524e                                                                                          
00524c   d1d1     BRA       0x55f0                                                                                          
00524e   0a15     XORLW     0x15                                                                                            
005250   e101     BNZ       0x5254                                                                                          
005252   d1ad     BRA       0x55ae                                                                                          
005254   0a14     XORLW     0x14                                                                                            
005256   e101     BNZ       0x525a                                                                                          
005258   d189     BRA       0x556c                                                                                          
00525a   0a17     XORLW     0x17                                                                                            
00525c   e101     BNZ       0x5260                                                                                          
00525e   d165     BRA       0x552a                                                                                          
005260   0a15     XORLW     0x15                                                                                            
005262   e101     BNZ       0x5266                                                                                          
005264   d141     BRA       0x54e8                                                                                          
005266   0a14     XORLW     0x14                                                                                            
005268   e101     BNZ       0x526c                                                                                          
00526a   d10a     BRA       0x5480                                                                                          
00526c   0a13     XORLW     0x13                                                                                            
00526e   e101     BNZ       0x5272                                                                                          
005270   d0d3     BRA       0x5418                                                                                          
005272   0a0a     XORLW     0xa                                                                                             
005274   e101     BNZ       0x5278                                                                                          
005276   d09c     BRA       0x53b0                                                                                          
005278   0a0b     XORLW     0xb                                                                                             
00527a   e066     BZ        0x5348                                                                                          
00527c   0a03     XORLW     0x3                                                                                             
00527e   e043     BZ        0x5306                                                                                          
005280   0a01     XORLW     0x1                                                                                             
005282   e001     BZ        0x5286                                                                                          
005284   d2b1     BRA       0x57e8                                                                                          
                                           	{                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case READ_VERSION:                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           		//dataPacket._byte[1] is len                                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
005286   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
005288   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00528a   ffe9                                                                                                               
00528c   0efe     MOVLW     0xfe                                                                                            
00528e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005290   ffea                                                                                                               
005292   50ef     MOVF      0xef,0x0,0x0                                                                                    
005294   6ee6     MOVWF     0xe6,0x0                                                                                        
005296   c0fc     MOVFF     0xfc,0xfe9                                                                                      
005298   ffe9                                                                                                               
00529a   c0fd     MOVFF     0xfd,0xfea                                                                                      
00529c   ffea                                                                                                               
00529e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052a0   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0052a2   6eef     MOVWF     0xef,0x0                                                                                        
0052a4   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[1] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];  Z:\home\andres\u4a2\user\stepMotorTimer.c
0052a6   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0052a8   ffe9                                                                                                               
0052aa   0efe     MOVLW     0xfe                                                                                            
0052ac   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0052ae   ffea                                                                                                               
0052b0   0e01     MOVLW     0x1                                                                                             
0052b2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0052b4   0e00     MOVLW     0x0                                                                                             
0052b6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0052b8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0052ba   6ee6     MOVWF     0xe6,0x0                                                                                        
0052bc   c0fc     MOVFF     0xfc,0xfe9                                                                                      
0052be   ffe9                                                                                                               
0052c0   c0fd     MOVFF     0xfd,0xfea                                                                                      
0052c2   ffea                                                                                                               
0052c4   0e01     MOVLW     0x1                                                                                             
0052c6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0052c8   0e00     MOVLW     0x0                                                                                             
0052ca   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0052cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0052ce   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0052d0   6eef     MOVWF     0xef,0x0                                                                                        
0052d2   c0fc     MOVFF     0xfc,0xfe9     		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[2] = MOTOR_TIMER_MINOR_VERSION; Z:\home\andres\u4a2\user\stepMotorTimer.c
0052d4   ffe9                                                                                                               
0052d6   c0fd     MOVFF     0xfd,0xfea                                                                                      
0052d8   ffea                                                                                                               
0052da   0e02     MOVLW     0x2                                                                                             
0052dc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0052de   0e00     MOVLW     0x0                                                                                             
0052e0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0052e2   0e01     MOVLW     0x1                                                                                             
0052e4   6eef     MOVWF     0xef,0x0                                                                                        
0052e6   c0fc     MOVFF     0xfc,0xfe9     		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[3] = MOTOR_TIMER_MAJOR_VERSION; Z:\home\andres\u4a2\user\stepMotorTimer.c
0052e8   ffe9                                                                                                               
0052ea   c0fd     MOVFF     0xfd,0xfea                                                                                      
0052ec   ffea                                                                                                               
0052ee   0e03     MOVLW     0x3                                                                                             
0052f0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0052f2   0e00     MOVLW     0x0                                                                                             
0052f4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0052f6   0e01     MOVLW     0x1                                                                                             
0052f8   6eef     MOVWF     0xef,0x0                                                                                        
0052fa   0e04     MOVLW     0x4            		MotorTmrCounter=0x04;                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
0052fc   6ef3     MOVWF     0xf3,0x0                                                                                        
0052fe   0e09     MOVLW     0x9                                                                                             
005300   cff3     MOVFF     0xff3,0xfdb                                                                                     
005302   ffdb                                                                                                               
005304   d272     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case T0CFG:                                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
005306   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0]; Z:\home\andres\u4a2\user\stepMotorTimer.c
005308   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00530a   ffe9                                                                                                               
00530c   0efe     MOVLW     0xfe                                                                                            
00530e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005310   ffea                                                                                                               
005312   50ef     MOVF      0xef,0x0,0x0                                                                                    
005314   6ee6     MOVWF     0xe6,0x0                                                                                        
005316   c0fc     MOVFF     0xfc,0xfe9                                                                                      
005318   ffe9                                                                                                               
00531a   c0fd     MOVFF     0xfd,0xfea                                                                                      
00531c   ffea                                                                                                               
00531e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005320   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005322   6eef     MOVWF     0xef,0x0                                                                                        
005324   0efd     MOVLW     0xfd           		T0CON = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];                         Z:\home\andres\u4a2\user\stepMotorTimer.c
005326   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005328   ffe9                                                                                                               
00532a   0efe     MOVLW     0xfe                                                                                            
00532c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00532e   ffea                                                                                                               
005330   0e01     MOVLW     0x1                                                                                             
005332   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005334   0e00     MOVLW     0x0                                                                                             
005336   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005338   50ef     MOVF      0xef,0x0,0x0                                                                                    
00533a   6ed5     MOVWF     0xd5,0x0                                                                                        
00533c   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;	                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
00533e   6ef3     MOVWF     0xf3,0x0                                                                                        
005340   0e09     MOVLW     0x9                                                                                             
005342   cff3     MOVFF     0xff3,0xfdb                                                                                     
005344   ffdb                                                                                                               
005346   d251     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case STEP_A:                                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           //mLED_4_Toggle();                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
005348   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
00534a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00534c   ffe9                                                                                                               
00534e   0efe     MOVLW     0xfe                                                                                            
005350   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005352   ffea                                                                                                               
005354   50ef     MOVF      0xef,0x0,0x0                                                                                    
005356   6ee6     MOVWF     0xe6,0x0                                                                                        
005358   c0fc     MOVFF     0xfc,0xfe9                                                                                      
00535a   ffe9                                                                                                               
00535c   c0fd     MOVFF     0xfd,0xfea                                                                                      
00535e   ffea                                                                                                               
005360   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005362   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005364   6eef     MOVWF     0xef,0x0                                                                                        
                                           	                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005366   0efd     MOVLW     0xfd           		motorA.targetdelaytime=((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
005368   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00536a   ffe9                                                                                                               
00536c   0efe     MOVLW     0xfe                                                                                            
00536e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005370   ffea                                                                                                               
005372   0e01     MOVLW     0x1                                                                                             
005374   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005376   0e00     MOVLW     0x0                                                                                             
005378   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00537a   cfef     MOVFF     0xfef,0xb                                                                                       
00537c   f00b                                                                                                               
00537e   c00b     MOVFF     0xb,0xc                                                                                         
005380   f00c                                                                                                               
005382   6a0b     CLRF      0xb,0x0                                                                                         
005384   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005386   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005388   ffe9                                                                                                               
00538a   0efe     MOVLW     0xfe                                                                                            
00538c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00538e   ffea                                                                                                               
005390   0e02     MOVLW     0x2                                                                                             
005392   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005394   0e00     MOVLW     0x0                                                                                             
005396   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005398   50ef     MOVF      0xef,0x0,0x0                                                                                    
00539a   0100     MOVLB     0x0                                                                                             
00539c   100b     IORWF     0xb,0x0,0x0                                                                                     
00539e   6fee     MOVWF     0xee,0x1                                                                                        
0053a0   c00c     MOVFF     0xc,0xef                                                                                        
0053a2   f0ef                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0053a4   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
0053a6   6ef3     MOVWF     0xf3,0x0                                                                                        
0053a8   0e09     MOVLW     0x9                                                                                             
0053aa   cff3     MOVFF     0xff3,0xfdb                                                                                     
0053ac   ffdb                                                                                                               
0053ae   d21d     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case STEP_B:                                                                    Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0053b0   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
0053b2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0053b4   ffe9                                                                                                               
0053b6   0efe     MOVLW     0xfe                                                                                            
0053b8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0053ba   ffea                                                                                                               
0053bc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0053be   6ee6     MOVWF     0xe6,0x0                                                                                        
0053c0   c0fc     MOVFF     0xfc,0xfe9                                                                                      
0053c2   ffe9                                                                                                               
0053c4   c0fd     MOVFF     0xfd,0xfea                                                                                      
0053c6   ffea                                                                                                               
0053c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0053ca   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0053cc   6eef     MOVWF     0xef,0x0                                                                                        
                                           	                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
0053ce   0efd     MOVLW     0xfd           		motorB.targetdelaytime=((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
0053d0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0053d2   ffe9                                                                                                               
0053d4   0efe     MOVLW     0xfe                                                                                            
0053d6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0053d8   ffea                                                                                                               
0053da   0e01     MOVLW     0x1                                                                                             
0053dc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0053de   0e00     MOVLW     0x0                                                                                             
0053e0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0053e2   cfef     MOVFF     0xfef,0xb                                                                                       
0053e4   f00b                                                                                                               
0053e6   c00b     MOVFF     0xb,0xc                                                                                         
0053e8   f00c                                                                                                               
0053ea   6a0b     CLRF      0xb,0x0                                                                                         
0053ec   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0053ee   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0053f0   ffe9                                                                                                               
0053f2   0efe     MOVLW     0xfe                                                                                            
0053f4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0053f6   ffea                                                                                                               
0053f8   0e02     MOVLW     0x2                                                                                             
0053fa   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0053fc   0e00     MOVLW     0x0                                                                                             
0053fe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005400   50ef     MOVF      0xef,0x0,0x0                                                                                    
005402   0100     MOVLB     0x0                                                                                             
005404   100b     IORWF     0xb,0x0,0x0                                                                                     
005406   6ff9     MOVWF     0xf9,0x1                                                                                        
005408   c00c     MOVFF     0xc,0xfa                                                                                        
00540a   f0fa                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00540c   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
00540e   6ef3     MOVWF     0xf3,0x0                                                                                        
005410   0e09     MOVLW     0x9                                                                                             
005412   cff3     MOVFF     0xff3,0xfdb                                                                                     
005414   ffdb                                                                                                               
005416   d1e9     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case STEPS_A:                                                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
005418   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
00541a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00541c   ffe9                                                                                                               
00541e   0efe     MOVLW     0xfe                                                                                            
005420   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005422   ffea                                                                                                               
005424   50ef     MOVF      0xef,0x0,0x0                                                                                    
005426   6ee6     MOVWF     0xe6,0x0                                                                                        
005428   c0fc     MOVFF     0xfc,0xfe9                                                                                      
00542a   ffe9                                                                                                               
00542c   c0fd     MOVFF     0xfd,0xfea                                                                                      
00542e   ffea                                                                                                               
005430   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005432   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005434   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005436   0efd     MOVLW     0xfd           		motorA.stepswaiting =((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
005438   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00543a   ffe9                                                                                                               
00543c   0efe     MOVLW     0xfe                                                                                            
00543e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005440   ffea                                                                                                               
005442   0e01     MOVLW     0x1                                                                                             
005444   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005446   0e00     MOVLW     0x0                                                                                             
005448   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00544a   cfef     MOVFF     0xfef,0xb                                                                                       
00544c   f00b                                                                                                               
00544e   c00b     MOVFF     0xb,0xc                                                                                         
005450   f00c                                                                                                               
005452   6a0b     CLRF      0xb,0x0                                                                                         
005454   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005456   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005458   ffe9                                                                                                               
00545a   0efe     MOVLW     0xfe                                                                                            
00545c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00545e   ffea                                                                                                               
005460   0e02     MOVLW     0x2                                                                                             
005462   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005464   0e00     MOVLW     0x0                                                                                             
005466   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005468   50ef     MOVF      0xef,0x0,0x0                                                                                    
00546a   0100     MOVLB     0x0                                                                                             
00546c   100b     IORWF     0xb,0x0,0x0                                                                                     
00546e   6fea     MOVWF     0xea,0x1                                                                                        
005470   c00c     MOVFF     0xc,0xeb                                                                                        
005472   f0eb                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005474   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
005476   6ef3     MOVWF     0xf3,0x0                                                                                        
005478   0e09     MOVLW     0x9                                                                                             
00547a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00547c   ffdb                                                                                                               
00547e   d1b5     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case STEPS_B:                                                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
005480   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
005482   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005484   ffe9                                                                                                               
005486   0efe     MOVLW     0xfe                                                                                            
005488   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00548a   ffea                                                                                                               
00548c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00548e   6ee6     MOVWF     0xe6,0x0                                                                                        
005490   c0fc     MOVFF     0xfc,0xfe9                                                                                      
005492   ffe9                                                                                                               
005494   c0fd     MOVFF     0xfd,0xfea                                                                                      
005496   ffea                                                                                                               
005498   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00549a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00549c   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00549e   0efd     MOVLW     0xfd           		motorB.stepswaiting =((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
0054a0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0054a2   ffe9                                                                                                               
0054a4   0efe     MOVLW     0xfe                                                                                            
0054a6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0054a8   ffea                                                                                                               
0054aa   0e01     MOVLW     0x1                                                                                             
0054ac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0054ae   0e00     MOVLW     0x0                                                                                             
0054b0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0054b2   cfef     MOVFF     0xfef,0xb                                                                                       
0054b4   f00b                                                                                                               
0054b6   c00b     MOVFF     0xb,0xc                                                                                         
0054b8   f00c                                                                                                               
0054ba   6a0b     CLRF      0xb,0x0                                                                                         
0054bc   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0054be   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0054c0   ffe9                                                                                                               
0054c2   0efe     MOVLW     0xfe                                                                                            
0054c4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0054c6   ffea                                                                                                               
0054c8   0e02     MOVLW     0x2                                                                                             
0054ca   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0054cc   0e00     MOVLW     0x0                                                                                             
0054ce   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0054d0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0054d2   0100     MOVLB     0x0                                                                                             
0054d4   100b     IORWF     0xb,0x0,0x0                                                                                     
0054d6   6ff5     MOVWF     0xf5,0x1                                                                                        
0054d8   c00c     MOVFF     0xc,0xf6                                                                                        
0054da   f0f6                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0054dc   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
0054de   6ef3     MOVWF     0xf3,0x0                                                                                        
0054e0   0e09     MOVLW     0x9                                                                                             
0054e2   cff3     MOVFF     0xff3,0xfdb                                                                                     
0054e4   ffdb                                                                                                               
0054e6   d181     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case PHASETYPE_A:                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
0054e8   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
0054ea   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0054ec   ffe9                                                                                                               
0054ee   0efe     MOVLW     0xfe                                                                                            
0054f0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0054f2   ffea                                                                                                               
0054f4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0054f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0054f8   c0fc     MOVFF     0xfc,0xfe9                                                                                      
0054fa   ffe9                                                                                                               
0054fc   c0fd     MOVFF     0xfd,0xfea                                                                                      
0054fe   ffea                                                                                                               
005500   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005502   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005504   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005506   0efd     MOVLW     0xfd           		motorA.phasetype = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];              Z:\home\andres\u4a2\user\stepMotorTimer.c
005508   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00550a   ffe9                                                                                                               
00550c   0efe     MOVLW     0xfe                                                                                            
00550e   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005510   ffea                                                                                                               
005512   0e01     MOVLW     0x1                                                                                             
005514   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005516   0e00     MOVLW     0x0                                                                                             
005518   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00551a   cfef     MOVFF     0xfef,0xe5                                                                                      
00551c   f0e5                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00551e   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
005520   6ef3     MOVWF     0xf3,0x0                                                                                        
005522   0e09     MOVLW     0x9                                                                                             
005524   cff3     MOVFF     0xff3,0xfdb                                                                                     
005526   ffdb                                                                                                               
005528   d160     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case PHASETYPE_B:                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
00552a   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
00552c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00552e   ffe9                                                                                                               
005530   0efe     MOVLW     0xfe                                                                                            
005532   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005534   ffea                                                                                                               
005536   50ef     MOVF      0xef,0x0,0x0                                                                                    
005538   6ee6     MOVWF     0xe6,0x0                                                                                        
00553a   c0fc     MOVFF     0xfc,0xfe9                                                                                      
00553c   ffe9                                                                                                               
00553e   c0fd     MOVFF     0xfd,0xfea                                                                                      
005540   ffea                                                                                                               
005542   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005544   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005546   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005548   0efd     MOVLW     0xfd           		motorB.phasetype = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];              Z:\home\andres\u4a2\user\stepMotorTimer.c
00554a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00554c   ffe9                                                                                                               
00554e   0efe     MOVLW     0xfe                                                                                            
005550   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005552   ffea                                                                                                               
005554   0e01     MOVLW     0x1                                                                                             
005556   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005558   0e00     MOVLW     0x0                                                                                             
00555a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00555c   cfef     MOVFF     0xfef,0xf0                                                                                      
00555e   f0f0                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005560   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
005562   6ef3     MOVWF     0xf3,0x0                                                                                        
005564   0e09     MOVLW     0x9                                                                                             
005566   cff3     MOVFF     0xff3,0xfdb                                                                                     
005568   ffdb                                                                                                               
00556a   d13f     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case POWERON_A:                                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
00556c   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
00556e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005570   ffe9                                                                                                               
005572   0efe     MOVLW     0xfe                                                                                            
005574   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005576   ffea                                                                                                               
005578   50ef     MOVF      0xef,0x0,0x0                                                                                    
00557a   6ee6     MOVWF     0xe6,0x0                                                                                        
00557c   c0fc     MOVFF     0xfc,0xfe9                                                                                      
00557e   ffe9                                                                                                               
005580   c0fd     MOVFF     0xfd,0xfea                                                                                      
005582   ffea                                                                                                               
005584   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005586   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005588   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00558a   0efd     MOVLW     0xfd           		motorA.power_on = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];               Z:\home\andres\u4a2\user\stepMotorTimer.c
00558c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00558e   ffe9                                                                                                               
005590   0efe     MOVLW     0xfe                                                                                            
005592   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005594   ffea                                                                                                               
005596   0e01     MOVLW     0x1                                                                                             
005598   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00559a   0e00     MOVLW     0x0                                                                                             
00559c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00559e   cfef     MOVFF     0xfef,0xe7                                                                                      
0055a0   f0e7                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0055a2   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
0055a4   6ef3     MOVWF     0xf3,0x0                                                                                        
0055a6   0e09     MOVLW     0x9                                                                                             
0055a8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0055aa   ffdb                                                                                                               
0055ac   d11e     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case POWERON_B:                                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
0055ae   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
0055b0   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0055b2   ffe9                                                                                                               
0055b4   0efe     MOVLW     0xfe                                                                                            
0055b6   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0055b8   ffea                                                                                                               
0055ba   50ef     MOVF      0xef,0x0,0x0                                                                                    
0055bc   6ee6     MOVWF     0xe6,0x0                                                                                        
0055be   c0fc     MOVFF     0xfc,0xfe9                                                                                      
0055c0   ffe9                                                                                                               
0055c2   c0fd     MOVFF     0xfd,0xfea                                                                                      
0055c4   ffea                                                                                                               
0055c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055c8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0055ca   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0055cc   0efd     MOVLW     0xfd           		motorB.power_on = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];               Z:\home\andres\u4a2\user\stepMotorTimer.c
0055ce   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0055d0   ffe9                                                                                                               
0055d2   0efe     MOVLW     0xfe                                                                                            
0055d4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0055d6   ffea                                                                                                               
0055d8   0e01     MOVLW     0x1                                                                                             
0055da   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0055dc   0e00     MOVLW     0x0                                                                                             
0055de   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0055e0   cfef     MOVFF     0xfef,0xf2                                                                                      
0055e2   f0f2                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0055e4   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
0055e6   6ef3     MOVWF     0xf3,0x0                                                                                        
0055e8   0e09     MOVLW     0x9                                                                                             
0055ea   cff3     MOVFF     0xff3,0xfdb                                                                                     
0055ec   ffdb                                                                                                               
0055ee   d0fd     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case DIR_A:                                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
0055f0   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
0055f2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0055f4   ffe9                                                                                                               
0055f6   0efe     MOVLW     0xfe                                                                                            
0055f8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0055fa   ffea                                                                                                               
0055fc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0055fe   6ee6     MOVWF     0xe6,0x0                                                                                        
005600   c0fc     MOVFF     0xfc,0xfe9                                                                                      
005602   ffe9                                                                                                               
005604   c0fd     MOVFF     0xfd,0xfea                                                                                      
005606   ffea                                                                                                               
005608   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00560a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00560c   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00560e   0efd     MOVLW     0xfd           		motorA.targetdirection = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];        Z:\home\andres\u4a2\user\stepMotorTimer.c
005610   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005612   ffe9                                                                                                               
005614   0efe     MOVLW     0xfe                                                                                            
005616   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005618   ffea                                                                                                               
00561a   0e01     MOVLW     0x1                                                                                             
00561c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00561e   0e00     MOVLW     0x0                                                                                             
005620   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005622   cfef     MOVFF     0xfef,0xe9                                                                                      
005624   f0e9                                                                                                               
005626   0100     MOVLB     0x0            		if (!(motorA.targetdirection==0||motorA.targetdirection==1)) motorA.targetdirection=-1; Z:\home\andres\u4a2\user\stepMotorTimer.c
005628   51e9     MOVF      0xe9,0x0,0x1                                                                                    
00562a   e005     BZ        0x5636                                                                                          
00562c   0100     MOVLB     0x0                                                                                             
00562e   05e9     DECF      0xe9,0x0,0x1                                                                                    
005630   e002     BZ        0x5636                                                                                          
005632   0100     MOVLB     0x0                                                                                             
005634   69e9     SETF      0xe9,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005636   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
005638   6ef3     MOVWF     0xf3,0x0                                                                                        
00563a   0e09     MOVLW     0x9                                                                                             
00563c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00563e   ffdb                                                                                                               
005640   d0d4     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case DIR_B:                                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
005642   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
005644   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005646   ffe9                                                                                                               
005648   0efe     MOVLW     0xfe                                                                                            
00564a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00564c   ffea                                                                                                               
00564e   50ef     MOVF      0xef,0x0,0x0                                                                                    
005650   6ee6     MOVWF     0xe6,0x0                                                                                        
005652   c0fc     MOVFF     0xfc,0xfe9                                                                                      
005654   ffe9                                                                                                               
005656   c0fd     MOVFF     0xfd,0xfea                                                                                      
005658   ffea                                                                                                               
00565a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00565c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00565e   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005660   0efd     MOVLW     0xfd           		motorB.targetdirection = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1];        Z:\home\andres\u4a2\user\stepMotorTimer.c
005662   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005664   ffe9                                                                                                               
005666   0efe     MOVLW     0xfe                                                                                            
005668   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00566a   ffea                                                                                                               
00566c   0e01     MOVLW     0x1                                                                                             
00566e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005670   0e00     MOVLW     0x0                                                                                             
005672   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005674   cfef     MOVFF     0xfef,0xf4                                                                                      
005676   f0f4                                                                                                               
005678   0100     MOVLB     0x0            		if (!(motorB.targetdirection==0||motorB.targetdirection==1)) motorB.targetdirection=-1; Z:\home\andres\u4a2\user\stepMotorTimer.c
00567a   51f4     MOVF      0xf4,0x0,0x1                                                                                    
00567c   e005     BZ        0x5688                                                                                          
00567e   0100     MOVLB     0x0                                                                                             
005680   05f4     DECF      0xf4,0x0,0x1                                                                                    
005682   e002     BZ        0x5688                                                                                          
005684   0100     MOVLB     0x0                                                                                             
005686   69f4     SETF      0xf4,0x1                                                                                        
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005688   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
00568a   6ef3     MOVWF     0xf3,0x0                                                                                        
00568c   0e09     MOVLW     0x9                                                                                             
00568e   cff3     MOVFF     0xff3,0xfdb                                                                                     
005690   ffdb                                                                                                               
005692   d0ab     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case MAX_STEP:                                                                  Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005694   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
005696   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005698   ffe9                                                                                                               
00569a   0efe     MOVLW     0xfe                                                                                            
00569c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00569e   ffea                                                                                                               
0056a0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0056a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0056a4   c0fc     MOVFF     0xfc,0xfe9                                                                                      
0056a6   ffe9                                                                                                               
0056a8   c0fd     MOVFF     0xfd,0xfea                                                                                      
0056aa   ffea                                                                                                               
0056ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0056ae   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0056b0   6eef     MOVWF     0xef,0x0                                                                                        
                                           	                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
0056b2   0efd     MOVLW     0xfd           		max_step_length=((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
0056b4   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0056b6   ffe9                                                                                                               
0056b8   0efe     MOVLW     0xfe                                                                                            
0056ba   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0056bc   ffea                                                                                                               
0056be   0e01     MOVLW     0x1                                                                                             
0056c0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0056c2   0e00     MOVLW     0x0                                                                                             
0056c4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0056c6   cfef     MOVFF     0xfef,0xb                                                                                       
0056c8   f00b                                                                                                               
0056ca   c00b     MOVFF     0xb,0xc                                                                                         
0056cc   f00c                                                                                                               
0056ce   6a0b     CLRF      0xb,0x0                                                                                         
0056d0   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0056d2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0056d4   ffe9                                                                                                               
0056d6   0efe     MOVLW     0xfe                                                                                            
0056d8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0056da   ffea                                                                                                               
0056dc   0e02     MOVLW     0x2                                                                                             
0056de   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0056e0   0e00     MOVLW     0x0                                                                                             
0056e2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0056e4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0056e6   0101     MOVLB     0x1                                                                                             
0056e8   100b     IORWF     0xb,0x0,0x0                                                                                     
0056ea   6f40     MOVWF     0x40,0x1                                                                                        
0056ec   c00c     MOVFF     0xc,0x141                                                                                       
0056ee   f141                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0056f0   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
0056f2   6ef3     MOVWF     0xf3,0x0                                                                                        
0056f4   0e09     MOVLW     0x9                                                                                             
0056f6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0056f8   ffdb                                                                                                               
0056fa   d077     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case REGULATION_DELAY:                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0056fc   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
0056fe   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005700   ffe9                                                                                                               
005702   0efe     MOVLW     0xfe                                                                                            
005704   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005706   ffea                                                                                                               
005708   50ef     MOVF      0xef,0x0,0x0                                                                                    
00570a   6ee6     MOVWF     0xe6,0x0                                                                                        
00570c   c0fc     MOVFF     0xfc,0xfe9                                                                                      
00570e   ffe9                                                                                                               
005710   c0fd     MOVFF     0xfd,0xfea                                                                                      
005712   ffea                                                                                                               
005714   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005716   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005718   6eef     MOVWF     0xef,0x0                                                                                        
                                           	                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
00571a   0efd     MOVLW     0xfd           		step_regulation_delay=((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
00571c   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00571e   ffe9                                                                                                               
005720   0efe     MOVLW     0xfe                                                                                            
005722   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005724   ffea                                                                                                               
005726   0e01     MOVLW     0x1                                                                                             
005728   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00572a   0e00     MOVLW     0x0                                                                                             
00572c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00572e   cfef     MOVFF     0xfef,0xb                                                                                       
005730   f00b                                                                                                               
005732   c00b     MOVFF     0xb,0xc                                                                                         
005734   f00c                                                                                                               
005736   6a0b     CLRF      0xb,0x0                                                                                         
005738   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
00573a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00573c   ffe9                                                                                                               
00573e   0efe     MOVLW     0xfe                                                                                            
005740   cfdb     MOVFF     0xfdb,0xfea                                                                                     
005742   ffea                                                                                                               
005744   0e02     MOVLW     0x2                                                                                             
005746   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005748   0e00     MOVLW     0x0                                                                                             
00574a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00574c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00574e   0101     MOVLB     0x1                                                                                             
005750   100b     IORWF     0xb,0x0,0x0                                                                                     
005752   6f42     MOVWF     0x42,0x1                                                                                        
005754   c00c     MOVFF     0xc,0x143                                                                                       
005756   f143                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005758   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
00575a   6ef3     MOVWF     0xf3,0x0                                                                                        
00575c   0e09     MOVLW     0x9                                                                                             
00575e   cff3     MOVFF     0xff3,0xfdb                                                                                     
005760   ffdb                                                                                                               
005762   d043     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case REGULATION_INC:                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
005764   0efd     MOVLW     0xfd           		((MOTORTMR_DATA_PACKET*)sendBufferMotorTmr)->_byte[0] = ((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[0];  Z:\home\andres\u4a2\user\stepMotorTimer.c
005766   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005768   ffe9                                                                                                               
00576a   0efe     MOVLW     0xfe                                                                                            
00576c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00576e   ffea                                                                                                               
005770   50ef     MOVF      0xef,0x0,0x0                                                                                    
005772   6ee6     MOVWF     0xe6,0x0                                                                                        
005774   c0fc     MOVFF     0xfc,0xfe9                                                                                      
005776   ffe9                                                                                                               
005778   c0fd     MOVFF     0xfd,0xfea                                                                                      
00577a   ffea                                                                                                               
00577c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00577e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005780   6eef     MOVWF     0xef,0x0                                                                                        
                                           	                                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
005782   0efd     MOVLW     0xfd           		step_regulation_increment=((unsigned int)(((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[1]) << 8) Z:\home\andres\u4a2\user\stepMotorTimer.c
005784   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
005786   ffe9                                                                                                               
005788   0efe     MOVLW     0xfe                                                                                            
00578a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00578c   ffea                                                                                                               
00578e   0e01     MOVLW     0x1                                                                                             
005790   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
005792   0e00     MOVLW     0x0                                                                                             
005794   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005796   cfef     MOVFF     0xfef,0xb                                                                                       
005798   f00b                                                                                                               
00579a   c00b     MOVFF     0xb,0xc                                                                                         
00579c   f00c                                                                                                               
00579e   6a0b     CLRF      0xb,0x0                                                                                         
0057a0   0efd     MOVLW     0xfd           			| (((MOTORTMR_DATA_PACKET*)recBuffPtr)->_byte[2]);                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0057a2   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0057a4   ffe9                                                                                                               
0057a6   0efe     MOVLW     0xfe                                                                                            
0057a8   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0057aa   ffea                                                                                                               
0057ac   0e02     MOVLW     0x2                                                                                             
0057ae   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0057b0   0e00     MOVLW     0x0                                                                                             
0057b2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0057b4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0057b6   0101     MOVLB     0x1                                                                                             
0057b8   100b     IORWF     0xb,0x0,0x0                                                                                     
0057ba   6f44     MOVWF     0x44,0x1                                                                                        
0057bc   c00c     MOVFF     0xc,0x145                                                                                       
0057be   f145                                                                                                               
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0057c0   0e01     MOVLW     0x1            		MotorTmrCounter=0x1;                                                           Z:\home\andres\u4a2\user\stepMotorTimer.c
0057c2   6ef3     MOVWF     0xf3,0x0                                                                                        
0057c4   0e09     MOVLW     0x9                                                                                             
0057c6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0057c8   ffdb                                                                                                               
0057ca   d00f     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case RESET:                                                                     Z:\home\andres\u4a2\user\stepMotorTimer.c
0057cc   00ff     RESET                    		Reset();                                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
0057ce   d00d     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           		                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	case MESS:                                                                      Z:\home\andres\u4a2\user\stepMotorTimer.c
0057d0   0e09     MOVLW     0x9            		sendMes(mens, sizeof(mens));                                                   Z:\home\andres\u4a2\user\stepMotorTimer.c
0057d2   6ee6     MOVWF     0xe6,0x0                                                                                        
0057d4   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0057d6   ffe6                                                                                                               
0057d8   cfda     MOVFF     0xfda,0xfe6                                                                                     
0057da   ffe6                                                                                                               
0057dc   ec5c     CALL      0x10b8,0x0                                                                                      
0057de   f008                                                                                                               
0057e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0057e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0057e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0057e6   d001     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	default:                                                                        Z:\home\andres\u4a2\user\stepMotorTimer.c
0057e8   d000     BRA       0x57ea         		break;                                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	}//end switch(s)                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
0057ea   0e09     MOVLW     0x9            	if(MotorTmrCounter!= 0)                                                         Z:\home\andres\u4a2\user\stepMotorTimer.c
0057ec   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057ee   e00c     BZ        0x5808                                                                                          
                                           	{                                                                               Z:\home\andres\u4a2\user\stepMotorTimer.c
0057f0   0104     MOVLB     0x4            		if(!mUSBGenTxIsBusy()) {                                                       Z:\home\andres\u4a2\user\stepMotorTimer.c
0057f2   bf0c     BTFSC     0xc,0x7,0x1                                                                                     
0057f4   d009     BRA       0x5808                                                                                          
0057f6   0e09     MOVLW     0x9            			USBGenWrite2(MotorTmrHandler, MotorTmrCounter);                               Z:\home\andres\u4a2\user\stepMotorTimer.c
0057f8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0057fa   ffe6                                                                                                               
0057fc   c0fb     MOVFF     0xfb,0xfe6                                                                                      
0057fe   ffe6                                                                                                               
005800   ec31     CALL      0x2662,0x0                                                                                      
005802   f013                                                                                                               
005804   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005806   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			//mLED_4_On();                                                                Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           		}                                                                              Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           	}//end if  	  	                                                                 Z:\home\andres\u4a2\user\stepMotorTimer.c
005808   0e0a     MOVLW     0xa            }//end MotorTmrReceived                                                          Z:\home\andres\u4a2\user\stepMotorTimer.c
00580a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00580c   e202     BC        0x5812                                                                                          
00580e   6ae1     CLRF      0xe1,0x0                                                                                        
005810   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005812   6ee1     MOVWF     0xe1,0x0                                                                                        
005814   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005816   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005818   ffd9                                                                                                               
00581a   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                                                                                                            Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /** EOF stepMotorTmr.c ***************************************************************/ Z:\home\andres\u4a2\user\stepMotorTimer.c
                                           /* Author             									  Date        Comment                             Z:\home\andres\u4a2\user\testT0Service.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~   Z:\home\andres\u4a2\user\testT0Service.c
                                            * Andres Aguirre								         24/06/07    Original.                          Z:\home\andres\u4a2\user\testT0Service.c
                                            * Andres Aguirre								         24/06/07    Deshardcodeo deconfiguracion del timer.	 Z:\home\andres\u4a2\user\testT0Service.c
                                            *****************************************************************************/  Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           /** I N C L U D E S **********************************************************/  Z:\home\andres\u4a2\user\testT0Service.c
                                           #include <p18cxxx.h>                                                             Z:\home\andres\u4a2\user\testT0Service.c
                                           #include "system\typedefs.h"                                                     Z:\home\andres\u4a2\user\testT0Service.c
                                           #include "system\usb\usb.h"                                                      Z:\home\andres\u4a2\user\testT0Service.c
                                           #include "testT0Service.h"                                                       Z:\home\andres\u4a2\user\testT0Service.c
                                           #include "usb4all\proxys\T0Service.h"                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           #include "io_cfg.h"              // I/O pin mapping                              Z:\home\andres\u4a2\user\testT0Service.c
                                           #include "user\handlerManager.h"                                                 Z:\home\andres\u4a2\user\testT0Service.c
                                           //#include "dynamicPolling.h"                                                    Z:\home\andres\u4a2\user\testT0Service.c
                                           //#include "usb4all\proxys\T0Proxy.h"                                            Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           /** V A R I A B L E S ********************************************************/  Z:\home\andres\u4a2\user\testT0Service.c
                                           #pragma udata                                                                    Z:\home\andres\u4a2\user\testT0Service.c
                                           //volatile byte cont = 0;                                                        Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           // GLOBAL VARIALES THAT CHANGE IN ISR MUST BE DECLARATED WITH VOLATILE!!         Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0ServiceInit(byte i);                                                  Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0Event();                                                              Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0Event2();                                                             Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0ServiceRelease(byte);                                                 Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0ServiceConfigure(void);                                               Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           // Table used by te framework to get a fixed reference point to the user module functions defined by the framework  Z:\home\andres\u4a2\user\testT0Service.c
                                           /** USER MODULE REFERENCE*****************************************************/  Z:\home\andres\u4a2\user\testT0Service.c
                                           #pragma romdata user                                                             Z:\home\andres\u4a2\user\testT0Service.c
                                           uTab TestT0ServiceModuleTable = {&TestT0ServiceInit,&TestT0ServiceRelease,&TestT0ServiceConfigure,"testT0S"}; //modName must be less or equal 8 characters Z:\home\andres\u4a2\user\testT0Service.c
                                           #pragma code                                                                     Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           /** D E C L A R A T I O N S **************************************************/  Z:\home\andres\u4a2\user\testT0Service.c
                                           #pragma code module                                                              Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
005922   cfd9     MOVFF     0xfd9,0xfe6    void TestT0ServiceInit(byte i){                                                  Z:\home\andres\u4a2\user\testT0Service.c
005924   ffe6                                                                                                               
005926   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005928   ffd9                                                                                                               
                                           	//mInitAllLEDs(); //debugueo con leds                                           Z:\home\andres\u4a2\user\testT0Service.c
00592a   808a     BSF       0x8a,0x0,0x0   	mLED_1_On();                                                                    Z:\home\andres\u4a2\user\testT0Service.c
00592c   828a     BSF       0x8a,0x1,0x0   	mLED_2_On();                                                                    Z:\home\andres\u4a2\user\testT0Service.c
00592e   d81e     RCALL     0x596c         	registerT0event(2000, &TestT0Event);                                            Z:\home\andres\u4a2\user\testT0Service.c
005930   ec63     CALL      0x20c6,0x0                                                                                      
005932   f010                                                                                                               
005934   d82d     RCALL     0x5990                                                                                          
00596c   0e46     MOVLW     0x46                                                                                            
00596e   6ee6     MOVWF     0xe6,0x0                                                                                        
005970   0e59     MOVLW     0x59                                                                                            
005972   6ee6     MOVWF     0xe6,0x0                                                                                        
005974   0ed0     MOVLW     0xd0                                                                                            
005976   6ee6     MOVWF     0xe6,0x0                                                                                        
005978   0e07     MOVLW     0x7                                                                                             
00597a   6ee6     MOVWF     0xe6,0x0                                                                                        
00597c   0012     RETURN    0x0                                                                                             
005936   d823     RCALL     0x597e         	registerT0event(3500, &TestT0Event2);                                           Z:\home\andres\u4a2\user\testT0Service.c
005938   ec63     CALL      0x20c6,0x0                                                                                      
00593a   f010                                                                                                               
00593c   d829     RCALL     0x5990                                                                                          
00597e   0e52     MOVLW     0x52                                                                                            
005980   6ee6     MOVWF     0xe6,0x0                                                                                        
005982   0e59     MOVLW     0x59                                                                                            
005984   6ee6     MOVWF     0xe6,0x0                                                                                        
005986   0eac     MOVLW     0xac                                                                                            
005988   6ee6     MOVWF     0xe6,0x0                                                                                        
00598a   0e0d     MOVLW     0xd                                                                                             
00598c   6ee6     MOVWF     0xe6,0x0                                                                                        
00598e   0012     RETURN    0x0                                                                                             
00593e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\testT0Service.c
005940   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005942   ffd9                                                                                                               
005944   0012     RETURN    0x0                                                                                             
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0Event(void) {                                                         Z:\home\andres\u4a2\user\testT0Service.c
005946   708a     BTG       0x8a,0x0,0x0   	mLED_1_Toggle();                                                                Z:\home\andres\u4a2\user\testT0Service.c
                                           		                                                                               Z:\home\andres\u4a2\user\testT0Service.c
005948   d811     RCALL     0x596c         	registerT0eventInEvent(2000, &TestT0Event);                                     Z:\home\andres\u4a2\user\testT0Service.c
00594a   ecc7     CALL      0x218e,0x0                                                                                      
00594c   f010                                                                                                               
00594e   efc8     GOTO      0x5990                                                                                          
005950   f02c                                                                                                               
                                           }                                                                                Z:\home\andres\u4a2\user\testT0Service.c
                                           void TestT0Event2(void) {                                                        Z:\home\andres\u4a2\user\testT0Service.c
                                           	//mLED_1_Toggle();                                                              Z:\home\andres\u4a2\user\testT0Service.c
005952   728a     BTG       0x8a,0x1,0x0   	mLED_2_Toggle();                                                                Z:\home\andres\u4a2\user\testT0Service.c
                                           		                                                                               Z:\home\andres\u4a2\user\testT0Service.c
005954   d814     RCALL     0x597e         	registerT0eventInEvent(3500, &TestT0Event2);                                    Z:\home\andres\u4a2\user\testT0Service.c
005956   ecc7     CALL      0x218e,0x0                                                                                      
005958   f010                                                                                                               
00595a   efc8     GOTO      0x5990                                                                                          
00595c   f02c                                                                                                               
005990   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005992   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005994   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005996   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005998   0012     RETURN    0x0                                                                                             
                                           }                                                                                Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
00595e   cfd9     MOVFF     0xfd9,0xfe6    void TestT0ServiceRelease(byte i){                                               Z:\home\andres\u4a2\user\testT0Service.c
005960   ffe6                                                                                                               
                                           	//mLED_1_Off();                                                                 Z:\home\andres\u4a2\user\testT0Service.c
005962   52e5     MOVF      0xe5,0x1,0x0   }                                                                                Z:\home\andres\u4a2\user\testT0Service.c
005964   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005966   ffd9                                                                                                               
005968   0012     RETURN    0x0                                                                                             
                                           void TestT0ServiceConfigure(void){                                               Z:\home\andres\u4a2\user\testT0Service.c
00596a   0012     RETURN    0x0            }                                                                                Z:\home\andres\u4a2\user\testT0Service.c
                                                                                                                            Z:\home\andres\u4a2\user\testT0Service.c
                                           /** EOF stepMotorISR.c ***************************************************************/ Z:\home\andres\u4a2\user\testT0Service.c
                                                   LIST P=18F4550                                                           C:\MCC18\src\traditional\proc\p18F4550.asm
                                                   LIST                                                                     C:\MCC18\src\traditional\proc\p18F4550.asm
                                                   END                                                                      C:\MCC18\src\traditional\proc\p18F4550.asm
                                           #include "p18cxxx.inc"                                                           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                                   LIST                                                                     C:\MCC18\mpasm\p18cxxx.inc
                                           ; P18CXXX.INC  Standard Header File, Microchip Technology, Inc.                  C:\MCC18\mpasm\p18cxxx.inc
                                                   LIST                                                                     C:\MCC18\mpasm\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\mpasm\P18C452.INC
                                                   LIST                                                                     C:\MCC18\mpasm\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C242                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C242.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C252                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C252.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C442                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C442.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C452                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C452.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C601                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C601.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C658                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C658.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C801                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C801.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C858                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C858.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1220                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1220.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1230                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1230.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1320                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1320.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1330                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1330.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F13K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F13K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F13K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F13K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F14K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F14K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F14K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F14K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2220                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2220.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2221                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2221.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2320                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2320.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2321                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2321.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2331                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2331.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F242                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F242.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2420                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2420.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2423                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2423.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2431                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2431.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2439                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2439.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2450                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2450.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2455                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2455.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2458                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2458.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F248                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F248.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2480                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2480.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2510                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2510.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2515                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2515.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F252                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F252.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2523                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2523.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2539                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2539.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2550                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2550.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2553                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2553.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F258                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F258.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2580                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2580.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2610                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2610.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2682                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2682.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2685                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2685.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F26J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F26J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F26J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F26J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F26K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F26K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4220                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4220.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4221                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4221.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4320                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4320.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4321                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4321.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4331                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4331.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F442                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F442.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4420                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4420.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4423                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4423.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4431                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4431.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4439                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4439.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4450                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4450.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4455                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4455.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4458                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4458.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F448                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F448.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4480                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4480.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4510                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4510.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4515                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4515.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F452                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F452.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4523                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4523.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4539                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4539.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4550                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4550.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4553                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4553.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F458                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F458.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4580                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4580.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4610                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4610.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4682                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4682.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4685                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4685.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F46J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F46J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F46J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F46J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F46K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F46K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6310                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6310.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6390                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6390.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6393                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6393.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F63J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F63J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F63J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F63J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6490                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6490.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6493                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6493.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F64J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F64J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F64J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F64J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6527                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6527.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6621                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6621.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6622                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6622.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6627                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6627.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6628                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6628.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J16                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J16.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J55                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J55.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J65                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J65.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6720                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6720.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6722                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6722.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6723                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6723.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8310                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8310.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8390                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8390.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8393                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8393.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F83J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F83J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F83J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F83J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8490                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8490.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8493                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8493.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F84J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F84J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F84J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F84J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8527                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8527.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8621                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8621.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8622                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8622.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8627                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8627.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8628                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8628.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J16                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J16.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J55                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J55.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J65                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J65.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8720                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8720.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8722                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8722.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8723                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8723.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F96J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F96J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F96J65                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F96J65.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F97J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F97J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L13K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L13K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L13K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L13K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L14K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L14K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L14K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L14K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L24J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L24J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L24J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L24J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L25J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L25J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L25J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L25J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L26J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L26J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L26J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L26J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L44J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L44J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L44J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L44J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L45J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L45J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L45J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L45J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L46J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L46J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L46J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L46J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                                                                                                            C:\MCC18\mpasm\p18cxxx.inc
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;/********************************************************************           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*   Function Name: Delay10KTCYx                                     *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*   Return Value:  void                                             *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*   Parameters:    unit:                                            *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*   Description:   This routine delays for multiples of 10000       *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*                  instruction cycles that is specified in unit.    *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*   Special Note:  This routine provides multiples of 10000 Tcy     *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*                  A value of 1 to 255 to provides 10000 to         *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*                  2550000 Tcy delay.  A value of 0 will            *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;*                  provide a delay of 2560000 Tcy.                  *           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           ;********************************************************************/           C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                               EXTERN   DelayCounter1, DelayCounter2                                        C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           D10KTCYXCODE CODE                                                                C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           Delay10KTCYx                                                                     C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c22   0eff     MOVLW     0xff               movlw   0xff                                                                 C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c24   50e3     MOVF      0xe3,0x0,0x0       movf    PLUSW1,0                                                             C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c26   6e14     MOVWF     0x14,0x0           movwf   DelayCounter1                                                        C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c28   0eef     MOVLW     0xef               movlw   0xef                                                                 C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c2a   d001     BRA       0x2c2e             bra     D10K_1                                                               C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           D10Kx                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c2c   0ef3     MOVLW     0xf3               movlw   0xf3                                                                 C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           D10K_1                                                                           C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c2e   6ee7     MOVWF     0xe7,0x0           movwf   INDF1                                                                C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c30   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz  INDF1,1                                                              C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c32   ef18     GOTO      0x2c30             goto    $-2                                                                  C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c34   f016                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c36   0e0c     MOVLW     0xc                movlw   0x0c                                                                 C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c38   6e13     MOVWF     0x13,0x0           movwf   DelayCounter2                                                        C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           D10Kl                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c3a   6ae7     CLRF      0xe7,0x0           clrf    INDF1                                                                C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c3c   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz  INDF1,1                                                              C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c3e   ef1e     GOTO      0x2c3c             goto    $-2                                                                  C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c40   f016                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c42   2e13     DECFSZ    0x13,0x1,0x0       decfsz  DelayCounter2,1                                                      C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c44   ef1d     GOTO      0x2c3a             goto    D10Kl                                                                C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c46   f016                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c48   2e14     DECFSZ    0x14,0x1,0x0       decfsz  DelayCounter1,1                                                      C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c4a   ef16     GOTO      0x2c2c             goto    D10Kx                                                                C:\MCC18\src\traditional\delays\d10ktcyx.asm
002c4c   f016                                                                                                               
002c4e   0012     RETURN    0x0                return                                                                       C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                               GLOBAL  Delay10KTCYx                                                         C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                               END                                                                          C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d10ktcyx.asm
                                           #include "p18cxxx.inc"                                                           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                   LIST                                                                     C:\MCC18\mpasm\p18cxxx.inc
                                           ; P18CXXX.INC  Standard Header File, Microchip Technology, Inc.                  C:\MCC18\mpasm\p18cxxx.inc
                                                   LIST                                                                     C:\MCC18\mpasm\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.12   Microchip Technology, Inc.   C:\MCC18\mpasm\P18C452.INC
                                                   LIST                                                                     C:\MCC18\mpasm\P18C452.INC
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C242                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C242.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C252                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C252.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C442                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C442.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C452                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C452.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C601                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C601.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C658                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C658.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C801                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C801.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18C858                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18C858.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1220                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1220.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1230                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1230.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1320                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1320.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F1330                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F1330.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F13K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F13K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F13K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F13K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F14K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F14K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F14K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F14K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2220                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2220.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2221                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2221.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2320                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2320.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2321                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2321.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2331                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2331.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F242                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F242.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2420                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2420.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2423                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2423.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2431                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2431.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2439                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2439.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2450                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2450.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2455                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2455.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2458                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2458.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F248                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F248.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2480                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2480.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F24K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F24K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2510                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2510.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2515                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2515.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F252                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F252.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2523                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2523.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2539                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2539.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2550                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2550.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2553                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2553.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F258                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F258.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2580                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2580.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F25K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F25K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2610                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2610.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2682                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2682.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F2685                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F2685.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F26J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F26J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F26J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F26J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F26K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F26K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4220                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4220.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4221                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4221.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4320                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4320.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4321                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4321.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4331                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4331.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F442                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F442.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4420                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4420.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4423                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4423.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4431                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4431.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4439                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4439.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4450                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4450.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4455                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4455.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4458                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4458.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F448                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F448.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4480                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4480.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F44K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F44K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4510                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4510.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4515                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4515.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F452                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F452.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4523                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4523.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4539                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4539.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4550                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4550.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4553                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4553.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F458                                                                 C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F458.INC>                                                       C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4580                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4580.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F45K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F45K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4610                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4610.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4682                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4682.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F4685                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F4685.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F46J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F46J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F46J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F46J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F46K20                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F46K20.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6310                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6310.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6390                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6390.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6393                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6393.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F63J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F63J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F63J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F63J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6490                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6490.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6493                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6493.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F64J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F64J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F64J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F64J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6527                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6527.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F65J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F65J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6621                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6621.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6622                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6622.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6627                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6627.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6628                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6628.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J16                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J16.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J55                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J55.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J65                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J65.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F66J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F66J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6720                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6720.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6722                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6722.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F6723                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F6723.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F67J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F67J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8310                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8310.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8390                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8390.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8393                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8393.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F83J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F83J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F83J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F83J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8410                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8410.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8490                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8490.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8493                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8493.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F84J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F84J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F84J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F84J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8520                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8520.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8525                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8525.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8527                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8527.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8585                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8585.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F85J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F85J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8620                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8620.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8621                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8621.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8622                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8622.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8627                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8627.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8628                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8628.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8680                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8680.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J15                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J15.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J16                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J16.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J55                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J55.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J65                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J65.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F86J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F86J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8720                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8720.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8722                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8722.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F8723                                                                C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F8723.INC>                                                      C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J10                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J10.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F87J90                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F87J90.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F96J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F96J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F96J65                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F96J65.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18F97J60                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18F97J60.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L13K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L13K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L13K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L13K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L14K22                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L14K22.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L14K50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L14K50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L24J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L24J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L24J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L24J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L25J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L25J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L25J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L25J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L26J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L26J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L26J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L26J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L44J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L44J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L44J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L44J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L45J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L45J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L45J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L45J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L46J11                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L46J11.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                             IFDEF __18L46J50                                                               C:\MCC18\mpasm\p18cxxx.inc
                                                INCLUDE <p18L46J50.INC>                                                     C:\MCC18\mpasm\p18cxxx.inc
                                             ENDIF                                                                          C:\MCC18\mpasm\p18cxxx.inc
                                                                                                                            C:\MCC18\mpasm\p18cxxx.inc
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;/********************************************************************           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*   Function Name: Delay1KTCYx                                      *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*   Return Value:  void                                             *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*   Parameters:    unit:                                            *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*   Description:   This routine delays for multiples of 1000        *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*                  instruction cycles that is specified in unit.    *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*   Special Note:  This routine provides multiples of 1000 Tcy      *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*                  A value of 1 to 255 to provides 1000 to          *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*                  255000 Tcy delay.  A value of 0 will provide     *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;*                  a delay of 256000 Tcy.                           *           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           ;********************************************************************/           C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                               EXTERN  DelayCounter1                                                        C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           D1KTCYXCODE CODE                                                                 C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           Delay1KTCYx                                                                      C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c50   0eff     MOVLW     0xff               movlw   0xff                                                                 C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c52   50e3     MOVF      0xe3,0x0,0x0       movf    PLUSW1,0                                                             C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c54   6e14     MOVWF     0x14,0x0           movwf   DelayCounter1                                                        C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c56   0e48     MOVLW     0x48               movlw   0x48                                                                 C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c58   d001     BRA       0x2c5c             bra     D1K_1                                                                C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           D1Kx                                                                             C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c5a   0e4c     MOVLW     0x4c               movlw   0x4c                                                                 C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           D1K_1                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c5c   6ee7     MOVWF     0xe7,0x0           movwf   INDF1                                                                C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c5e   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz  INDF1,1                                                              C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c60   d7fe     BRA       0x2c5e             bra     $-2                                                                  C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c62   6ae7     CLRF      0xe7,0x0           clrf    INDF1                                                                C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c64   2ee7     DECFSZ    0xe7,0x1,0x0       decfsz  INDF1,1                                                              C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c66   d7fe     BRA       0x2c64             bra     $-2                                                                  C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c68   2e14     DECFSZ    0x14,0x1,0x0       decfsz  DelayCounter1,1                                                      C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c6a   d7f7     BRA       0x2c5a             bra     D1Kx                                                                 C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c6c   0000     NOP                          nop                                                                          C:\MCC18\src\traditional\delays\d1ktcyx.asm
002c6e   0012     RETURN    0x0                return                                                                       C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                               GLOBAL  Delay1KTCYx                                                          C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                               END                                                                          C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                                                                                                            C:\MCC18\src\traditional\delays\d1ktcyx.asm
                                           DELAYDAT1      UDATA_ACS                                                         C:\MCC18\src\traditional\delays\delayd1.asm
                                                                                                                            C:\MCC18\src\traditional\delays\delayd1.asm
                                           DelayCounter1  RES 1                                                             C:\MCC18\src\traditional\delays\delayd1.asm
                                                                                                                            C:\MCC18\src\traditional\delays\delayd1.asm
                                                          GLOBAL DelayCounter1                                              C:\MCC18\src\traditional\delays\delayd1.asm
                                           	                                                                                C:\MCC18\src\traditional\delays\delayd1.asm
                                           	       END                                                                      C:\MCC18\src\traditional\delays\delayd1.asm
                                           DELAYDAT2      UDATA_ACS                                                         C:\MCC18\src\traditional\delays\delayd2.asm
                                                                                                                            C:\MCC18\src\traditional\delays\delayd2.asm
                                           DelayCounter2  RES 1                                                             C:\MCC18\src\traditional\delays\delayd2.asm
                                                                                                                            C:\MCC18\src\traditional\delays\delayd2.asm
                                                          GLOBAL DelayCounter2                                              C:\MCC18\src\traditional\delays\delayd2.asm
                                           	                                                                                C:\MCC18\src\traditional\delays\delayd2.asm
                                           	       END                                                                      C:\MCC18\src\traditional\delays\delayd2.asm
                                           ;	RCS Header $Id: aarg.asm,v 1.3 2006/01/12 23:16:38 rhinec Exp $                C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                           ;******************************************************************************* C:\MCC18\src\traditional\math\aarg.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\src\traditional\math\aarg.asm
                                           ;******************************************************************************* C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                           __REMB3                                                                          C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB7		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __REMB2                                                                          C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB6		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __REMB1                                                                          C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB5		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __REMB0                                                                          C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB4		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB3		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB2		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB1		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           __AARGB0		RES 1                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                           __AEXP		RES 1       ; 8 bit biased exponent for argument A                       C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                           	GLOBAL	__AARGB0, __AARGB1, __AARGB2, __AARGB3                                   C:\MCC18\src\traditional\math\aarg.asm
                                                   GLOBAL  __AARGB4, __AARGB5, __AARGB6, __AARGB7                           C:\MCC18\src\traditional\math\aarg.asm
                                           	GLOBAL  __AEXP                                                                  C:\MCC18\src\traditional\math\aarg.asm
                                           	GLOBAL  __REMB3, __REMB2, __REMB1, __REMB0                                      C:\MCC18\src\traditional\math\aarg.asm
                                                                                                                            C:\MCC18\src\traditional\math\aarg.asm
                                                   END                                                                      C:\MCC18\src\traditional\math\aarg.asm
                                           ;	RCS Header $Id: cmath18.asm,v 1.5 2006/01/12 23:16:38 rhinec Exp $             C:\MCC18\src\traditional\math\cmath18.asm
                                                                                                                            C:\MCC18\src\traditional\math\cmath18.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\src\traditional\math\cmath18.asm
                                                                                                                            C:\MCC18\src\traditional\math\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\src\traditional\math\cmath18.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\src\traditional\math\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\src\traditional\math\cmath18.asm
                                                                                                                            C:\MCC18\src\traditional\math\cmath18.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\src\traditional\math\cmath18.asm
                                                                                                                            C:\MCC18\src\traditional\math\cmath18.asm
                                           SIGN		RES 1       ; save location for sign in MSB                                C:\MCC18\src\traditional\math\cmath18.asm
                                           __FPFLAGSbits                                                                    C:\MCC18\src\traditional\math\cmath18.asm
                                           __FPFLAGS		RES 1       ; floating point library exception flags                  C:\MCC18\src\traditional\math\cmath18.asm
                                                                                                                            C:\MCC18\src\traditional\math\cmath18.asm
                                                   GLOBAL  SIGN, __FPFLAGS, __FPFLAGSbits                                   C:\MCC18\src\traditional\math\cmath18.asm
                                           	                                                                                C:\MCC18\src\traditional\math\cmath18.asm
                                                   END                                                                      C:\MCC18\src\traditional\math\cmath18.asm
                                                                                                                            C:\MCC18\src\traditional\stdclib\__init.c
                                           /** @name __init                                                                 C:\MCC18\src\traditional\stdclib\__init.c
                                            * The {\bf __init} is called if the linker can not find a                       C:\MCC18\src\traditional\stdclib\__init.c
                                            * user defined version for it                                                   C:\MCC18\src\traditional\stdclib\__init.c
                                            */                                                                              C:\MCC18\src\traditional\stdclib\__init.c
                                                                                                                            C:\MCC18\src\traditional\stdclib\__init.c
                                           void __init (void)                                                               C:\MCC18\src\traditional\stdclib\__init.c
                                           {                                                                                C:\MCC18\src\traditional\stdclib\__init.c
002c9a   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\stdclib\__init.c
                                                                                                                            C:\MCC18\src\traditional\stdclib\__init.c
